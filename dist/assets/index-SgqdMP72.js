function _x(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Sx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var jg={exports:{}},Dl={},Dg={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=Symbol.for("react.element"),kx=Symbol.for("react.portal"),Ex=Symbol.for("react.fragment"),Cx=Symbol.for("react.strict_mode"),Nx=Symbol.for("react.profiler"),jx=Symbol.for("react.provider"),Dx=Symbol.for("react.context"),Px=Symbol.for("react.forward_ref"),Ax=Symbol.for("react.suspense"),Ix=Symbol.for("react.memo"),Tx=Symbol.for("react.lazy"),Mh=Symbol.iterator;function Ox(e){return e===null||typeof e!="object"?null:(e=Mh&&e[Mh]||e["@@iterator"],typeof e=="function"?e:null)}var Pg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ag=Object.assign,Ig={};function Ys(e,t,r){this.props=e,this.context=t,this.refs=Ig,this.updater=r||Pg}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tg(){}Tg.prototype=Ys.prototype;function Kd(e,t,r){this.props=e,this.context=t,this.refs=Ig,this.updater=r||Pg}var Jd=Kd.prototype=new Tg;Jd.constructor=Kd;Ag(Jd,Ys.prototype);Jd.isPureReactComponent=!0;var Bh=Array.isArray,Og=Object.prototype.hasOwnProperty,Qd={current:null},Rg={key:!0,ref:!0,__self:!0,__source:!0};function $g(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Og.call(t,n)&&!Rg.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Oo,type:e,key:i,ref:o,props:s,_owner:Qd.current}}function Rx(e,t){return{$$typeof:Oo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oo}function $x(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Uh=/\/+/g;function Lc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$x(""+e.key):t.toString(36)}function Sa(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Oo:case kx:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Lc(o,0):n,Bh(s)?(r="",e!=null&&(r=e.replace(Uh,"$&/")+"/"),Sa(s,t,r,"",function(c){return c})):s!=null&&(Yd(s)&&(s=Rx(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Uh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Bh(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Lc(i,a);o+=Sa(i,t,r,l,s)}else if(l=Ox(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Lc(i,a++),o+=Sa(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Jo(e,t,r){if(e==null)return e;var n=[],s=0;return Sa(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Lx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},ka={transition:null},Fx={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:ka,ReactCurrentOwner:Qd};function Lg(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Jo,forEach:function(e,t,r){Jo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Jo(e,function(){t++}),t},toArray:function(e){return Jo(e,function(t){return t})||[]},only:function(e){if(!Yd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Ys;he.Fragment=Ex;he.Profiler=Nx;he.PureComponent=Kd;he.StrictMode=Cx;he.Suspense=Ax;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fx;he.act=Lg;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ag({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Qd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Og.call(t,l)&&!Rg.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Oo,type:e.type,key:s,ref:i,props:n,_owner:o}};he.createContext=function(e){return e={$$typeof:Dx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jx,_context:e},e.Consumer=e};he.createElement=$g;he.createFactory=function(e){var t=$g.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:Px,render:e}};he.isValidElement=Yd;he.lazy=function(e){return{$$typeof:Tx,_payload:{_status:-1,_result:e},_init:Lx}};he.memo=function(e,t){return{$$typeof:Ix,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=ka.transition;ka.transition={};try{e()}finally{ka.transition=t}};he.unstable_act=Lg;he.useCallback=function(e,t){return vt.current.useCallback(e,t)};he.useContext=function(e){return vt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};he.useEffect=function(e,t){return vt.current.useEffect(e,t)};he.useId=function(){return vt.current.useId()};he.useImperativeHandle=function(e,t,r){return vt.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return vt.current.useMemo(e,t)};he.useReducer=function(e,t,r){return vt.current.useReducer(e,t,r)};he.useRef=function(e){return vt.current.useRef(e)};he.useState=function(e){return vt.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return vt.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return vt.current.useTransition()};he.version="18.3.1";Dg.exports=he;var x=Dg.exports;const ce=Zd(x),Mx=_x({__proto__:null,default:ce},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx=x,Ux=Symbol.for("react.element"),zx=Symbol.for("react.fragment"),Vx=Object.prototype.hasOwnProperty,Wx=Bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gx={key:!0,ref:!0,__self:!0,__source:!0};function Fg(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Vx.call(t,n)&&!Gx.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Ux,type:e,key:i,ref:o,props:s,_owner:Wx.current}}Dl.Fragment=zx;Dl.jsx=Fg;Dl.jsxs=Fg;jg.exports=Dl;var h=jg.exports,Mg={exports:{}},Ft={},Bg={exports:{}},Ug={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,N){var L=$.length;$.push(N);e:for(;0<L;){var X=L-1>>>1,z=$[X];if(0<s(z,N))$[X]=N,$[L]=z,L=X;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var N=$[0],L=$.pop();if(L!==N){$[0]=L;e:for(var X=0,z=$.length,oe=z>>>1;X<oe;){var K=2*(X+1)-1,Xe=$[K],Ge=K+1,xt=$[Ge];if(0>s(Xe,L))Ge<z&&0>s(xt,Xe)?($[X]=xt,$[Ge]=L,X=Ge):($[X]=Xe,$[K]=L,X=K);else if(Ge<z&&0>s(xt,L))$[X]=xt,$[Ge]=L,X=Ge;else break e}}return N}function s($,N){var L=$.sortIndex-N.sortIndex;return L!==0?L:$.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,w=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var N=r(c);N!==null;){if(N.callback===null)n(c);else if(N.startTime<=$)n(c),N.sortIndex=N.expirationTime,t(l,N);else break;N=r(c)}}function S($){if(g=!1,v($),!w)if(r(l)!==null)w=!0,ne(k);else{var N=r(c);N!==null&&fe(S,N.startTime-$)}}function k($,N){w=!1,g&&(g=!1,y(C),C=-1),p=!0;var L=f;try{for(v(N),d=r(l);d!==null&&(!(d.expirationTime>N)||$&&!G());){var X=d.callback;if(typeof X=="function"){d.callback=null,f=d.priorityLevel;var z=X(d.expirationTime<=N);N=e.unstable_now(),typeof z=="function"?d.callback=z:d===r(l)&&n(l),v(N)}else n(l);d=r(l)}if(d!==null)var oe=!0;else{var K=r(c);K!==null&&fe(S,K.startTime-N),oe=!1}return oe}finally{d=null,f=L,p=!1}}var j=!1,A=null,C=-1,I=5,D=-1;function G(){return!(e.unstable_now()-D<I)}function B(){if(A!==null){var $=e.unstable_now();D=$;var N=!0;try{N=A(!0,$)}finally{N?W():(j=!1,A=null)}}else j=!1}var W;if(typeof m=="function")W=function(){m(B)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,T=ue.port2;ue.port1.onmessage=B,W=function(){T.postMessage(null)}}else W=function(){b(B,0)};function ne($){A=$,j||(j=!0,W())}function fe($,N){C=b(function(){$(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,ne(k))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var L=f;f=N;try{return $()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,N){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var L=f;f=$;try{return N()}finally{f=L}},e.unstable_scheduleCallback=function($,N,L){var X=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?X+L:X):L=X,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=L+z,$={id:u++,callback:N,priorityLevel:$,startTime:L,expirationTime:z,sortIndex:-1},L>X?($.sortIndex=L,t(c,$),r(l)===null&&$===r(c)&&(g?(y(C),C=-1):g=!0,fe(S,L-X))):($.sortIndex=z,t(l,$),w||p||(w=!0,ne(k))),$},e.unstable_shouldYield=G,e.unstable_wrapCallback=function($){var N=f;return function(){var L=f;f=N;try{return $.apply(this,arguments)}finally{f=L}}}})(Ug);Bg.exports=Ug;var Hx=Bg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=x,Lt=Hx;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zg=new Set,Hi={};function es(e,t){Rs(e,t),Rs(e+"Capture",t)}function Rs(e,t){for(Hi[e]=t,e=0;e<t.length;e++)zg.add(t[e])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pu=Object.prototype.hasOwnProperty,Zx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zh={},Vh={};function Kx(e){return Pu.call(Vh,e)?!0:Pu.call(zh,e)?!1:Zx.test(e)?Vh[e]=!0:(zh[e]=!0,!1)}function Jx(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qx(e,t,r,n){if(t===null||typeof t>"u"||Jx(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xd=/[\-:]([a-z])/g;function ef(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xd,ef);nt[t]=new wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xd,ef);nt[t]=new wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xd,ef);nt[t]=new wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new wt(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function tf(e,t,r,n){var s=nt.hasOwnProperty(t)?nt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qx(t,r,s,n)&&(r=null),n||s===null?Kx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ur=qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qo=Symbol.for("react.element"),ps=Symbol.for("react.portal"),ms=Symbol.for("react.fragment"),rf=Symbol.for("react.strict_mode"),Au=Symbol.for("react.profiler"),Vg=Symbol.for("react.provider"),Wg=Symbol.for("react.context"),nf=Symbol.for("react.forward_ref"),Iu=Symbol.for("react.suspense"),Tu=Symbol.for("react.suspense_list"),sf=Symbol.for("react.memo"),qr=Symbol.for("react.lazy"),Gg=Symbol.for("react.offscreen"),Wh=Symbol.iterator;function li(e){return e===null||typeof e!="object"?null:(e=Wh&&e[Wh]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,Fc;function _i(e){if(Fc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fc=t&&t[1]||""}return`
`+Fc+e}var Mc=!1;function Bc(e,t){if(!e||Mc)return"";Mc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_i(e):""}function Yx(e){switch(e.tag){case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 2:case 15:return e=Bc(e.type,!1),e;case 11:return e=Bc(e.type.render,!1),e;case 1:return e=Bc(e.type,!0),e;default:return""}}function Ou(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ms:return"Fragment";case ps:return"Portal";case Au:return"Profiler";case rf:return"StrictMode";case Iu:return"Suspense";case Tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wg:return(e.displayName||"Context")+".Consumer";case Vg:return(e._context.displayName||"Context")+".Provider";case nf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sf:return t=e.displayName||null,t!==null?t:Ou(e.type)||"Memo";case qr:t=e._payload,e=e._init;try{return Ou(e(t))}catch{}}return null}function Xx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ou(t);case 8:return t===rf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eb(e){var t=Hg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yo(e){e._valueTracker||(e._valueTracker=eb(e))}function qg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Hg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Fa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ru(e,t){var r=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Gh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=gn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zg(e,t){t=t.checked,t!=null&&tf(e,"checked",t,!1)}function $u(e,t){Zg(e,t);var r=gn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lu(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lu(e,t,r){(t!=="number"||Fa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Si=Array.isArray;function Ns(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+gn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(R(92));if(Si(r)){if(1<r.length)throw Error(R(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:gn(r)}}function Kg(e,t){var r=gn(t.value),n=gn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Zh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xo,Qg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xo=Xo||document.createElement("div"),Xo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tb=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(e){tb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Di[t]=Di[e]})});function Yg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Di.hasOwnProperty(e)&&Di[e]?(""+t).trim():t+"px"}function Xg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Yg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var rb=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bu(e,t){if(t){if(rb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Uu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=null;function of(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vu=null,js=null,Ds=null;function Kh(e){if(e=Lo(e)){if(typeof Vu!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Ol(t),Vu(e.stateNode,e.type,t))}}function ey(e){js?Ds?Ds.push(e):Ds=[e]:js=e}function ty(){if(js){var e=js,t=Ds;if(Ds=js=null,Kh(e),t)for(e=0;e<t.length;e++)Kh(t[e])}}function ry(e,t){return e(t)}function ny(){}var Uc=!1;function sy(e,t,r){if(Uc)return e(t,r);Uc=!0;try{return ry(e,t,r)}finally{Uc=!1,(js!==null||Ds!==null)&&(ny(),ty())}}function Zi(e,t){var r=e.stateNode;if(r===null)return null;var n=Ol(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(R(231,t,typeof r));return r}var Wu=!1;if(Rr)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){Wu=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{Wu=!1}function nb(e,t,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Pi=!1,Ma=null,Ba=!1,Gu=null,sb={onError:function(e){Pi=!0,Ma=e}};function ib(e,t,r,n,s,i,o,a,l){Pi=!1,Ma=null,nb.apply(sb,arguments)}function ob(e,t,r,n,s,i,o,a,l){if(ib.apply(this,arguments),Pi){if(Pi){var c=Ma;Pi=!1,Ma=null}else throw Error(R(198));Ba||(Ba=!0,Gu=c)}}function ts(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function iy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jh(e){if(ts(e)!==e)throw Error(R(188))}function ab(e){var t=e.alternate;if(!t){if(t=ts(e),t===null)throw Error(R(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Jh(s),e;if(i===n)return Jh(s),t;i=i.sibling}throw Error(R(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?e:t}function oy(e){return e=ab(e),e!==null?ay(e):null}function ay(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ay(e);if(t!==null)return t;e=e.sibling}return null}var ly=Lt.unstable_scheduleCallback,Qh=Lt.unstable_cancelCallback,lb=Lt.unstable_shouldYield,cb=Lt.unstable_requestPaint,$e=Lt.unstable_now,ub=Lt.unstable_getCurrentPriorityLevel,af=Lt.unstable_ImmediatePriority,cy=Lt.unstable_UserBlockingPriority,Ua=Lt.unstable_NormalPriority,db=Lt.unstable_LowPriority,uy=Lt.unstable_IdlePriority,Pl=null,xr=null;function fb(e){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(Pl,e,void 0,(e.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:mb,hb=Math.log,pb=Math.LN2;function mb(e){return e>>>=0,e===0?32:31-(hb(e)/pb|0)|0}var ea=64,ta=4194304;function ki(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function za(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ki(a):(i&=o,i!==0&&(n=ki(i)))}else o=r&~s,o!==0?n=ki(o):i!==0&&(n=ki(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-cr(t),s=1<<r,n|=e[r],t&=~s;return n}function gb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-cr(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=gb(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Hu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dy(){var e=ea;return ea<<=1,!(ea&4194240)&&(ea=64),e}function zc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ro(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cr(t),e[t]=r}function vb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-cr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function lf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-cr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var xe=0;function fy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hy,cf,py,my,gy,qu=!1,ra=[],sn=null,on=null,an=null,Ki=new Map,Ji=new Map,Jr=[],wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yh(e,t){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(t.pointerId)}}function ui(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Lo(t),t!==null&&cf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function xb(e,t,r,n,s){switch(t){case"focusin":return sn=ui(sn,e,t,r,n,s),!0;case"dragenter":return on=ui(on,e,t,r,n,s),!0;case"mouseover":return an=ui(an,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ki.set(i,ui(Ki.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ji.set(i,ui(Ji.get(i)||null,e,t,r,n,s)),!0}return!1}function yy(e){var t=Rn(e.target);if(t!==null){var r=ts(t);if(r!==null){if(t=r.tag,t===13){if(t=iy(r),t!==null){e.blockedOn=t,gy(e.priority,function(){py(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ea(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zu=n,r.target.dispatchEvent(n),zu=null}else return t=Lo(r),t!==null&&cf(t),e.blockedOn=r,!1;t.shift()}return!0}function Xh(e,t,r){Ea(e)&&r.delete(t)}function bb(){qu=!1,sn!==null&&Ea(sn)&&(sn=null),on!==null&&Ea(on)&&(on=null),an!==null&&Ea(an)&&(an=null),Ki.forEach(Xh),Ji.forEach(Xh)}function di(e,t){e.blockedOn===t&&(e.blockedOn=null,qu||(qu=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,bb)))}function Qi(e){function t(s){return di(s,e)}if(0<ra.length){di(ra[0],e);for(var r=1;r<ra.length;r++){var n=ra[r];n.blockedOn===e&&(n.blockedOn=null)}}for(sn!==null&&di(sn,e),on!==null&&di(on,e),an!==null&&di(an,e),Ki.forEach(t),Ji.forEach(t),r=0;r<Jr.length;r++)n=Jr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Jr.length&&(r=Jr[0],r.blockedOn===null);)yy(r),r.blockedOn===null&&Jr.shift()}var Ps=Ur.ReactCurrentBatchConfig,Va=!0;function _b(e,t,r,n){var s=xe,i=Ps.transition;Ps.transition=null;try{xe=1,uf(e,t,r,n)}finally{xe=s,Ps.transition=i}}function Sb(e,t,r,n){var s=xe,i=Ps.transition;Ps.transition=null;try{xe=4,uf(e,t,r,n)}finally{xe=s,Ps.transition=i}}function uf(e,t,r,n){if(Va){var s=Zu(e,t,r,n);if(s===null)Yc(e,t,n,Wa,r),Yh(e,n);else if(xb(s,e,t,r,n))n.stopPropagation();else if(Yh(e,n),t&4&&-1<wb.indexOf(e)){for(;s!==null;){var i=Lo(s);if(i!==null&&hy(i),i=Zu(e,t,r,n),i===null&&Yc(e,t,n,Wa,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Yc(e,t,n,null,r)}}var Wa=null;function Zu(e,t,r,n){if(Wa=null,e=of(n),e=Rn(e),e!==null)if(t=ts(e),t===null)e=null;else if(r=t.tag,r===13){if(e=iy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wa=e,null}function vy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ub()){case af:return 1;case cy:return 4;case Ua:case db:return 16;case uy:return 536870912;default:return 16}default:return 16}}var tn=null,df=null,Ca=null;function wy(){if(Ca)return Ca;var e,t=df,r=t.length,n,s="value"in tn?tn.value:tn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Ca=s.slice(e,1<n?1-n:void 0)}function Na(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function na(){return!0}function ep(){return!1}function Mt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?na:ep,this.isPropagationStopped=ep,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),t}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ff=Mt(Xs),$o=Oe({},Xs,{view:0,detail:0}),kb=Mt($o),Vc,Wc,fi,Al=Oe({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(Vc=e.screenX-fi.screenX,Wc=e.screenY-fi.screenY):Wc=Vc=0,fi=e),Vc)},movementY:function(e){return"movementY"in e?e.movementY:Wc}}),tp=Mt(Al),Eb=Oe({},Al,{dataTransfer:0}),Cb=Mt(Eb),Nb=Oe({},$o,{relatedTarget:0}),Gc=Mt(Nb),jb=Oe({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Db=Mt(jb),Pb=Oe({},Xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ab=Mt(Pb),Ib=Oe({},Xs,{data:0}),rp=Mt(Ib),Tb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ob={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $b(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rb[e])?!!t[e]:!1}function hf(){return $b}var Lb=Oe({},$o,{key:function(e){if(e.key){var t=Tb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ob[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hf,charCode:function(e){return e.type==="keypress"?Na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fb=Mt(Lb),Mb=Oe({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),np=Mt(Mb),Bb=Oe({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hf}),Ub=Mt(Bb),zb=Oe({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vb=Mt(zb),Wb=Oe({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gb=Mt(Wb),Hb=[9,13,27,32],pf=Rr&&"CompositionEvent"in window,Ai=null;Rr&&"documentMode"in document&&(Ai=document.documentMode);var qb=Rr&&"TextEvent"in window&&!Ai,xy=Rr&&(!pf||Ai&&8<Ai&&11>=Ai),sp=" ",ip=!1;function by(e,t){switch(e){case"keyup":return Hb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _y(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gs=!1;function Zb(e,t){switch(e){case"compositionend":return _y(t);case"keypress":return t.which!==32?null:(ip=!0,sp);case"textInput":return e=t.data,e===sp&&ip?null:e;default:return null}}function Kb(e,t){if(gs)return e==="compositionend"||!pf&&by(e,t)?(e=wy(),Ca=df=tn=null,gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xy&&t.locale!=="ko"?null:t.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jb[e.type]:t==="textarea"}function Sy(e,t,r,n){ey(n),t=Ga(t,"onChange"),0<t.length&&(r=new ff("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ii=null,Yi=null;function Qb(e){Oy(e,0)}function Il(e){var t=ws(e);if(qg(t))return e}function Yb(e,t){if(e==="change")return t}var ky=!1;if(Rr){var Hc;if(Rr){var qc="oninput"in document;if(!qc){var ap=document.createElement("div");ap.setAttribute("oninput","return;"),qc=typeof ap.oninput=="function"}Hc=qc}else Hc=!1;ky=Hc&&(!document.documentMode||9<document.documentMode)}function lp(){Ii&&(Ii.detachEvent("onpropertychange",Ey),Yi=Ii=null)}function Ey(e){if(e.propertyName==="value"&&Il(Yi)){var t=[];Sy(t,Yi,e,of(e)),sy(Qb,t)}}function Xb(e,t,r){e==="focusin"?(lp(),Ii=t,Yi=r,Ii.attachEvent("onpropertychange",Ey)):e==="focusout"&&lp()}function e_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(Yi)}function t_(e,t){if(e==="click")return Il(t)}function r_(e,t){if(e==="input"||e==="change")return Il(t)}function n_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fr=typeof Object.is=="function"?Object.is:n_;function Xi(e,t){if(fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Pu.call(t,s)||!fr(e[s],t[s]))return!1}return!0}function cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function up(e,t){var r=cp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cp(r)}}function Cy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ny(){for(var e=window,t=Fa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Fa(e.document)}return t}function mf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function s_(e){var t=Ny(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Cy(r.ownerDocument.documentElement,r)){if(n!==null&&mf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=up(r,i);var o=up(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var i_=Rr&&"documentMode"in document&&11>=document.documentMode,ys=null,Ku=null,Ti=null,Ju=!1;function dp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ju||ys==null||ys!==Fa(n)||(n=ys,"selectionStart"in n&&mf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ti&&Xi(Ti,n)||(Ti=n,n=Ga(Ku,"onSelect"),0<n.length&&(t=new ff("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ys)))}function sa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vs={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionend:sa("Transition","TransitionEnd")},Zc={},jy={};Rr&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Tl(e){if(Zc[e])return Zc[e];if(!vs[e])return e;var t=vs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jy)return Zc[e]=t[r];return e}var Dy=Tl("animationend"),Py=Tl("animationiteration"),Ay=Tl("animationstart"),Iy=Tl("transitionend"),Ty=new Map,fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){Ty.set(e,t),es(t,[e])}for(var Kc=0;Kc<fp.length;Kc++){var Jc=fp[Kc],o_=Jc.toLowerCase(),a_=Jc[0].toUpperCase()+Jc.slice(1);Sn(o_,"on"+a_)}Sn(Dy,"onAnimationEnd");Sn(Py,"onAnimationIteration");Sn(Ay,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(Iy,"onTransitionEnd");Rs("onMouseEnter",["mouseout","mouseover"]);Rs("onMouseLeave",["mouseout","mouseover"]);Rs("onPointerEnter",["pointerout","pointerover"]);Rs("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ei));function hp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ob(n,t,void 0,e),e.currentTarget=null}function Oy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;hp(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;hp(s,a,c),i=l}}}if(Ba)throw e=Gu,Ba=!1,Gu=null,e}function Ne(e,t){var r=t[td];r===void 0&&(r=t[td]=new Set);var n=e+"__bubble";r.has(n)||(Ry(t,e,2,!1),r.add(n))}function Qc(e,t,r){var n=0;t&&(n|=4),Ry(r,e,n,t)}var ia="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[ia]){e[ia]=!0,zg.forEach(function(r){r!=="selectionchange"&&(l_.has(r)||Qc(r,!1,e),Qc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ia]||(t[ia]=!0,Qc("selectionchange",!1,t))}}function Ry(e,t,r,n){switch(vy(t)){case 1:var s=_b;break;case 4:s=Sb;break;default:s=uf}r=s.bind(null,t,r,e),s=void 0,!Wu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Yc(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Rn(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}sy(function(){var c=i,u=of(r),d=[];e:{var f=Ty.get(e);if(f!==void 0){var p=ff,w=e;switch(e){case"keypress":if(Na(r)===0)break e;case"keydown":case"keyup":p=Fb;break;case"focusin":w="focus",p=Gc;break;case"focusout":w="blur",p=Gc;break;case"beforeblur":case"afterblur":p=Gc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Cb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ub;break;case Dy:case Py:case Ay:p=Db;break;case Iy:p=Vb;break;case"scroll":p=kb;break;case"wheel":p=Gb;break;case"copy":case"cut":case"paste":p=Ab;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=np}var g=(t&4)!==0,b=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var m=c,v;m!==null;){v=m;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=Zi(m,y),S!=null&&g.push(to(m,S,v)))),b)break;m=m.return}0<g.length&&(f=new p(f,w,null,r,u),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==zu&&(w=r.relatedTarget||r.fromElement)&&(Rn(w)||w[$r]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=c,w=w?Rn(w):null,w!==null&&(b=ts(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(g=tp,S="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=np,S="onPointerLeave",y="onPointerEnter",m="pointer"),b=p==null?f:ws(p),v=w==null?f:ws(w),f=new g(S,m+"leave",p,r,u),f.target=b,f.relatedTarget=v,S=null,Rn(u)===c&&(g=new g(y,m+"enter",w,r,u),g.target=v,g.relatedTarget=b,S=g),b=S,p&&w)t:{for(g=p,y=w,m=0,v=g;v;v=os(v))m++;for(v=0,S=y;S;S=os(S))v++;for(;0<m-v;)g=os(g),m--;for(;0<v-m;)y=os(y),v--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=os(g),y=os(y)}g=null}else g=null;p!==null&&pp(d,f,p,g,!1),w!==null&&b!==null&&pp(d,b,w,g,!0)}}e:{if(f=c?ws(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=Yb;else if(op(f))if(ky)k=r_;else{k=e_;var j=Xb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=t_);if(k&&(k=k(e,c))){Sy(d,k,r,u);break e}j&&j(e,f,c),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Lu(f,"number",f.value)}switch(j=c?ws(c):window,e){case"focusin":(op(j)||j.contentEditable==="true")&&(ys=j,Ku=c,Ti=null);break;case"focusout":Ti=Ku=ys=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,dp(d,r,u);break;case"selectionchange":if(i_)break;case"keydown":case"keyup":dp(d,r,u)}var A;if(pf)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else gs?by(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(xy&&r.locale!=="ko"&&(gs||C!=="onCompositionStart"?C==="onCompositionEnd"&&gs&&(A=wy()):(tn=u,df="value"in tn?tn.value:tn.textContent,gs=!0)),j=Ga(c,C),0<j.length&&(C=new rp(C,e,null,r,u),d.push({event:C,listeners:j}),A?C.data=A:(A=_y(r),A!==null&&(C.data=A)))),(A=qb?Zb(e,r):Kb(e,r))&&(c=Ga(c,"onBeforeInput"),0<c.length&&(u=new rp("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=A))}Oy(d,t)})}function to(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ga(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zi(e,r),i!=null&&n.unshift(to(e,i,s)),i=Zi(e,t),i!=null&&n.push(to(e,i,s))),e=e.return}return n}function os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pp(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Zi(r,i),l!=null&&o.unshift(to(r,l,a))):s||(l=Zi(r,i),l!=null&&o.push(to(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var c_=/\r\n?/g,u_=/\u0000|\uFFFD/g;function mp(e){return(typeof e=="string"?e:""+e).replace(c_,`
`).replace(u_,"")}function oa(e,t,r){if(t=mp(t),mp(e)!==t&&r)throw Error(R(425))}function Ha(){}var Qu=null,Yu=null;function Xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ed=typeof setTimeout=="function"?setTimeout:void 0,d_=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,f_=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(e){return gp.resolve(null).then(e).catch(h_)}:ed;function h_(e){setTimeout(function(){throw e})}function Xc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Qi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Qi(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ei=Math.random().toString(36).slice(2),vr="__reactFiber$"+ei,ro="__reactProps$"+ei,$r="__reactContainer$"+ei,td="__reactEvents$"+ei,p_="__reactListeners$"+ei,m_="__reactHandles$"+ei;function Rn(e){var t=e[vr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$r]||r[vr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=yp(e);e!==null;){if(r=e[vr])return r;e=yp(e)}return t}e=r,r=e.parentNode}return null}function Lo(e){return e=e[vr]||e[$r],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Ol(e){return e[ro]||null}var rd=[],xs=-1;function kn(e){return{current:e}}function je(e){0>xs||(e.current=rd[xs],rd[xs]=null,xs--)}function Ce(e,t){xs++,rd[xs]=e.current,e.current=t}var yn={},ct=kn(yn),Ct=kn(!1),Gn=yn;function $s(e,t){var r=e.type.contextTypes;if(!r)return yn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Nt(e){return e=e.childContextTypes,e!=null}function qa(){je(Ct),je(ct)}function vp(e,t,r){if(ct.current!==yn)throw Error(R(168));Ce(ct,t),Ce(Ct,r)}function $y(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(R(108,Xx(e)||"Unknown",s));return Oe({},r,n)}function Za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Gn=ct.current,Ce(ct,e),Ce(Ct,Ct.current),!0}function wp(e,t,r){var n=e.stateNode;if(!n)throw Error(R(169));r?(e=$y(e,t,Gn),n.__reactInternalMemoizedMergedChildContext=e,je(Ct),je(ct),Ce(ct,e)):je(Ct),Ce(Ct,r)}var Pr=null,Rl=!1,eu=!1;function Ly(e){Pr===null?Pr=[e]:Pr.push(e)}function g_(e){Rl=!0,Ly(e)}function En(){if(!eu&&Pr!==null){eu=!0;var e=0,t=xe;try{var r=Pr;for(xe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Pr=null,Rl=!1}catch(s){throw Pr!==null&&(Pr=Pr.slice(e+1)),ly(af,En),s}finally{xe=t,eu=!1}}return null}var bs=[],_s=0,Ka=null,Ja=0,zt=[],Vt=0,Hn=null,Ir=1,Tr="";function Pn(e,t){bs[_s++]=Ja,bs[_s++]=Ka,Ka=e,Ja=t}function Fy(e,t,r){zt[Vt++]=Ir,zt[Vt++]=Tr,zt[Vt++]=Hn,Hn=e;var n=Ir;e=Tr;var s=32-cr(n)-1;n&=~(1<<s),r+=1;var i=32-cr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ir=1<<32-cr(t)+s|r<<s|n,Tr=i+e}else Ir=1<<i|r<<s|n,Tr=e}function gf(e){e.return!==null&&(Pn(e,1),Fy(e,1,0))}function yf(e){for(;e===Ka;)Ka=bs[--_s],bs[_s]=null,Ja=bs[--_s],bs[_s]=null;for(;e===Hn;)Hn=zt[--Vt],zt[Vt]=null,Tr=zt[--Vt],zt[Vt]=null,Ir=zt[--Vt],zt[Vt]=null}var Tt=null,At=null,Pe=!1,sr=null;function My(e,t){var r=Wt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,At=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,At=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hn!==null?{id:Ir,overflow:Tr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Tt=e,At=null,!0):!1;default:return!1}}function nd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sd(e){if(Pe){var t=At;if(t){var r=t;if(!xp(e,t)){if(nd(e))throw Error(R(418));t=ln(r.nextSibling);var n=Tt;t&&xp(e,t)?My(n,r):(e.flags=e.flags&-4097|2,Pe=!1,Tt=e)}}else{if(nd(e))throw Error(R(418));e.flags=e.flags&-4097|2,Pe=!1,Tt=e}}}function bp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function aa(e){if(e!==Tt)return!1;if(!Pe)return bp(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xu(e.type,e.memoizedProps)),t&&(t=At)){if(nd(e))throw By(),Error(R(418));for(;t;)My(e,t),t=ln(t.nextSibling)}if(bp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){At=ln(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}At=null}}else At=Tt?ln(e.stateNode.nextSibling):null;return!0}function By(){for(var e=At;e;)e=ln(e.nextSibling)}function Ls(){At=Tt=null,Pe=!1}function vf(e){sr===null?sr=[e]:sr.push(e)}var y_=Ur.ReactCurrentBatchConfig;function hi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,e))}return e}function la(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _p(e){var t=e._init;return t(e._payload)}function Uy(e){function t(y,m){if(e){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=fn(y,m),y.index=0,y.sibling=null,y}function i(y,m,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,S){return m===null||m.tag!==6?(m=au(v,y.mode,S),m.return=y,m):(m=s(m,v),m.return=y,m)}function l(y,m,v,S){var k=v.type;return k===ms?u(y,m,v.props.children,S,v.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===qr&&_p(k)===m.type)?(S=s(m,v.props),S.ref=hi(y,m,v),S.return=y,S):(S=Oa(v.type,v.key,v.props,null,y.mode,S),S.ref=hi(y,m,v),S.return=y,S)}function c(y,m,v,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=lu(v,y.mode,S),m.return=y,m):(m=s(m,v.children||[]),m.return=y,m)}function u(y,m,v,S,k){return m===null||m.tag!==7?(m=Un(v,y.mode,S,k),m.return=y,m):(m=s(m,v),m.return=y,m)}function d(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=au(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Qo:return v=Oa(m.type,m.key,m.props,null,y.mode,v),v.ref=hi(y,null,m),v.return=y,v;case ps:return m=lu(m,y.mode,v),m.return=y,m;case qr:var S=m._init;return d(y,S(m._payload),v)}if(Si(m)||li(m))return m=Un(m,y.mode,v,null),m.return=y,m;la(y,m)}return null}function f(y,m,v,S){var k=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(y,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qo:return v.key===k?l(y,m,v,S):null;case ps:return v.key===k?c(y,m,v,S):null;case qr:return k=v._init,f(y,m,k(v._payload),S)}if(Si(v)||li(v))return k!==null?null:u(y,m,v,S,null);la(y,v)}return null}function p(y,m,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,a(m,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qo:return y=y.get(S.key===null?v:S.key)||null,l(m,y,S,k);case ps:return y=y.get(S.key===null?v:S.key)||null,c(m,y,S,k);case qr:var j=S._init;return p(y,m,v,j(S._payload),k)}if(Si(S)||li(S))return y=y.get(v)||null,u(m,y,S,k,null);la(m,S)}return null}function w(y,m,v,S){for(var k=null,j=null,A=m,C=m=0,I=null;A!==null&&C<v.length;C++){A.index>C?(I=A,A=null):I=A.sibling;var D=f(y,A,v[C],S);if(D===null){A===null&&(A=I);break}e&&A&&D.alternate===null&&t(y,A),m=i(D,m,C),j===null?k=D:j.sibling=D,j=D,A=I}if(C===v.length)return r(y,A),Pe&&Pn(y,C),k;if(A===null){for(;C<v.length;C++)A=d(y,v[C],S),A!==null&&(m=i(A,m,C),j===null?k=A:j.sibling=A,j=A);return Pe&&Pn(y,C),k}for(A=n(y,A);C<v.length;C++)I=p(A,y,C,v[C],S),I!==null&&(e&&I.alternate!==null&&A.delete(I.key===null?C:I.key),m=i(I,m,C),j===null?k=I:j.sibling=I,j=I);return e&&A.forEach(function(G){return t(y,G)}),Pe&&Pn(y,C),k}function g(y,m,v,S){var k=li(v);if(typeof k!="function")throw Error(R(150));if(v=k.call(v),v==null)throw Error(R(151));for(var j=k=null,A=m,C=m=0,I=null,D=v.next();A!==null&&!D.done;C++,D=v.next()){A.index>C?(I=A,A=null):I=A.sibling;var G=f(y,A,D.value,S);if(G===null){A===null&&(A=I);break}e&&A&&G.alternate===null&&t(y,A),m=i(G,m,C),j===null?k=G:j.sibling=G,j=G,A=I}if(D.done)return r(y,A),Pe&&Pn(y,C),k;if(A===null){for(;!D.done;C++,D=v.next())D=d(y,D.value,S),D!==null&&(m=i(D,m,C),j===null?k=D:j.sibling=D,j=D);return Pe&&Pn(y,C),k}for(A=n(y,A);!D.done;C++,D=v.next())D=p(A,y,C,D.value,S),D!==null&&(e&&D.alternate!==null&&A.delete(D.key===null?C:D.key),m=i(D,m,C),j===null?k=D:j.sibling=D,j=D);return e&&A.forEach(function(B){return t(y,B)}),Pe&&Pn(y,C),k}function b(y,m,v,S){if(typeof v=="object"&&v!==null&&v.type===ms&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Qo:e:{for(var k=v.key,j=m;j!==null;){if(j.key===k){if(k=v.type,k===ms){if(j.tag===7){r(y,j.sibling),m=s(j,v.props.children),m.return=y,y=m;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===qr&&_p(k)===j.type){r(y,j.sibling),m=s(j,v.props),m.ref=hi(y,j,v),m.return=y,y=m;break e}r(y,j);break}else t(y,j);j=j.sibling}v.type===ms?(m=Un(v.props.children,y.mode,S,v.key),m.return=y,y=m):(S=Oa(v.type,v.key,v.props,null,y.mode,S),S.ref=hi(y,m,v),S.return=y,y=S)}return o(y);case ps:e:{for(j=v.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(y,m.sibling),m=s(m,v.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=lu(v,y.mode,S),m.return=y,y=m}return o(y);case qr:return j=v._init,b(y,m,j(v._payload),S)}if(Si(v))return w(y,m,v,S);if(li(v))return g(y,m,v,S);la(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,v),m.return=y,y=m):(r(y,m),m=au(v,y.mode,S),m.return=y,y=m),o(y)):r(y,m)}return b}var Fs=Uy(!0),zy=Uy(!1),Qa=kn(null),Ya=null,Ss=null,wf=null;function xf(){wf=Ss=Ya=null}function bf(e){var t=Qa.current;je(Qa),e._currentValue=t}function id(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function As(e,t){Ya=e,wf=Ss=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Et=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(wf!==e)if(e={context:e,memoizedValue:t,next:null},Ss===null){if(Ya===null)throw Error(R(308));Ss=e,Ya.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var $n=null;function _f(e){$n===null?$n=[e]:$n.push(e)}function Vy(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,_f(t)):(r.next=s.next,s.next=r),t.interleaved=r,Lr(e,n)}function Lr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Zr=!1;function Sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ve&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Lr(e,r)}return s=n.interleaved,s===null?(t.next=t,_f(n)):(t.next=s.next,s.next=t),n.interleaved=t,Lr(e,r)}function ja(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,lf(e,r)}}function Sp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Xa(e,t,r,n){var s=e.updateQueue;Zr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,g=a;switch(f=t,p=r,g.tag){case 1:if(w=g.payload,typeof w=="function"){d=w.call(p,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,f=typeof w=="function"?w.call(p,d,f):w,f==null)break e;d=Oe({},d,f);break e;case 2:Zr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Zn|=o,e.lanes=o,e.memoizedState=d}}function kp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(R(191,s));s.call(n)}}}var Fo={},br=kn(Fo),no=kn(Fo),so=kn(Fo);function Ln(e){if(e===Fo)throw Error(R(174));return e}function kf(e,t){switch(Ce(so,t),Ce(no,e),Ce(br,Fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mu(t,e)}je(br),Ce(br,t)}function Ms(){je(br),je(no),je(so)}function Gy(e){Ln(so.current);var t=Ln(br.current),r=Mu(t,e.type);t!==r&&(Ce(no,e),Ce(br,r))}function Ef(e){no.current===e&&(je(br),je(no))}var Ie=kn(0);function el(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tu=[];function Cf(){for(var e=0;e<tu.length;e++)tu[e]._workInProgressVersionPrimary=null;tu.length=0}var Da=Ur.ReactCurrentDispatcher,ru=Ur.ReactCurrentBatchConfig,qn=0,Te=null,ze=null,Ze=null,tl=!1,Oi=!1,io=0,v_=0;function it(){throw Error(R(321))}function Nf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fr(e[r],t[r]))return!1;return!0}function jf(e,t,r,n,s,i){if(qn=i,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Da.current=e===null||e.memoizedState===null?__:S_,e=r(n,s),Oi){i=0;do{if(Oi=!1,io=0,25<=i)throw Error(R(301));i+=1,Ze=ze=null,t.updateQueue=null,Da.current=k_,e=r(n,s)}while(Oi)}if(Da.current=rl,t=ze!==null&&ze.next!==null,qn=0,Ze=ze=Te=null,tl=!1,t)throw Error(R(300));return e}function Df(){var e=io!==0;return io=0,e}function gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Te.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Jt(){if(ze===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Ze===null?Te.memoizedState:Ze.next;if(t!==null)Ze=t,ze=e;else{if(e===null)throw Error(R(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ze===null?Te.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function oo(e,t){return typeof t=="function"?t(e):t}function nu(e){var t=Jt(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=ze,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((qn&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,Te.lanes|=u,Zn|=u}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,fr(n,t.memoizedState)||(Et=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Te.lanes|=i,Zn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function su(e){var t=Jt(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);fr(i,t.memoizedState)||(Et=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Hy(){}function qy(e,t){var r=Te,n=Jt(),s=t(),i=!fr(n.memoizedState,s);if(i&&(n.memoizedState=s,Et=!0),n=n.queue,Pf(Jy.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,ao(9,Ky.bind(null,r,n,s,t),void 0,null),Ke===null)throw Error(R(349));qn&30||Zy(r,t,s)}return s}function Zy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ky(e,t,r,n){t.value=r,t.getSnapshot=n,Qy(t)&&Yy(e)}function Jy(e,t,r){return r(function(){Qy(t)&&Yy(e)})}function Qy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fr(e,r)}catch{return!0}}function Yy(e){var t=Lr(e,1);t!==null&&ur(t,e,1,-1)}function Ep(e){var t=gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e},t.queue=e,e=e.dispatch=b_.bind(null,Te,e),[t.memoizedState,e]}function ao(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Xy(){return Jt().memoizedState}function Pa(e,t,r,n){var s=gr();Te.flags|=e,s.memoizedState=ao(1|t,r,void 0,n===void 0?null:n)}function $l(e,t,r,n){var s=Jt();n=n===void 0?null:n;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,n!==null&&Nf(n,o.deps)){s.memoizedState=ao(t,r,i,n);return}}Te.flags|=e,s.memoizedState=ao(1|t,r,i,n)}function Cp(e,t){return Pa(8390656,8,e,t)}function Pf(e,t){return $l(2048,8,e,t)}function ev(e,t){return $l(4,2,e,t)}function tv(e,t){return $l(4,4,e,t)}function rv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nv(e,t,r){return r=r!=null?r.concat([e]):null,$l(4,4,rv.bind(null,t,e),r)}function Af(){}function sv(e,t){var r=Jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Nf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function iv(e,t){var r=Jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Nf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ov(e,t,r){return qn&21?(fr(r,t)||(r=dy(),Te.lanes|=r,Zn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Et=!0),e.memoizedState=r)}function w_(e,t){var r=xe;xe=r!==0&&4>r?r:4,e(!0);var n=ru.transition;ru.transition={};try{e(!1),t()}finally{xe=r,ru.transition=n}}function av(){return Jt().memoizedState}function x_(e,t,r){var n=dn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lv(e))cv(t,r);else if(r=Vy(e,t,r,n),r!==null){var s=gt();ur(r,e,n,s),uv(r,t,n)}}function b_(e,t,r){var n=dn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lv(e))cv(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,fr(a,o)){var l=t.interleaved;l===null?(s.next=s,_f(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Vy(e,t,s,n),r!==null&&(s=gt(),ur(r,e,n,s),uv(r,t,n))}}function lv(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function cv(e,t){Oi=tl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,lf(e,r)}}var rl={readContext:Kt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},__={readContext:Kt,useCallback:function(e,t){return gr().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Cp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Pa(4194308,4,rv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var r=gr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=gr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=x_.bind(null,Te,e),[n.memoizedState,e]},useRef:function(e){var t=gr();return e={current:e},t.memoizedState=e},useState:Ep,useDebugValue:Af,useDeferredValue:function(e){return gr().memoizedState=e},useTransition:function(){var e=Ep(!1),t=e[0];return e=w_.bind(null,e[1]),gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Te,s=gr();if(Pe){if(r===void 0)throw Error(R(407));r=r()}else{if(r=t(),Ke===null)throw Error(R(349));qn&30||Zy(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Cp(Jy.bind(null,n,i,e),[e]),n.flags|=2048,ao(9,Ky.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=gr(),t=Ke.identifierPrefix;if(Pe){var r=Tr,n=Ir;r=(n&~(1<<32-cr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=io++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=v_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},S_={readContext:Kt,useCallback:sv,useContext:Kt,useEffect:Pf,useImperativeHandle:nv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:nu,useRef:Xy,useState:function(){return nu(oo)},useDebugValue:Af,useDeferredValue:function(e){var t=Jt();return ov(t,ze.memoizedState,e)},useTransition:function(){var e=nu(oo)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:Hy,useSyncExternalStore:qy,useId:av,unstable_isNewReconciler:!1},k_={readContext:Kt,useCallback:sv,useContext:Kt,useEffect:Pf,useImperativeHandle:nv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:su,useRef:Xy,useState:function(){return su(oo)},useDebugValue:Af,useDeferredValue:function(e){var t=Jt();return ze===null?t.memoizedState=e:ov(t,ze.memoizedState,e)},useTransition:function(){var e=su(oo)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:Hy,useSyncExternalStore:qy,useId:av,unstable_isNewReconciler:!1};function tr(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function od(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ll={isMounted:function(e){return(e=e._reactInternals)?ts(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gt(),s=dn(e),i=Or(n,s);i.payload=t,r!=null&&(i.callback=r),t=cn(e,i,s),t!==null&&(ur(t,e,s,n),ja(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gt(),s=dn(e),i=Or(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=cn(e,i,s),t!==null&&(ur(t,e,s,n),ja(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gt(),n=dn(e),s=Or(r,n);s.tag=2,t!=null&&(s.callback=t),t=cn(e,s,n),t!==null&&(ur(t,e,n,r),ja(t,e,n))}};function Np(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Xi(r,n)||!Xi(s,i):!0}function dv(e,t,r){var n=!1,s=yn,i=t.contextType;return typeof i=="object"&&i!==null?i=Kt(i):(s=Nt(t)?Gn:ct.current,n=t.contextTypes,i=(n=n!=null)?$s(e,s):yn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ll,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function jp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ll.enqueueReplaceState(t,t.state,null)}function ad(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Sf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Kt(i):(i=Nt(t)?Gn:ct.current,s.context=$s(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(od(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ll.enqueueReplaceState(s,s.state,null),Xa(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Bs(e,t){try{var r="",n=t;do r+=Yx(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function iu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ld(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var E_=typeof WeakMap=="function"?WeakMap:Map;function fv(e,t,r){r=Or(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){sl||(sl=!0,vd=n),ld(e,t)},r}function hv(e,t,r){r=Or(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ld(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ld(e,t),typeof n!="function"&&(un===null?un=new Set([this]):un.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Dp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new E_;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=M_.bind(null,e,t,r),t.then(e,e))}function Pp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ap(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Or(-1,1),t.tag=2,cn(r,t,1))),r.lanes|=1),e)}var C_=Ur.ReactCurrentOwner,Et=!1;function ht(e,t,r,n){t.child=e===null?zy(t,null,r,n):Fs(t,e.child,r,n)}function Ip(e,t,r,n,s){r=r.render;var i=t.ref;return As(t,s),n=jf(e,t,r,n,i,s),r=Df(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fr(e,t,s)):(Pe&&r&&gf(t),t.flags|=1,ht(e,t,n,s),t.child)}function Tp(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Mf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,pv(e,t,i,n,s)):(e=Oa(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xi,r(o,n)&&e.ref===t.ref)return Fr(e,t,s)}return t.flags|=1,e=fn(i,n),e.ref=t.ref,e.return=t,t.child=e}function pv(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Xi(i,n)&&e.ref===t.ref)if(Et=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Et=!0);else return t.lanes=e.lanes,Fr(e,t,s)}return cd(e,t,r,n,s)}function mv(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Es,Pt),Pt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Es,Pt),Pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ce(Es,Pt),Pt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ce(Es,Pt),Pt|=n;return ht(e,t,s,r),t.child}function gv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cd(e,t,r,n,s){var i=Nt(r)?Gn:ct.current;return i=$s(t,i),As(t,s),r=jf(e,t,r,n,i,s),n=Df(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fr(e,t,s)):(Pe&&n&&gf(t),t.flags|=1,ht(e,t,r,s),t.child)}function Op(e,t,r,n,s){if(Nt(r)){var i=!0;Za(t)}else i=!1;if(As(t,s),t.stateNode===null)Aa(e,t),dv(t,r,n),ad(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Kt(c):(c=Nt(r)?Gn:ct.current,c=$s(t,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&jp(t,o,n,c),Zr=!1;var f=t.memoizedState;o.state=f,Xa(t,n,o,s),l=t.memoizedState,a!==n||f!==l||Ct.current||Zr?(typeof u=="function"&&(od(t,r,u,n),l=t.memoizedState),(a=Zr||Np(t,r,a,n,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Wy(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:tr(t.type,a),o.props=c,d=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Kt(l):(l=Nt(r)?Gn:ct.current,l=$s(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&jp(t,o,n,l),Zr=!1,f=t.memoizedState,o.state=f,Xa(t,n,o,s);var w=t.memoizedState;a!==d||f!==w||Ct.current||Zr?(typeof p=="function"&&(od(t,r,p,n),w=t.memoizedState),(c=Zr||Np(t,r,c,n,f,w,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return ud(e,t,r,n,i,s)}function ud(e,t,r,n,s,i){gv(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&wp(t,r,!1),Fr(e,t,i);n=t.stateNode,C_.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Fs(t,e.child,null,i),t.child=Fs(t,null,a,i)):ht(e,t,a,i),t.memoizedState=n.state,s&&wp(t,r,!0),t.child}function yv(e){var t=e.stateNode;t.pendingContext?vp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vp(e,t.context,!1),kf(e,t.containerInfo)}function Rp(e,t,r,n,s){return Ls(),vf(s),t.flags|=256,ht(e,t,r,n),t.child}var dd={dehydrated:null,treeContext:null,retryLane:0};function fd(e){return{baseLanes:e,cachePool:null,transitions:null}}function vv(e,t,r){var n=t.pendingProps,s=Ie.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ce(Ie,s&1),e===null)return sd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bl(o,n,0,null),e=Un(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fd(r),t.memoizedState=dd,e):If(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return N_(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=fn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=fn(a,i):(i=Un(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?fd(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=dd,n}return i=e.child,e=i.sibling,n=fn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function If(e,t){return t=Bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ca(e,t,r,n){return n!==null&&vf(n),Fs(t,e.child,null,r),e=If(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function N_(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=iu(Error(R(422))),ca(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Bl({mode:"visible",children:n.children},s,0,null),i=Un(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Fs(t,e.child,null,o),t.child.memoizedState=fd(o),t.memoizedState=dd,i);if(!(t.mode&1))return ca(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(R(419)),n=iu(i,n,void 0),ca(e,t,o,n)}if(a=(o&e.childLanes)!==0,Et||a){if(n=Ke,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lr(e,s),ur(n,e,s,-1))}return Ff(),n=iu(Error(R(421))),ca(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=B_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,At=ln(s.nextSibling),Tt=t,Pe=!0,sr=null,e!==null&&(zt[Vt++]=Ir,zt[Vt++]=Tr,zt[Vt++]=Hn,Ir=e.id,Tr=e.overflow,Hn=t),t=If(t,n.children),t.flags|=4096,t)}function $p(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),id(e.return,t,r)}function ou(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function wv(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ht(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$p(e,r,t);else if(e.tag===19)$p(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ce(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&el(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ou(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&el(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ou(t,!0,r,null,i);break;case"together":ou(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Aa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,r=fn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function j_(e,t,r){switch(t.tag){case 3:yv(t),Ls();break;case 5:Gy(t);break;case 1:Nt(t.type)&&Za(t);break;case 4:kf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ce(Qa,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ce(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?vv(e,t,r):(Ce(Ie,Ie.current&1),e=Fr(e,t,r),e!==null?e.sibling:null);Ce(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return wv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,mv(e,t,r)}return Fr(e,t,r)}var xv,hd,bv,_v;xv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hd=function(){};bv=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ln(br.current);var i=null;switch(r){case"input":s=Ru(e,s),n=Ru(e,n),i=[];break;case"select":s=Oe({},s,{value:void 0}),n=Oe({},n,{value:void 0}),i=[];break;case"textarea":s=Fu(e,s),n=Fu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ha)}Bu(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};_v=function(e,t,r,n){r!==n&&(t.flags|=4)};function pi(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function D_(e,t,r){var n=t.pendingProps;switch(yf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return Nt(t.type)&&qa(),ot(t),null;case 3:return n=t.stateNode,Ms(),je(Ct),je(ct),Cf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(aa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sr!==null&&(bd(sr),sr=null))),hd(e,t),ot(t),null;case 5:Ef(t);var s=Ln(so.current);if(r=t.type,e!==null&&t.stateNode!=null)bv(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(R(166));return ot(t),null}if(e=Ln(br.current),aa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[vr]=t,n[ro]=i,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<Ei.length;s++)Ne(Ei[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Gh(n,i),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",n);break;case"textarea":qh(n,i),Ne("invalid",n)}Bu(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&oa(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&oa(n.textContent,a,e),s=["children",""+a]):Hi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",n)}switch(r){case"input":Yo(n),Hh(n,i,!0);break;case"textarea":Yo(n),Zh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ha)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[vr]=t,e[ro]=n,xv(e,t,!1,!1),t.stateNode=e;e:{switch(o=Uu(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),s=n;break;case"iframe":case"object":case"embed":Ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ei.length;s++)Ne(Ei[s],e);s=n;break;case"source":Ne("error",e),s=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),s=n;break;case"details":Ne("toggle",e),s=n;break;case"input":Gh(e,n),s=Ru(e,n),Ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Oe({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":qh(e,n),s=Fu(e,n),Ne("invalid",e);break;default:s=n}Bu(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Xg(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Qg(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&qi(e,l):typeof l=="number"&&qi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ne("scroll",e):l!=null&&tf(e,i,l,o))}switch(r){case"input":Yo(e),Hh(e,n,!1);break;case"textarea":Yo(e),Zh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+gn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ns(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ns(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ha)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)_v(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(R(166));if(r=Ln(so.current),Ln(br.current),aa(t)){if(n=t.stateNode,r=t.memoizedProps,n[vr]=t,(i=n.nodeValue!==r)&&(e=Tt,e!==null))switch(e.tag){case 3:oa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oa(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vr]=t,t.stateNode=n}return ot(t),null;case 13:if(je(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&At!==null&&t.mode&1&&!(t.flags&128))By(),Ls(),t.flags|=98560,i=!1;else if(i=aa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[vr]=t}else Ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),i=!1}else sr!==null&&(bd(sr),sr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?Ve===0&&(Ve=3):Ff())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return Ms(),hd(e,t),e===null&&eo(t.stateNode.containerInfo),ot(t),null;case 10:return bf(t.type._context),ot(t),null;case 17:return Nt(t.type)&&qa(),ot(t),null;case 19:if(je(Ie),i=t.memoizedState,i===null)return ot(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)pi(i,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=el(e),o!==null){for(t.flags|=128,pi(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ce(Ie,Ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&$e()>Us&&(t.flags|=128,n=!0,pi(i,!1),t.lanes=4194304)}else{if(!n)if(e=el(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return ot(t),null}else 2*$e()-i.renderingStartTime>Us&&r!==1073741824&&(t.flags|=128,n=!0,pi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,r=Ie.current,Ce(Ie,n?r&1|2:r&1),t):(ot(t),null);case 22:case 23:return Lf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Pt&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function P_(e,t){switch(yf(t),t.tag){case 1:return Nt(t.type)&&qa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),je(Ct),je(ct),Cf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ef(t),null;case 13:if(je(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(Ie),null;case 4:return Ms(),null;case 10:return bf(t.type._context),null;case 22:case 23:return Lf(),null;case 24:return null;default:return null}}var ua=!1,lt=!1,A_=typeof WeakSet=="function"?WeakSet:Set,Z=null;function ks(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Re(e,t,n)}else r.current=null}function pd(e,t,r){try{r()}catch(n){Re(e,t,n)}}var Lp=!1;function I_(e,t){if(Qu=Va,e=Ny(),mf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++c===s&&(a=o),f===i&&++u===n&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yu={focusedElem:e,selectionRange:r},Va=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,b=w.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:tr(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(S){Re(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return w=Lp,Lp=!1,w}function Ri(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&pd(t,r,i)}s=s.next}while(s!==n)}}function Fl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function md(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Sv(e){var t=e.alternate;t!==null&&(e.alternate=null,Sv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vr],delete t[ro],delete t[td],delete t[p_],delete t[m_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kv(e){return e.tag===5||e.tag===3||e.tag===4}function Fp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ha));else if(n!==4&&(e=e.child,e!==null))for(gd(e,t,r),e=e.sibling;e!==null;)gd(e,t,r),e=e.sibling}function yd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yd(e,t,r),e=e.sibling;e!==null;)yd(e,t,r),e=e.sibling}var et=null,rr=!1;function Wr(e,t,r){for(r=r.child;r!==null;)Ev(e,t,r),r=r.sibling}function Ev(e,t,r){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(Pl,r)}catch{}switch(r.tag){case 5:lt||ks(r,t);case 6:var n=et,s=rr;et=null,Wr(e,t,r),et=n,rr=s,et!==null&&(rr?(e=et,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):et.removeChild(r.stateNode));break;case 18:et!==null&&(rr?(e=et,r=r.stateNode,e.nodeType===8?Xc(e.parentNode,r):e.nodeType===1&&Xc(e,r),Qi(e)):Xc(et,r.stateNode));break;case 4:n=et,s=rr,et=r.stateNode.containerInfo,rr=!0,Wr(e,t,r),et=n,rr=s;break;case 0:case 11:case 14:case 15:if(!lt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&pd(r,t,o),s=s.next}while(s!==n)}Wr(e,t,r);break;case 1:if(!lt&&(ks(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Re(r,t,a)}Wr(e,t,r);break;case 21:Wr(e,t,r);break;case 22:r.mode&1?(lt=(n=lt)||r.memoizedState!==null,Wr(e,t,r),lt=n):Wr(e,t,r);break;default:Wr(e,t,r)}}function Mp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new A_),t.forEach(function(n){var s=U_.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function er(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:et=a.stateNode,rr=!1;break e;case 3:et=a.stateNode.containerInfo,rr=!0;break e;case 4:et=a.stateNode.containerInfo,rr=!0;break e}a=a.return}if(et===null)throw Error(R(160));Ev(i,o,s),et=null,rr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Re(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cv(t,e),t=t.sibling}function Cv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(er(t,e),pr(e),n&4){try{Ri(3,e,e.return),Fl(3,e)}catch(g){Re(e,e.return,g)}try{Ri(5,e,e.return)}catch(g){Re(e,e.return,g)}}break;case 1:er(t,e),pr(e),n&512&&r!==null&&ks(r,r.return);break;case 5:if(er(t,e),pr(e),n&512&&r!==null&&ks(r,r.return),e.flags&32){var s=e.stateNode;try{qi(s,"")}catch(g){Re(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Zg(s,i),Uu(a,o);var c=Uu(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Xg(s,d):u==="dangerouslySetInnerHTML"?Qg(s,d):u==="children"?qi(s,d):tf(s,u,d,c)}switch(a){case"input":$u(s,i);break;case"textarea":Kg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ns(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ns(s,!!i.multiple,i.defaultValue,!0):Ns(s,!!i.multiple,i.multiple?[]:"",!1))}s[ro]=i}catch(g){Re(e,e.return,g)}}break;case 6:if(er(t,e),pr(e),n&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Re(e,e.return,g)}}break;case 3:if(er(t,e),pr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qi(t.containerInfo)}catch(g){Re(e,e.return,g)}break;case 4:er(t,e),pr(e);break;case 13:er(t,e),pr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Rf=$e())),n&4&&Mp(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(lt=(c=lt)||u,er(t,e),lt=c):er(t,e),pr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Z=e,u=e.child;u!==null;){for(d=Z=u;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ri(4,f,f.return);break;case 1:ks(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){Re(n,r,g)}}break;case 5:ks(f,f.return);break;case 22:if(f.memoizedState!==null){Up(d);continue}}p!==null?(p.return=f,Z=p):Up(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Yg("display",o))}catch(g){Re(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Re(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:er(t,e),pr(e),n&4&&Mp(e);break;case 21:break;default:er(t,e),pr(e)}}function pr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(kv(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(qi(s,""),n.flags&=-33);var i=Fp(e);yd(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Fp(e);gd(e,a,o);break;default:throw Error(R(161))}}catch(l){Re(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function T_(e,t,r){Z=e,Nv(e)}function Nv(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ua;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||lt;a=ua;var c=lt;if(ua=o,(lt=l)&&!c)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?zp(s):l!==null?(l.return=o,Z=l):zp(s);for(;i!==null;)Z=i,Nv(i),i=i.sibling;Z=s,ua=a,lt=c}Bp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):Bp(e)}}function Bp(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lt||Fl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!lt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:tr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&kp(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kp(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Qi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}lt||t.flags&512&&md(t)}catch(f){Re(t,t.return,f)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Up(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function zp(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Fl(4,t)}catch(l){Re(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Re(t,s,l)}}var i=t.return;try{md(t)}catch(l){Re(t,i,l)}break;case 5:var o=t.return;try{md(t)}catch(l){Re(t,o,l)}}}catch(l){Re(t,t.return,l)}if(t===e){Z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Z=a;break}Z=t.return}}var O_=Math.ceil,nl=Ur.ReactCurrentDispatcher,Tf=Ur.ReactCurrentOwner,Ht=Ur.ReactCurrentBatchConfig,ve=0,Ke=null,Be=null,rt=0,Pt=0,Es=kn(0),Ve=0,lo=null,Zn=0,Ml=0,Of=0,$i=null,St=null,Rf=0,Us=1/0,jr=null,sl=!1,vd=null,un=null,da=!1,rn=null,il=0,Li=0,wd=null,Ia=-1,Ta=0;function gt(){return ve&6?$e():Ia!==-1?Ia:Ia=$e()}function dn(e){return e.mode&1?ve&2&&rt!==0?rt&-rt:y_.transition!==null?(Ta===0&&(Ta=dy()),Ta):(e=xe,e!==0||(e=window.event,e=e===void 0?16:vy(e.type)),e):1}function ur(e,t,r,n){if(50<Li)throw Li=0,wd=null,Error(R(185));Ro(e,r,n),(!(ve&2)||e!==Ke)&&(e===Ke&&(!(ve&2)&&(Ml|=r),Ve===4&&Qr(e,rt)),jt(e,n),r===1&&ve===0&&!(t.mode&1)&&(Us=$e()+500,Rl&&En()))}function jt(e,t){var r=e.callbackNode;yb(e,t);var n=za(e,e===Ke?rt:0);if(n===0)r!==null&&Qh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Qh(r),t===1)e.tag===0?g_(Vp.bind(null,e)):Ly(Vp.bind(null,e)),f_(function(){!(ve&6)&&En()}),r=null;else{switch(fy(n)){case 1:r=af;break;case 4:r=cy;break;case 16:r=Ua;break;case 536870912:r=uy;break;default:r=Ua}r=Rv(r,jv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jv(e,t){if(Ia=-1,Ta=0,ve&6)throw Error(R(327));var r=e.callbackNode;if(Is()&&e.callbackNode!==r)return null;var n=za(e,e===Ke?rt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ol(e,n);else{t=n;var s=ve;ve|=2;var i=Pv();(Ke!==e||rt!==t)&&(jr=null,Us=$e()+500,Bn(e,t));do try{L_();break}catch(a){Dv(e,a)}while(!0);xf(),nl.current=i,ve=s,Be!==null?t=0:(Ke=null,rt=0,t=Ve)}if(t!==0){if(t===2&&(s=Hu(e),s!==0&&(n=s,t=xd(e,s))),t===1)throw r=lo,Bn(e,0),Qr(e,n),jt(e,$e()),r;if(t===6)Qr(e,n);else{if(s=e.current.alternate,!(n&30)&&!R_(s)&&(t=ol(e,n),t===2&&(i=Hu(e),i!==0&&(n=i,t=xd(e,i))),t===1))throw r=lo,Bn(e,0),Qr(e,n),jt(e,$e()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(R(345));case 2:An(e,St,jr);break;case 3:if(Qr(e,n),(n&130023424)===n&&(t=Rf+500-$e(),10<t)){if(za(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){gt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ed(An.bind(null,e,St,jr),t);break}An(e,St,jr);break;case 4:if(Qr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-cr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*O_(n/1960))-n,10<n){e.timeoutHandle=ed(An.bind(null,e,St,jr),n);break}An(e,St,jr);break;case 5:An(e,St,jr);break;default:throw Error(R(329))}}}return jt(e,$e()),e.callbackNode===r?jv.bind(null,e):null}function xd(e,t){var r=$i;return e.current.memoizedState.isDehydrated&&(Bn(e,t).flags|=256),e=ol(e,t),e!==2&&(t=St,St=r,t!==null&&bd(t)),e}function bd(e){St===null?St=e:St.push.apply(St,e)}function R_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!fr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qr(e,t){for(t&=~Of,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-cr(t),n=1<<r;e[r]=-1,t&=~n}}function Vp(e){if(ve&6)throw Error(R(327));Is();var t=za(e,0);if(!(t&1))return jt(e,$e()),null;var r=ol(e,t);if(e.tag!==0&&r===2){var n=Hu(e);n!==0&&(t=n,r=xd(e,n))}if(r===1)throw r=lo,Bn(e,0),Qr(e,t),jt(e,$e()),r;if(r===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,St,jr),jt(e,$e()),null}function $f(e,t){var r=ve;ve|=1;try{return e(t)}finally{ve=r,ve===0&&(Us=$e()+500,Rl&&En())}}function Kn(e){rn!==null&&rn.tag===0&&!(ve&6)&&Is();var t=ve;ve|=1;var r=Ht.transition,n=xe;try{if(Ht.transition=null,xe=1,e)return e()}finally{xe=n,Ht.transition=r,ve=t,!(ve&6)&&En()}}function Lf(){Pt=Es.current,je(Es)}function Bn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,d_(r)),Be!==null)for(r=Be.return;r!==null;){var n=r;switch(yf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qa();break;case 3:Ms(),je(Ct),je(ct),Cf();break;case 5:Ef(n);break;case 4:Ms();break;case 13:je(Ie);break;case 19:je(Ie);break;case 10:bf(n.type._context);break;case 22:case 23:Lf()}r=r.return}if(Ke=e,Be=e=fn(e.current,null),rt=Pt=t,Ve=0,lo=null,Of=Ml=Zn=0,St=$i=null,$n!==null){for(t=0;t<$n.length;t++)if(r=$n[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}$n=null}return e}function Dv(e,t){do{var r=Be;try{if(xf(),Da.current=rl,tl){for(var n=Te.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}tl=!1}if(qn=0,Ze=ze=Te=null,Oi=!1,io=0,Tf.current=null,r===null||r.return===null){Ve=1,lo=t,Be=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Pp(o);if(p!==null){p.flags&=-257,Ap(p,o,a,i,t),p.mode&1&&Dp(i,c,t),t=p,l=c;var w=t.updateQueue;if(w===null){var g=new Set;g.add(l),t.updateQueue=g}else w.add(l);break e}else{if(!(t&1)){Dp(i,c,t),Ff();break e}l=Error(R(426))}}else if(Pe&&a.mode&1){var b=Pp(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ap(b,o,a,i,t),vf(Bs(l,a));break e}}i=l=Bs(l,a),Ve!==4&&(Ve=2),$i===null?$i=[i]:$i.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=fv(i,l,t);Sp(i,y);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(un===null||!un.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=hv(i,a,t);Sp(i,S);break e}}i=i.return}while(i!==null)}Iv(r)}catch(k){t=k,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(!0)}function Pv(){var e=nl.current;return nl.current=rl,e===null?rl:e}function Ff(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Ke===null||!(Zn&268435455)&&!(Ml&268435455)||Qr(Ke,rt)}function ol(e,t){var r=ve;ve|=2;var n=Pv();(Ke!==e||rt!==t)&&(jr=null,Bn(e,t));do try{$_();break}catch(s){Dv(e,s)}while(!0);if(xf(),ve=r,nl.current=n,Be!==null)throw Error(R(261));return Ke=null,rt=0,Ve}function $_(){for(;Be!==null;)Av(Be)}function L_(){for(;Be!==null&&!lb();)Av(Be)}function Av(e){var t=Ov(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,t===null?Iv(e):Be=t,Tf.current=null}function Iv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=P_(r,t),r!==null){r.flags&=32767,Be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Be=null;return}}else if(r=D_(r,t,Pt),r!==null){Be=r;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ve===0&&(Ve=5)}function An(e,t,r){var n=xe,s=Ht.transition;try{Ht.transition=null,xe=1,F_(e,t,r,n)}finally{Ht.transition=s,xe=n}return null}function F_(e,t,r,n){do Is();while(rn!==null);if(ve&6)throw Error(R(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(vb(e,i),e===Ke&&(Be=Ke=null,rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||da||(da=!0,Rv(Ua,function(){return Is(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ht.transition,Ht.transition=null;var o=xe;xe=1;var a=ve;ve|=4,Tf.current=null,I_(e,r),Cv(r,e),s_(Yu),Va=!!Qu,Yu=Qu=null,e.current=r,T_(r),cb(),ve=a,xe=o,Ht.transition=i}else e.current=r;if(da&&(da=!1,rn=e,il=s),i=e.pendingLanes,i===0&&(un=null),fb(r.stateNode),jt(e,$e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(sl)throw sl=!1,e=vd,vd=null,e;return il&1&&e.tag!==0&&Is(),i=e.pendingLanes,i&1?e===wd?Li++:(Li=0,wd=e):Li=0,En(),null}function Is(){if(rn!==null){var e=fy(il),t=Ht.transition,r=xe;try{if(Ht.transition=null,xe=16>e?16:e,rn===null)var n=!1;else{if(e=rn,rn=null,il=0,ve&6)throw Error(R(331));var s=ve;for(ve|=4,Z=e.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:Ri(8,u,i)}var d=u.child;if(d!==null)d.return=u,Z=d;else for(;Z!==null;){u=Z;var f=u.sibling,p=u.return;if(Sv(u),u===c){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ri(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Z=y;break e}Z=i.return}}var m=e.current;for(Z=m;Z!==null;){o=Z;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Z=v;else e:for(o=m;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fl(9,a)}}catch(k){Re(a,a.return,k)}if(a===o){Z=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Z=S;break e}Z=a.return}}if(ve=s,En(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(Pl,e)}catch{}n=!0}return n}finally{xe=r,Ht.transition=t}}return!1}function Wp(e,t,r){t=Bs(r,t),t=fv(e,t,1),e=cn(e,t,1),t=gt(),e!==null&&(Ro(e,1,t),jt(e,t))}function Re(e,t,r){if(e.tag===3)Wp(e,e,r);else for(;t!==null;){if(t.tag===3){Wp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(un===null||!un.has(n))){e=Bs(r,e),e=hv(t,e,1),t=cn(t,e,1),e=gt(),t!==null&&(Ro(t,1,e),jt(t,e));break}}t=t.return}}function M_(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&r,Ke===e&&(rt&r)===r&&(Ve===4||Ve===3&&(rt&130023424)===rt&&500>$e()-Rf?Bn(e,0):Of|=r),jt(e,t)}function Tv(e,t){t===0&&(e.mode&1?(t=ta,ta<<=1,!(ta&130023424)&&(ta=4194304)):t=1);var r=gt();e=Lr(e,t),e!==null&&(Ro(e,t,r),jt(e,r))}function B_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Tv(e,r)}function U_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(t),Tv(e,r)}var Ov;Ov=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)Et=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Et=!1,j_(e,t,r);Et=!!(e.flags&131072)}else Et=!1,Pe&&t.flags&1048576&&Fy(t,Ja,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Aa(e,t),e=t.pendingProps;var s=$s(t,ct.current);As(t,r),s=jf(null,t,n,e,s,r);var i=Df();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(n)?(i=!0,Za(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sf(t),s.updater=Ll,t.stateNode=s,s._reactInternals=t,ad(t,n,e,r),t=ud(null,t,n,!0,i,r)):(t.tag=0,Pe&&i&&gf(t),ht(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Aa(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=V_(n),e=tr(n,e),s){case 0:t=cd(null,t,n,e,r);break e;case 1:t=Op(null,t,n,e,r);break e;case 11:t=Ip(null,t,n,e,r);break e;case 14:t=Tp(null,t,n,tr(n.type,e),r);break e}throw Error(R(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tr(n,s),cd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tr(n,s),Op(e,t,n,s,r);case 3:e:{if(yv(t),e===null)throw Error(R(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Wy(e,t),Xa(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Bs(Error(R(423)),t),t=Rp(e,t,n,r,s);break e}else if(n!==s){s=Bs(Error(R(424)),t),t=Rp(e,t,n,r,s);break e}else for(At=ln(t.stateNode.containerInfo.firstChild),Tt=t,Pe=!0,sr=null,r=zy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ls(),n===s){t=Fr(e,t,r);break e}ht(e,t,n,r)}t=t.child}return t;case 5:return Gy(t),e===null&&sd(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Xu(n,s)?o=null:i!==null&&Xu(n,i)&&(t.flags|=32),gv(e,t),ht(e,t,o,r),t.child;case 6:return e===null&&sd(t),null;case 13:return vv(e,t,r);case 4:return kf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fs(t,null,n,r):ht(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tr(n,s),Ip(e,t,n,s,r);case 7:return ht(e,t,t.pendingProps,r),t.child;case 8:return ht(e,t,t.pendingProps.children,r),t.child;case 12:return ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ce(Qa,n._currentValue),n._currentValue=o,i!==null)if(fr(i.value,o)){if(i.children===s.children&&!Ct.current){t=Fr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Or(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),id(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),id(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ht(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,As(t,r),s=Kt(s),n=n(s),t.flags|=1,ht(e,t,n,r),t.child;case 14:return n=t.type,s=tr(n,t.pendingProps),s=tr(n.type,s),Tp(e,t,n,s,r);case 15:return pv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tr(n,s),Aa(e,t),t.tag=1,Nt(n)?(e=!0,Za(t)):e=!1,As(t,r),dv(t,n,s),ad(t,n,s,r),ud(null,t,n,!0,e,r);case 19:return wv(e,t,r);case 22:return mv(e,t,r)}throw Error(R(156,t.tag))};function Rv(e,t){return ly(e,t)}function z_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,r,n){return new z_(e,t,r,n)}function Mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function V_(e){if(typeof e=="function")return Mf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nf)return 11;if(e===sf)return 14}return 2}function fn(e,t){var r=e.alternate;return r===null?(r=Wt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Oa(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Mf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ms:return Un(r.children,s,i,t);case rf:o=8,s|=8;break;case Au:return e=Wt(12,r,t,s|2),e.elementType=Au,e.lanes=i,e;case Iu:return e=Wt(13,r,t,s),e.elementType=Iu,e.lanes=i,e;case Tu:return e=Wt(19,r,t,s),e.elementType=Tu,e.lanes=i,e;case Gg:return Bl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vg:o=10;break e;case Wg:o=9;break e;case nf:o=11;break e;case sf:o=14;break e;case qr:o=16,n=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Wt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Un(e,t,r,n){return e=Wt(7,e,n,t),e.lanes=r,e}function Bl(e,t,r,n){return e=Wt(22,e,n,t),e.elementType=Gg,e.lanes=r,e.stateNode={isHidden:!1},e}function au(e,t,r){return e=Wt(6,e,null,t),e.lanes=r,e}function lu(e,t,r){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function W_(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bf(e,t,r,n,s,i,o,a,l){return e=new W_(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Wt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sf(i),e}function G_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ps,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $v(e){if(!e)return yn;e=e._reactInternals;e:{if(ts(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var r=e.type;if(Nt(r))return $y(e,r,t)}return t}function Lv(e,t,r,n,s,i,o,a,l){return e=Bf(r,n,!0,e,s,i,o,a,l),e.context=$v(null),r=e.current,n=gt(),s=dn(r),i=Or(n,s),i.callback=t??null,cn(r,i,s),e.current.lanes=s,Ro(e,s,n),jt(e,n),e}function Ul(e,t,r,n){var s=t.current,i=gt(),o=dn(s);return r=$v(r),t.context===null?t.context=r:t.pendingContext=r,t=Or(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=cn(s,t,o),e!==null&&(ur(e,s,o,i),ja(e,s,o)),o}function al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Uf(e,t){Gp(e,t),(e=e.alternate)&&Gp(e,t)}function H_(){return null}var Fv=typeof reportError=="function"?reportError:function(e){console.error(e)};function zf(e){this._internalRoot=e}zl.prototype.render=zf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Ul(e,t,null,null)};zl.prototype.unmount=zf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kn(function(){Ul(null,e,null,null)}),t[$r]=null}};function zl(e){this._internalRoot=e}zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=my();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jr.length&&t!==0&&t<Jr[r].priority;r++);Jr.splice(r,0,e),r===0&&yy(e)}};function Vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hp(){}function q_(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=al(o);i.call(c)}}var o=Lv(t,n,e,0,null,!1,!1,"",Hp);return e._reactRootContainer=o,e[$r]=o.current,eo(e.nodeType===8?e.parentNode:e),Kn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=al(l);a.call(c)}}var l=Bf(e,0,!1,null,null,!1,!1,"",Hp);return e._reactRootContainer=l,e[$r]=l.current,eo(e.nodeType===8?e.parentNode:e),Kn(function(){Ul(t,l,r,n)}),l}function Wl(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=al(o);a.call(l)}}Ul(t,o,e,s)}else o=q_(r,t,e,s,n);return al(o)}hy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ki(t.pendingLanes);r!==0&&(lf(t,r|1),jt(t,$e()),!(ve&6)&&(Us=$e()+500,En()))}break;case 13:Kn(function(){var n=Lr(e,1);if(n!==null){var s=gt();ur(n,e,1,s)}}),Uf(e,1)}};cf=function(e){if(e.tag===13){var t=Lr(e,134217728);if(t!==null){var r=gt();ur(t,e,134217728,r)}Uf(e,134217728)}};py=function(e){if(e.tag===13){var t=dn(e),r=Lr(e,t);if(r!==null){var n=gt();ur(r,e,t,n)}Uf(e,t)}};my=function(){return xe};gy=function(e,t){var r=xe;try{return xe=e,t()}finally{xe=r}};Vu=function(e,t,r){switch(t){case"input":if($u(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ol(n);if(!s)throw Error(R(90));qg(n),$u(n,s)}}}break;case"textarea":Kg(e,r);break;case"select":t=r.value,t!=null&&Ns(e,!!r.multiple,t,!1)}};ry=$f;ny=Kn;var Z_={usingClientEntryPoint:!1,Events:[Lo,ws,Ol,ey,ty,$f]},mi={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K_={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oy(e),e===null?null:e.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||H_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fa.isDisabled&&fa.supportsFiber)try{Pl=fa.inject(K_),xr=fa}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z_;Ft.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vf(t))throw Error(R(200));return G_(e,t,null,r)};Ft.createRoot=function(e,t){if(!Vf(e))throw Error(R(299));var r=!1,n="",s=Fv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bf(e,1,!1,null,null,r,!1,n,s),e[$r]=t.current,eo(e.nodeType===8?e.parentNode:e),new zf(t)};Ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=oy(t),e=e===null?null:e.stateNode,e};Ft.flushSync=function(e){return Kn(e)};Ft.hydrate=function(e,t,r){if(!Vl(t))throw Error(R(200));return Wl(null,e,t,!0,r)};Ft.hydrateRoot=function(e,t,r){if(!Vf(e))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Fv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Lv(t,null,e,1,r??null,s,!1,i,o),e[$r]=t.current,eo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new zl(t)};Ft.render=function(e,t,r){if(!Vl(t))throw Error(R(200));return Wl(null,e,t,!1,r)};Ft.unmountComponentAtNode=function(e){if(!Vl(e))throw Error(R(40));return e._reactRootContainer?(Kn(function(){Wl(null,null,e,!1,function(){e._reactRootContainer=null,e[$r]=null})}),!0):!1};Ft.unstable_batchedUpdates=$f;Ft.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vl(r))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Wl(e,t,r,!1,n)};Ft.version="18.3.1-next-f1338f8080-20240426";function Mv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mv)}catch(e){console.error(e)}}Mv(),Mg.exports=Ft;var Mo=Mg.exports;const J_=Zd(Mo);var Bv,qp=Mo;Bv=qp.createRoot,qp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(this,arguments)}var nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nn||(nn={}));const Zp="popstate";function Q_(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return _d("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:zv(s)}return X_(t,r,null,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Y_(){return Math.random().toString(36).substr(2,8)}function Kp(e,t){return{usr:e.state,key:e.key,idx:t}}function _d(e,t,r,n){return r===void 0&&(r=null),co({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ti(t):t,{state:r,key:t&&t.key||n||Y_()})}function zv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ti(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function X_(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=nn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(co({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=nn.Pop;let b=u(),y=b==null?null:b-c;c=b,l&&l({action:a,location:g.location,delta:y})}function f(b,y){a=nn.Push;let m=_d(g.location,b,y);c=u()+1;let v=Kp(m,c),S=g.createHref(m);try{o.pushState(v,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}i&&l&&l({action:a,location:g.location,delta:1})}function p(b,y){a=nn.Replace;let m=_d(g.location,b,y);c=u();let v=Kp(m,c),S=g.createHref(m);o.replaceState(v,"",S),i&&l&&l({action:a,location:g.location,delta:0})}function w(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:zv(b);return m=m.replace(/ $/,"%20"),We(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Zp,d),l=b,()=>{s.removeEventListener(Zp,d),l=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let y=w(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(b){return o.go(b)}};return g}var Jp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jp||(Jp={}));function e1(e,t,r){return r===void 0&&(r="/"),t1(e,t,r,!1)}function t1(e,t,r,n){let s=typeof t=="string"?ti(t):t,i=Gv(s.pathname||"/",r);if(i==null)return null;let o=Vv(e);r1(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=h1(i);a=d1(o[l],c,n)}return a}function Vv(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(We(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=zn([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(We(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Vv(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:c1(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Wv(i.path))s(i,o,l)}),t}function Wv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Wv(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function r1(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:u1(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const n1=/^:[\w-]+$/,s1=3,i1=2,o1=1,a1=10,l1=-2,Qp=e=>e==="*";function c1(e,t){let r=e.split("/"),n=r.length;return r.some(Qp)&&(n+=l1),t&&(n+=i1),r.filter(s=>!Qp(s)).reduce((s,i)=>s+(n1.test(i)?s1:i===""?o1:a1),n)}function u1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function d1(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=Yp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=Yp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:zn([i,d.pathname]),pathnameBase:w1(zn([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=zn([i,d.pathnameBase]))}return o}function Yp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=f1(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const w=a[d];return p&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function f1(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Uv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function h1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Uv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function p1(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ti(e):e;return{pathname:r?r.startsWith("/")?r:m1(r,t):t,search:x1(n),hash:b1(s)}}function m1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function cu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g1(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function y1(e,t){let r=g1(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function v1(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ti(e):(s=co({},e),We(!s.pathname||!s.pathname.includes("?"),cu("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),cu("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),cu("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=p1(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const zn=e=>e.join("/").replace(/\/\/+/g,"/"),w1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),x1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,b1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Hv=["post","put","patch","delete"];new Set(Hv);const S1=["get",...Hv];new Set(S1);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}const Wf=x.createContext(null),k1=x.createContext(null),Gl=x.createContext(null),Hl=x.createContext(null),ri=x.createContext({outlet:null,matches:[],isDataRoute:!1}),qv=x.createContext(null);function ql(){return x.useContext(Hl)!=null}function Zv(){return ql()||We(!1),x.useContext(Hl).location}function Kv(e){x.useContext(Gl).static||x.useLayoutEffect(e)}function Gf(){let{isDataRoute:e}=x.useContext(ri);return e?L1():E1()}function E1(){ql()||We(!1);let e=x.useContext(Wf),{basename:t,future:r,navigator:n}=x.useContext(Gl),{matches:s}=x.useContext(ri),{pathname:i}=Zv(),o=JSON.stringify(y1(s,r.v7_relativeSplatPath)),a=x.useRef(!1);return Kv(()=>{a.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=v1(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:zn([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}function C1(e,t){return N1(e,t)}function N1(e,t,r,n){ql()||We(!1);let{navigator:s,static:i}=x.useContext(Gl),{matches:o}=x.useContext(ri),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Zv(),d;if(t){var f;let y=typeof t=="string"?ti(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||We(!1),d=y}else d=u;let p=d.pathname||"/",w=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=!i&&r&&r.matches&&r.matches.length>0?r.matches:e1(e,{pathname:w}),b=I1(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:zn([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:zn([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&b?x.createElement(Hl.Provider,{value:{location:uo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:nn.Pop}},b):b}function j1(){let e=$1(),t=_1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const D1=x.createElement(j1,null);class P1 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(ri.Provider,{value:this.props.routeContext},x.createElement(qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function A1(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(Wf);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(ri.Provider,{value:t},n)}function I1(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||We(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=r,w=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,w=!1,g=null,b=null;r&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||D1,l&&(c<0&&f===0?(w=!0,b=null):c===f&&(w=!0,b=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),m=()=>{let v;return p?v=g:w?v=b:d.route.Component?v=x.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,x.createElement(A1,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(P1,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var Jv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jv||{}),ll=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ll||{});function T1(e){let t=x.useContext(Wf);return t||We(!1),t}function O1(e){let t=x.useContext(k1);return t||We(!1),t}function R1(e){let t=x.useContext(ri);return t||We(!1),t}function Qv(e){let t=R1(),r=t.matches[t.matches.length-1];return r.route.id||We(!1),r.route.id}function $1(){var e;let t=x.useContext(qv),r=O1(ll.UseRouteError),n=Qv(ll.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function L1(){let{router:e}=T1(Jv.UseNavigateStable),t=Qv(ll.UseNavigateStable),r=x.useRef(!1);return Kv(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,uo({fromRouteId:t},i)))},[e,t])}function F1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ds(e){We(!1)}function M1(e){let{basename:t="/",children:r=null,location:n,navigationType:s=nn.Pop,navigator:i,static:o=!1,future:a}=e;ql()&&We(!1);let l=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:i,static:o,future:uo({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=ti(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:w="default"}=n,g=x.useMemo(()=>{let b=Gv(u,l);return b==null?null:{location:{pathname:b,search:d,hash:f,state:p,key:w},navigationType:s}},[l,u,d,f,p,w,s]);return g==null?null:x.createElement(Gl.Provider,{value:c},x.createElement(Hl.Provider,{children:r,value:g}))}function B1(e){let{children:t,location:r}=e;return C1(Sd(t),r)}new Promise(()=>{});function Sd(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,Sd(n.props.children,i));return}n.type!==ds&&We(!1),!n.props.index||!n.props.children||We(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Sd(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const U1="6";try{window.__reactRouterVersion=U1}catch{}const z1="startTransition",Xp=Mx[z1];function V1(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=Q_({window:s,v5Compat:!0}));let o=i.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=x.useCallback(d=>{c&&Xp?Xp(()=>l(d)):l(d)},[l,c]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>F1(n),[n]),x.createElement(M1,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var em;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(em||(em={}));var tm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tm||(tm={}));let W1={data:""},G1=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||W1,H1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,q1=/\/\*[^]*?\*\/|  +/g,rm=/\n+/g,Yr=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Yr(o,i):i+"{"+Yr(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Yr(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Yr.p?Yr.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Er={},Yv=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Yv(e[r]);return t}return e},Z1=(e,t,r,n,s)=>{let i=Yv(e),o=Er[i]||(Er[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!Er[o]){let l=i!==e?e:(c=>{let u,d,f=[{}];for(;u=H1.exec(c.replace(q1,""));)u[4]?f.shift():u[3]?(d=u[3].replace(rm," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(rm," ").trim();return f[0]})(e);Er[o]=Yr(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&Er.g?Er.g:null;return r&&(Er.g=Er[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Er[o],t,n,a),o},K1=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Yr(a,""):a===!1?"":a}return n+s+(o??"")},"");function Zl(e){let t=this||{},r=e.call?e(t.p):e;return Z1(r.unshift?r.raw?K1(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,G1(t.target),t.g,t.o,t.k)}let Xv,kd,Ed;Zl.bind({g:1});let Mr=Zl.bind({k:1});function J1(e,t,r,n){Yr.p=t,Xv=e,kd=r,Ed=n}function Cn(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:kd&&kd()},a),r.o=/ *go\d+/.test(l),a.className=Zl.apply(r,n)+(l?" "+l:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),Ed&&c[0]&&Ed(a),Xv(c,a)}return s}}var Q1=e=>typeof e=="function",cl=(e,t)=>Q1(e)?e(t):e,Y1=(()=>{let e=0;return()=>(++e).toString()})(),e0=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),X1=20,t0=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,X1)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return t0(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Ra=[],Fn={toasts:[],pausedAt:void 0},rs=e=>{Fn=t0(Fn,e),Ra.forEach(t=>{t(Fn)})},eS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},tS=(e={})=>{let[t,r]=x.useState(Fn),n=x.useRef(Fn);x.useEffect(()=>(n.current!==Fn&&r(Fn),Ra.push(r),()=>{let i=Ra.indexOf(r);i>-1&&Ra.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,a,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((a=e[i.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||eS[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},rS=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Y1()}),Bo=e=>(t,r)=>{let n=rS(t,e,r);return rs({type:2,toast:n}),n.id},mt=(e,t)=>Bo("blank")(e,t);mt.error=Bo("error");mt.success=Bo("success");mt.loading=Bo("loading");mt.custom=Bo("custom");mt.dismiss=e=>{rs({type:3,toastId:e})};mt.remove=e=>rs({type:4,toastId:e});mt.promise=(e,t,r)=>{let n=mt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?cl(t.success,s):void 0;return i?mt.success(i,{id:n,...r,...r==null?void 0:r.success}):mt.dismiss(n),s}).catch(s=>{let i=t.error?cl(t.error,s):void 0;i?mt.error(i,{id:n,...r,...r==null?void 0:r.error}):mt.dismiss(n)}),e};var nS=(e,t)=>{rs({type:1,toast:{id:e,height:t}})},sS=()=>{rs({type:5,time:Date.now()})},Fi=new Map,iS=1e3,oS=(e,t=iS)=>{if(Fi.has(e))return;let r=setTimeout(()=>{Fi.delete(e),rs({type:4,toastId:e})},t);Fi.set(e,r)},aS=e=>{let{toasts:t,pausedAt:r}=tS(e);x.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&mt.dismiss(a.id);return}return setTimeout(()=>mt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,r]);let n=x.useCallback(()=>{r&&rs({type:6,time:Date.now()})},[r]),s=x.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=t.filter(p=>(p.position||c)===(i.position||c)&&p.height),d=u.findIndex(p=>p.id===i.id),f=u.filter((p,w)=>w<d&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[f+1]:[0,f]).reduce((p,w)=>p+(w.height||0)+l,0)},[t]);return x.useEffect(()=>{t.forEach(i=>{if(i.dismissed)oS(i.id,i.removeDelay);else{let o=Fi.get(i.id);o&&(clearTimeout(o),Fi.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:nS,startPause:sS,endPause:n,calculateOffset:s}}},lS=Mr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,cS=Mr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uS=Mr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,dS=Cn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${cS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${uS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,fS=Mr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,hS=Cn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${fS} 1s linear infinite;
`,pS=Mr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,mS=Mr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gS=Cn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${mS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,yS=Cn("div")`
  position: absolute;
`,vS=Cn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,wS=Mr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xS=Cn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${wS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,bS=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?x.createElement(xS,null,t):t:r==="blank"?null:x.createElement(vS,null,x.createElement(hS,{...n}),r!=="loading"&&x.createElement(yS,null,r==="error"?x.createElement(dS,{...n}):x.createElement(gS,{...n})))},_S=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,SS=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,kS="0%{opacity:0;} 100%{opacity:1;}",ES="0%{opacity:1;} 100%{opacity:0;}",CS=Cn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,NS=Cn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jS=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=e0()?[kS,ES]:[_S(r),SS(r)];return{animation:t?`${Mr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Mr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},DS=x.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?jS(e.position||t||"top-center",e.visible):{opacity:0},i=x.createElement(bS,{toast:e}),o=x.createElement(NS,{...e.ariaProps},cl(e.message,e));return x.createElement(CS,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):x.createElement(x.Fragment,null,i,o))});J1(x.createElement);var PS=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=x.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return x.createElement("div",{ref:i,className:t,style:r},s)},AS=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:e0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},IS=Zl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ha=16,TS=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=aS(r);return x.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ha,left:ha,right:ha,bottom:ha,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||t,d=l.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),f=AS(u,d);return x.createElement(PS,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?IS:"",style:f},c.type==="custom"?cl(c.message,c):s?s(c):x.createElement(DS,{toast:c,position:u}))}))},ie=mt;/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ke=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>x.createElement("svg",{ref:u,...OS,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${RS(e)}`,a].join(" "),...c},[...t.map(([d,f])=>x.createElement(d,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=ke("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ke("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=ke("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=ke("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=ke("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=ke("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=ke("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=ke("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=ke("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),GS="modulepreload",HS=function(e){return"/"+e},lm={},Vs=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=HS(l),l in lm)return;lm[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":GS,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},qS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Kf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ZS extends Kf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class KS extends Kf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class JS extends Kf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jd||(jd={}));var QS=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class YS{constructor(t,{headers:r={},customFetch:n,region:s=jd.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=qS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return QS(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(w=>{throw new ZS(w)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new KS(u);if(!u.ok)throw new JS(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var kt={},Jf={},Ql={},Uo={},Yl={},Xl={},XS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ws=XS();const ek=Ws.fetch,o0=Ws.fetch.bind(Ws),a0=Ws.Headers,tk=Ws.Request,rk=Ws.Response,ni=Object.freeze(Object.defineProperty({__proto__:null,Headers:a0,Request:tk,Response:rk,default:o0,fetch:ek},Symbol.toStringTag,{value:"Module"})),nk=Sx(ni);var ec={};Object.defineProperty(ec,"__esModule",{value:!0});let sk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ec.default=sk;var l0=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xl,"__esModule",{value:!0});const ik=l0(nk),ok=l0(ec);let ak=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ik.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,d=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{c=JSON.parse(g),Array.isArray(c)&&i.status===404&&(u=[],c=null,f=200,p="OK")}catch{i.status===404&&g===""?(f=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new ok.default(c)}return{error:c,data:u,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Xl.default=ak;var lk=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yl,"__esModule",{value:!0});const ck=lk(Xl);let uk=class extends ck.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Yl.default=uk;var dk=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uo,"__esModule",{value:!0});const fk=dk(Yl);let hk=class extends fk.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Uo.default=hk;var pk=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ql,"__esModule",{value:!0});const gi=pk(Uo);let mk=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new gi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new gi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new gi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new gi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new gi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ql.default=mk;var tc={},rc={};Object.defineProperty(rc,"__esModule",{value:!0});rc.version=void 0;rc.version="0.0.0-automated";Object.defineProperty(tc,"__esModule",{value:!0});tc.DEFAULT_HEADERS=void 0;const gk=rc;tc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${gk.version}`};var c0=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jf,"__esModule",{value:!0});const yk=c0(Ql),vk=c0(Uo),wk=tc;let xk=class u0{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},wk.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new yk.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new u0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new vk.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Jf.default=xk;var si=Zt&&Zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kt,"__esModule",{value:!0});kt.PostgrestError=kt.PostgrestBuilder=kt.PostgrestTransformBuilder=kt.PostgrestFilterBuilder=kt.PostgrestQueryBuilder=kt.PostgrestClient=void 0;const d0=si(Jf);kt.PostgrestClient=d0.default;const f0=si(Ql);kt.PostgrestQueryBuilder=f0.default;const h0=si(Uo);kt.PostgrestFilterBuilder=h0.default;const p0=si(Yl);kt.PostgrestTransformBuilder=p0.default;const m0=si(Xl);kt.PostgrestBuilder=m0.default;const g0=si(ec);kt.PostgrestError=g0.default;var bk=kt.default={PostgrestClient:d0.default,PostgrestQueryBuilder:f0.default,PostgrestFilterBuilder:h0.default,PostgrestTransformBuilder:p0.default,PostgrestBuilder:m0.default,PostgrestError:g0.default};const{PostgrestClient:_k,PostgrestQueryBuilder:rT,PostgrestFilterBuilder:nT,PostgrestTransformBuilder:sT,PostgrestBuilder:iT,PostgrestError:oT}=bk,Sk="2.11.2",kk={"X-Client-Info":`realtime-js/${Sk}`},Ek="1.0.0",y0=1e4,Ck=1e3;var Ts;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ts||(Ts={}));var Dt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dt||(Dt={}));var nr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nr||(nr={}));var Dd;(function(e){e.websocket="websocket"})(Dd||(Dd={}));var On;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(On||(On={}));class Nk{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class v0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const cm=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=jk(o,e,t,s),i),{})},jk=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?w0(i,o):Pd(o)},w0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ik(t,r)}switch(e){case Ee.bool:return Dk(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return Pk(t);case Ee.json:case Ee.jsonb:return Ak(t);case Ee.timestamp:return Tk(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Pd(t);default:return Pd(t)}},Pd=e=>e,Dk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Pk=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ak=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ik=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>w0(t,a))}return e},Tk=e=>typeof e=="string"?e.replace(" ","T"):e,x0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class uu{constructor(t,r,n={},s=y0){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var um;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(um||(um={}));class Mi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mi.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Mi.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Mi.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),w=u.filter(b=>p.indexOf(b.presence_ref)<0),g=d.filter(b=>f.indexOf(b.presence_ref)<0);w.length>0&&(a[c]=w),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);t[a].unshift(...f)}n(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dm||(dm={}));var fm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fm||(fm={}));var Dr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dr||(Dr={}));class Qf{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new uu(this,nr.join,this.params,this.timeout),this.rejoinTimer=new v0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Mi(this),this.broadcastEndpointURL=x0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(Dr.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Dr.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(Dr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,w=[];for(let g=0;g<p;g++){const b=f[g],{filter:{event:y,schema:m,table:v,filter:S}}=b,k=u&&u[g];if(k&&k.event===y&&k.schema===m&&k.table===v&&k.filter===S)w.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),t==null||t(Dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Dr.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(Dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new uu(this,nr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new uu(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=nr;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,g,b;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,g,b,y,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,k=(w=p.filter)===null||w===void 0?void 0:w.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(m=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return S==="*"||S===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:g,table:b,commit_timestamp:y,type:m,errors:v}=w;f=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(w))}p.callback(f,n)})}_isClosed(){return this.state===Dt.closed}_isJoined(){return this.state===Dt.joined}_isJoining(){return this.state===Dt.joining}_isLeaving(){return this.state===Dt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Qf.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nr.close,{},t)}_onError(t){this._on(nr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=cm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=cm(t.columns,t.old_record)),r}}const Ok=()=>{},Rk=typeof WebSocket<"u",$k=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lk{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=kk,this.params={},this.timeout=y0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ok,this.conn=null,this.sendBuffer=[],this.serializer=new Nk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Vs(async()=>{const{default:l}=await Promise.resolve().then(()=>ni);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Dd.websocket}`,this.httpEndpoint=x0(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new v0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Rk){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Fk(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Vs(async()=>{const{default:t}=await import("./browser-C30vqbdp.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ek}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ts.connecting:return On.Connecting;case Ts.open:return On.Open;case Ts.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}channel(t,r={config:{}}){const n=new Qf(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(nr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Ck,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(nr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([$k],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Fk{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ts.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Yf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Mk extends Yf{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ad extends Yf{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Bk=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const b0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Uk=()=>Bk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vs(()=>Promise.resolve().then(()=>ni),void 0)).Response:Response}),Id=e=>{if(Array.isArray(e))return e.map(r=>Id(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Id(n)}),t};var ns=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const du=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zk=(e,t,r)=>ns(void 0,void 0,void 0,function*(){const n=yield Uk();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Mk(du(s),e.status||500))}).catch(s=>{t(new Ad(du(s),s))}):t(new Ad(du(e),e))}),Vk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function zo(e,t,r,n,s,i){return ns(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Vk(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>zk(l,a,n))})})}function ul(e,t,r,n){return ns(this,void 0,void 0,function*(){return zo(e,"GET",t,r,n)})}function Kr(e,t,r,n,s){return ns(this,void 0,void 0,function*(){return zo(e,"POST",t,n,s,r)})}function Wk(e,t,r,n,s){return ns(this,void 0,void 0,function*(){return zo(e,"PUT",t,n,s,r)})}function Gk(e,t,r,n){return ns(this,void 0,void 0,function*(){return zo(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function _0(e,t,r,n,s){return ns(this,void 0,void 0,function*(){return zo(e,"DELETE",t,n,s,r)})}var bt=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Hk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qk{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=b0(s)}uploadOrUpdate(t,r,n,s){return bt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},hm),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(qe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return bt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:hm.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(qe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return bt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Kr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Yf("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}})}update(t,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return bt(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(qe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield Kr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(qe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return bt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Kr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(qe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return bt(this,void 0,void 0,function*(){try{const s=yield Kr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(qe(s))return{data:null,error:s};throw s}})}download(t,r){return bt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ul(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(qe(a))return{data:null,error:a};throw a}})}info(t){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ul(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Id(n),error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}})}exists(t){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Gk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(qe(n)&&n instanceof Ad){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return bt(this,void 0,void 0,function*(){try{return{data:yield _0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}list(t,r,n){return bt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Hk),r),{prefix:t||""});return{data:yield Kr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(qe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Zk="2.7.1",Kk={"X-Client-Info":`storage-js/${Zk}`};var as=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Jk{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Kk),r),this.fetch=b0(n)}listBuckets(){return as(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(qe(t))return{data:null,error:t};throw t}})}getBucket(t){return as(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return as(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return as(this,void 0,void 0,function*(){try{return{data:yield Wk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return as(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return as(this,void 0,void 0,function*(){try{return{data:yield _0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}})}}class Qk extends Jk{constructor(t,r={},n){super(t,r,n)}from(t){return new qk(this.url,this.headers,t,this.fetch)}}const Yk="2.49.4";let Ci="";typeof Deno<"u"?Ci="deno":typeof document<"u"?Ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ci="react-native":Ci="node";const Xk={"X-Client-Info":`supabase-js-${Ci}/${Yk}`},eE={headers:Xk},tE={schema:"public"},rE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nE={};var sE=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const iE=e=>{let t;return e?t=e:typeof fetch>"u"?t=o0:t=fetch,(...r)=>t(...r)},oE=()=>typeof Headers>"u"?a0:Headers,aE=(e,t,r)=>{const n=iE(r),s=oE();return(i,o)=>sE(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var lE=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function cE(e){return e.replace(/\/$/,"")}function uE(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>lE(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const S0="2.69.1",fs=30*1e3,Td=3,fu=Td*fs,dE="http://localhost:9999",fE="supabase.auth.token",hE={"X-Client-Info":`gotrue-js/${S0}`},Od="X-Supabase-Api-Version",k0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mE=6e5;class Xf extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gE extends Xf{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function yE(e){return le(e)&&e.name==="AuthApiError"}class E0 extends Xf{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Nn extends Xf{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Gr extends Nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vE(e){return le(e)&&e.name==="AuthSessionMissingError"}class hu extends Nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pa extends Nn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ma extends Nn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wE(e){return le(e)&&e.name==="AuthImplicitGrantRedirectError"}class pm extends Nn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rd extends Nn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function pu(e){return le(e)&&e.name==="AuthRetryableFetchError"}class mm extends Nn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bi extends Nn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ym=` 	
\r=`.split(""),xE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ym.length;t+=1)e[ym[t].charCodeAt(0)]=-2;for(let t=0;t<gm.length;t+=1)e[gm[t].charCodeAt(0)]=t;return e})();function C0(e,t,r){const n=xE[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vm(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{SE(o,n,r)};for(let o=0;o<e.length;o+=1)C0(e.charCodeAt(o),s,i);return t.join("")}function bE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _E(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}bE(n,t)}}function SE(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function kE(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)C0(e.charCodeAt(s),r,n);return new Uint8Array(t)}function EE(e){const t=[];return _E(e,r=>t.push(r)),new Uint8Array(t)}function CE(e){return Math.round(Date.now()/1e3)+e}function NE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const mr=()=>typeof window<"u"&&typeof document<"u",jn={tested:!1,writable:!1},Ui=()=>{if(!mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jn.tested)return jn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),jn.tested=!0,jn.writable=!0}catch{jn.tested=!0,jn.writable=!1}return jn.writable};function jE(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const N0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},DE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",j0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ga=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ya=async(e,t)=>{await e.removeItem(t)};class nc{constructor(){this.promise=new nc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}nc.promiseConstructor=Promise;function mu(e){const t=e.split(".");if(t.length!==3)throw new Bi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!pE.test(t[n]))throw new Bi("JWT not in base64url format");return{header:JSON.parse(vm(t[0])),payload:JSON.parse(vm(t[1])),signature:kE(t[2]),raw:{header:t[0],payload:t[1]}}}async function PE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function AE(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function IE(e){return("0"+e.toString(16)).substr(-2)}function TE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,IE).join("")}async function OE(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function RE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await OE(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ls(e,t,r=!1){const n=TE();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await j0(e,`${t}-code-verifier`,s);const i=await RE(n);return[i,n===i?"plain":"s256"]}const $E=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LE(e){const t=e.headers.get(Od);if(!t||!t.match($E))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ME(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var BE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const In=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UE=[502,503,504];async function wm(e){var t;if(!DE(e))throw new Rd(In(e),0);if(UE.includes(e.status))throw new Rd(In(e),e.status);let r;try{r=await e.json()}catch(i){throw new E0(In(i),i)}let n;const s=LE(e);if(s&&s.getTime()>=k0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new mm(In(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Gr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new mm(In(r),e.status,r.weak_password.reasons);throw new gE(In(r),e.status||500,n)}const zE=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function pe(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Od]||(i[Od]=k0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await VE(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function VE(e,t,r,n,s,i){const o=zE(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Rd(In(l),0)}if(a.ok||await wm(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await wm(l)}}function Hr(e){var t;let r=null;qE(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=CE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function xm(e){const t=Hr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function WE(e){return{data:e,error:null}}function GE(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=BE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function HE(e){return e}function qE(e){return e.access_token&&e.refresh_token&&e.expires_in}var ZE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class KE{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=N0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xr})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ZE(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:GE,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(le(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xr})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:HE});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(le(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xr})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Xr})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xr})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(le(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}}const JE={getItem:e=>Ui()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ui()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ui()&&globalThis.localStorage.removeItem(e)}};function bm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function QE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cs={debug:!!(globalThis&&Ui()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class D0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class YE extends D0{}async function XE(e,t,r){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new YE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}QE();const eC={url:dE,storageKey:fE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _m(e,t,r){return await r()}class fo{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fo.nextInstanceID,fo.nextInstanceID+=1,this.instanceID>0&&mr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},eC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new KE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=N0(s.fetch),this.lock=s.lock||_m,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:mr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=XE:this.lock=_m,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ui()?this.storage=JE:(this.memoryStorage={},this.storage=bm(this.memoryStorage)):(this.memoryStorage={},this.storage=bm(this.memoryStorage)),mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${S0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=jE(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),mr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),wE(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return le(r)?{error:r}:{error:new E0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Hr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:d,options:f}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await ls(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:w},xform:Hr})}else if("phone"in t){const{phone:u,password:d,options:f}=t;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Hr})}else throw new pa("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xm})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xm})}else throw new pa("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new hu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ga(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Hr});if(await ya(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new hu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(le(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Hr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new hu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ls(this.storage,this.storageKey));const{error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new pa("You must provide either an email or phone number.")}catch(a){if(le(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Hr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ls(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:WE})}catch(i){if(le(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Gr;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(le(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new pa("You must provide either an email or phone number and a type")}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ga(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<fu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gr}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Xr})})}catch(r){if(le(r))return vE(r)&&(await this._removeSession(),await ya(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Gr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await ls(this.storage,this.storageKey));const{data:c,error:u}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Xr});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=mu(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(le(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Gr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!mr())throw new ma("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ma(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new pm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ma("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pm("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new ma("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=fs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const w=f-d;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,u);const{data:g,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(le(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ga(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(yE(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ya(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=NE(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ls(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(le(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return mr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(le(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await AE(async s=>(s>0&&await PE(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Hr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&pu(i)&&Date.now()+o-n<fs})}catch(n){if(this._debug(r,"error",n),le(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),mr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ga(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<fu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${fu}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),pu(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Gr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new nc;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Gr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),le(i)){const o={session:null,error:i};return pu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await j0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ya(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/fs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fs}ms, refresh threshold is ${Td} ticks`),s<=Td&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof D0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ls(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(le(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(le(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mu(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+mE>Date.now()))return n;const{data:s,error:i}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Bi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Bi("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=mu(n);if(FE(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=ME(s.alg),u=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,EE(`${a}.${l}`)))throw new Bi("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}}fo.nextInstanceID=0;const tC=fo;class rC extends tC{constructor(t){super(t)}}var nC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class sC{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=cE(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:tE,realtime:nE,auth:Object.assign(Object.assign({},rE),{storageKey:l}),global:eE},u=uE(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=aE(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new _k(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new YS(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Qk(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return nC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rC({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Lk(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const iC=(e,t,r)=>new sC(e,t,r),oC="https://uowdrbjwmbgdhnkodjuv.supabase.co",aC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVvd2RyYmp3bWJnZGhua29kanV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQzODQ2OTksImV4cCI6MjA1OTk2MDY5OX0.yTxh4b3N0xjg2bz55C3ucghPMKMcFM0B8jhS2Xw4GmM";let eh;try{eh=iC(oC,aC,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{"X-Client-Info":"supabase-js-web"}}})}catch(e){throw console.error("Failed to initialize Supabase client:",e),ie.error("Failed to initialize database connection"),e}const Y=eh,Sm=()=>!!eh;function lC({children:e,onSignOut:t,user:r}){const[n,s]=x.useState(!1),[i,o]=x.useState(!1),a=Gf(),[l,c]=x.useState(null);return x.useEffect(()=>{const u=async()=>{if(r)try{const{data:{user:d}}=await Y.auth.getUser();if(!d){const{data:{session:w},error:g}=await Y.auth.refreshSession();if(g||!w){await Y.auth.signOut(),a("/");return}}const{data:f,error:p}=await Y.from("profiles").select("*").eq("id",d==null?void 0:d.id).single();if(p){if(p.message.includes("session_not_found")){const{data:{session:w},error:g}=await Y.auth.refreshSession();if(g||!w){await Y.auth.signOut(),a("/");return}return u()}throw p}c(f)}catch(d){console.error("Error fetching profile:",d),ie.error("Failed to load profile")}};u()},[r,a]),h.jsxs(h.Fragment,{children:[r&&h.jsx("nav",{className:"bg-[#0A0A0A] border-b border-[#1F1F1F]",children:h.jsxs("div",{className:"max-w-[1920px] mx-auto px-4",children:[h.jsxs("div",{className:"flex items-center justify-between h-14",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("h1",{className:"text-[#E0E0E0] text-xl font-semibold",children:"Sharon AI"}),h.jsx("p",{className:"text-[#757575] text-sm hidden md:block",children:"Making Your Teams more Productive"})]}),h.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[h.jsxs("button",{onClick:()=>a("/"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#E0E0E0] hover:bg-[#1F1F1F] hover:text-accent",children:[h.jsx(Cd,{className:"w-5 h-5"}),h.jsx("span",{children:"Chat"})]}),(l==null?void 0:l.role)==="admin"?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>a("/workflows"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-accent hover:bg-[#1F1F1F] transition-colors",children:[h.jsx(Nd,{className:"w-5 h-5"}),h.jsx("span",{children:"Workflows"})]}),h.jsxs("button",{onClick:()=>a("/users"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-accent hover:bg-[#1F1F1F] transition-colors",children:[h.jsx(am,{className:"w-5 h-5"}),h.jsx("span",{children:"Users"})]}),h.jsxs("button",{onClick:()=>a("/permissions"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-accent hover:bg-[#1F1F1F] transition-colors",children:[h.jsx(om,{className:"w-5 h-5"}),h.jsx("span",{children:"Permissions"})]})]}):null,h.jsxs("div",{className:"relative ml-4",children:[h.jsxs("button",{onClick:()=>o(!i),className:"flex items-center space-x-2 px-2 py-1.5 rounded-md hover:bg-[#1F1F1F] transition-colors group",children:[h.jsx("span",{className:"text-[#E0E0E0]",children:(l==null?void 0:l.email)||"Loading..."}),h.jsx("span",{className:"px-2 py-0.5 text-white text-sm rounded bg-[#f7ab38]",children:(l==null?void 0:l.role)||"Loading..."}),h.jsx(Hf,{className:"w-4 h-4 text-[#757575] group-hover:text-[#E0E0E0]"})]}),i&&h.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-[#1F1F1F] rounded-md shadow-lg py-1 border border-[#2D2D2D] z-50",children:[h.jsx("div",{className:"px-4 py-2 border-b border-[#2D2D2D]",children:h.jsx("p",{className:"text-sm font-medium text-[#E0E0E0]",children:"My Account"})}),h.jsxs("button",{onClick:()=>a("/profile"),className:"w-full flex items-center space-x-2 px-4 py-2 text-[#757575] hover:text-[#E0E0E0] hover:bg-[#2D2D2D]",children:[h.jsx(im,{className:"w-4 h-4"}),h.jsx("span",{children:"Profile Settings"})]}),h.jsxs("button",{onClick:t,className:"w-full flex items-center space-x-2 px-4 py-2 text-[#757575] hover:text-[#E0E0E0] hover:bg-[#2D2D2D]",children:[h.jsx(sm,{className:"w-4 h-4"}),h.jsx("span",{children:"Logout"})]})]})]})]}),h.jsx("button",{onClick:()=>s(!n),className:"md:hidden text-[#757575] hover:text-[#E0E0E0]",children:h.jsx(MS,{className:"h-6 w-6"})})]}),h.jsxs("div",{className:`md:hidden ${n?"block":"hidden"} py-2 space-y-2`,children:[h.jsxs("button",{onClick:()=>a("/"),className:"w-full flex items-center space-x-2 px-3 py-2 text-[#E0E0E0] bg-[#1F1F1F] rounded-md",children:[h.jsx(Cd,{className:"w-5 h-5"}),h.jsx("span",{children:"Chat"})]}),(l==null?void 0:l.role)==="admin"&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>a("/workflows"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-[#E0E0E0] hover:bg-[#1F1F1F] transition-colors",children:[h.jsx(Nd,{className:"w-5 h-5"}),h.jsx("span",{children:"Workflows"})]}),h.jsxs("button",{onClick:()=>a("/users"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-[#E0E0E0] hover:bg-[#1F1F1F] transition-colors",children:[h.jsx(am,{className:"w-5 h-5"}),h.jsx("span",{children:"Users"})]}),h.jsxs("button",{onClick:()=>a("/permissions"),className:"flex items-center space-x-2 px-3 py-2 text-[#757575] hover:text-[#E0E0E0] hover:bg-[#1F1F1F] rounded-md",children:[h.jsx(om,{className:"w-5 h-5"}),h.jsx("span",{children:"Permissions"})]})]}),h.jsx("div",{className:"border-t border-[#1F1F1F] pt-2",children:h.jsxs("div",{className:"px-3 py-2",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-[#E0E0E0] text-sm",children:(l==null?void 0:l.email)||"Loading..."}),h.jsx("span",{className:"px-2 py-0.5 text-white text-sm rounded bg-[#f7ab38]",children:(l==null?void 0:l.role)||"Loading..."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("button",{onClick:()=>a("/profile"),className:"flex items-center space-x-2 px-4 py-2 text-[#757575] hover:text-accent hover:bg-[#2D2D2D]",children:[h.jsx(im,{className:"w-4 h-4"}),h.jsx("span",{children:"Profile Settings"})]}),h.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-4 py-2 text-[#757575] hover:text-accent hover:bg-[#2D2D2D]",children:[h.jsx(sm,{className:"w-4 h-4"}),h.jsx("span",{children:"Logout"})]})]})]})})]})]})}),e,h.jsx(TS,{})]})}function cC({onNewChat:e,selectedChat:t,selectedWorkflow:r,onSelectWorkflow:n,onSelectChat:s}){const[i,o]=x.useState(""),[a,l]=x.useState([]),[c,u]=x.useState(!1),[d,f]=x.useState([]),[p,w]=x.useState(!0),[g,b]=x.useState(!1),[y,m]=x.useState(!0),[v,S]=x.useState(0),k=15;x.useEffect(()=>{A()},[]),x.useEffect(()=>{r&&j()},[r,i]);const j=async(D=!1)=>{try{if(!r)return;if(!Sm()){ie.error("Database connection not initialized");return}const G=D?v+1:0,B=Y.from("conversations").select("*").eq("workflow_id",r.id).order("created_at",{ascending:!1}).range(G*k,(G+1)*k-1);i&&B.ilike("title",`%${i}%`);const{data:W,error:ue}=await B;if(ue){console.error("Error fetching conversations:",ue),ie.error("Failed to load conversations");return}D?(l(T=>[...T,...W||[]]),m(W.length===k)):(l(W||[]),m(W.length===k)),S(G)}catch(G){console.error("Error fetching conversations:",G),ie.error("Failed to load conversations")}};async function A(){try{if(!Sm()){ie.error("Database connection not initialized");return}const{data:{user:D},error:G}=await Y.auth.getUser();if(G){console.error("Error fetching user:",G),ie.error("Failed to authenticate user");return}if(!D){console.error("No user found"),ie.error("User not authenticated");return}const{data:B,error:W}=await Y.from("workflows").select("id, name, display_name, worker_id, api_auth_token, supports_documents, supports_images, api_url").eq("status","active").order("order",{ascending:!0});if(W){console.error("Error fetching workflows:",W),ie.error("Failed to load workflows");return}f(B||[])}catch(D){console.error("Error:",D),ie.error("Failed to fetch workflows")}finally{w(!1)}}const C=async()=>{b(!0),await j(!0),b(!1)},I=D=>{n(D),u(!1)};return h.jsxs("div",{className:"w-80 bg-[#121212] border-r border-[#2D2D2D] flex flex-col h-full",children:[h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsxs("button",{className:"w-full bg-[#1F1F1F] text-white px-4 py-2 rounded-md flex items-center justify-between hover:bg-[#2D2D2D] transition-colors",onClick:()=>u(!c),children:[h.jsx("span",{children:r?r.display_name||r.name:"Select Workflow"}),h.jsx(Hf,{className:"h-5 w-5"})]}),c&&h.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#1F1F1F] rounded-md shadow-lg border border-[#2D2D2D] py-1 z-10",children:d.map(D=>h.jsxs("button",{onClick:()=>I(D),className:"w-full px-4 py-2 text-left flex items-center justify-between hover:bg-[#2D2D2D] transition-colors",children:[h.jsx("span",{className:"text-white",children:D.display_name||D.name}),(r==null?void 0:r.id)===D.id&&h.jsx(s0,{className:"h-4 w-4 text-emerald-500"})]},D.id))})]}),h.jsx("button",{onClick:()=>{e();const D=document.querySelector('input[type="text"][placeholder="Type your message..."]');D&&D.focus()},className:"w-full bg-emerald-600 text-white py-2 rounded-md hover:bg-emerald-700 transition-colors",children:"New Chat"}),h.jsxs("div",{className:"relative",children:[h.jsx(Kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search conversations...",value:i,onChange:D=>o(D.target.value),className:"w-full bg-[#1F1F1F] text-white pl-10 pr-4 py-2 rounded-md placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"space-y-1 p-2",children:[a.map(D=>h.jsx("button",{onClick:()=>s(D.id),className:`w-full text-left p-3 rounded-md transition-colors ${t===D.id?"bg-[#1F1F1F]":"hover:bg-[#1F1F1F]/50"}`,children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx(Cd,{className:"h-5 w-5 text-gray-400 mt-1"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-white line-clamp-3",children:D.title}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(D.created_at).toLocaleString()})]})]}),h.jsx("button",{onClick:async G=>{if(G.stopPropagation(),confirm("Are you sure you want to delete this conversation?")){const{error:B}=await Y.from("conversations").delete().eq("id",D.id);B?ie.error("Failed to delete conversation"):(ie.success("Conversation deleted"),t===D.id&&s(null),j())}},className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400",children:h.jsx(Jl,{className:"h-4 w-4"})})]})},D.id)),y&&h.jsx("button",{onClick:C,disabled:g,className:"w-full py-2 text-center text-gray-400 hover:text-white transition-colors disabled:opacity-50",children:g?"Loading...":"Load More"})]})})]})}var Vo=e=>e.type==="checkbox",Mn=e=>e instanceof Date,pt=e=>e==null;const P0=e=>typeof e=="object";var Le=e=>!pt(e)&&!Array.isArray(e)&&P0(e)&&!Mn(e),uC=e=>Le(e)&&e.target?Vo(e.target)?e.target.checked:e.target.value:e,dC=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,fC=(e,t)=>e.has(dC(t)),hC=e=>{const t=e.constructor&&e.constructor.prototype;return Le(t)&&t.hasOwnProperty("isPrototypeOf")},th=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function at(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(th&&(e instanceof Blob||n))&&(r||Le(e)))if(t=r?[]:{},!r&&!hC(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=at(e[s]));else return e;return t}var sc=e=>Array.isArray(e)?e.filter(Boolean):[],Me=e=>e===void 0,J=(e,t,r)=>{if(!t||!Le(e))return r;const n=sc(t.split(/[,[\].]+?/)).reduce((s,i)=>pt(s)?s:s[i],e);return Me(n)||n===e?Me(e[t])?r:e[t]:n},yr=e=>typeof e=="boolean",rh=e=>/^\w*$/.test(e),A0=e=>sc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Se=(e,t,r)=>{let n=-1;const s=rh(t)?[t]:A0(t),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const c=e[a];l=Le(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const km={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ir={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ce.createContext(null);var pC=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ir.all&&(t._proxyFormState[o]=!n||ir.all),e[o]}});return s},wr=e=>typeof e=="string",mC=(e,t,r,n,s)=>wr(e)?(n&&t.watch.add(e),J(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),J(r,i))):(n&&(t.watchAll=!0),r),I0=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},zi=e=>Array.isArray(e)?e:[e],Em=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},$d=e=>pt(e)||!P0(e);function en(e,t){if($d(e)||$d(t))return e===t;if(Mn(e)&&Mn(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Mn(i)&&Mn(o)||Le(i)&&Le(o)||Array.isArray(i)&&Array.isArray(o)?!en(i,o):i!==o)return!1}}return!0}var ft=e=>Le(e)&&!Object.keys(e).length,nh=e=>e.type==="file",or=e=>typeof e=="function",dl=e=>{if(!th)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},T0=e=>e.type==="select-multiple",sh=e=>e.type==="radio",gC=e=>sh(e)||Vo(e),gu=e=>dl(e)&&e.isConnected;function yC(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Me(e)?n++:e[t[n++]];return e}function vC(e){for(const t in e)if(e.hasOwnProperty(t)&&!Me(e[t]))return!1;return!0}function Ue(e,t){const r=Array.isArray(t)?t:rh(t)?[t]:A0(t),n=r.length===1?e:yC(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Le(n)&&ft(n)||Array.isArray(n)&&vC(n))&&Ue(e,r.slice(0,-1)),e}var O0=e=>{for(const t in e)if(or(e[t]))return!0;return!1};function fl(e,t={}){const r=Array.isArray(e);if(Le(e)||r)for(const n in e)Array.isArray(e[n])||Le(e[n])&&!O0(e[n])?(t[n]=Array.isArray(e[n])?[]:{},fl(e[n],t[n])):pt(e[n])||(t[n]=!0);return t}function R0(e,t,r){const n=Array.isArray(e);if(Le(e)||n)for(const s in e)Array.isArray(e[s])||Le(e[s])&&!O0(e[s])?Me(t)||$d(r[s])?r[s]=Array.isArray(e[s])?fl(e[s],[]):{...fl(e[s])}:R0(e[s],pt(t)?{}:t[s],r[s]):r[s]=!en(e[s],t[s]);return r}var yi=(e,t)=>R0(e,t,fl(t));const Cm={value:!1,isValid:!1},Nm={value:!0,isValid:!0};var $0=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Me(e[0].attributes.value)?Me(e[0].value)||e[0].value===""?Nm:{value:e[0].value,isValid:!0}:Nm:Cm}return Cm},L0=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Me(e)?e:t?e===""?NaN:e&&+e:r&&wr(e)?new Date(e):n?n(e):e;const jm={isValid:!1,value:null};var F0=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,jm):jm;function Dm(e){const t=e.ref;return nh(t)?t.files:sh(t)?F0(e.refs).value:T0(t)?[...t.selectedOptions].map(({value:r})=>r):Vo(t)?$0(e.refs).value:L0(Me(t.value)?e.ref.value:t.value,e)}var wC=(e,t,r,n)=>{const s={};for(const i of e){const o=J(t,i);o&&Se(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},hl=e=>e instanceof RegExp,vi=e=>Me(e)?e:hl(e)?e.source:Le(e)?hl(e.value)?e.value.source:e.value:e,Pm=e=>({isOnSubmit:!e||e===ir.onSubmit,isOnBlur:e===ir.onBlur,isOnChange:e===ir.onChange,isOnAll:e===ir.all,isOnTouch:e===ir.onTouched});const Am="AsyncFunction";var xC=e=>!!e&&!!e.validate&&!!(or(e.validate)&&e.validate.constructor.name===Am||Le(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Am)),bC=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Im=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Vi=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=J(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Vi(a,t))break}else if(Le(a)&&Vi(a,t))break}}};function Tm(e,t,r){const n=J(e,r);if(n||rh(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=J(t,i),a=J(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:r}}var _C=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return ft(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ir.all))},SC=(e,t,r)=>!e||!t||e===t||zi(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),kC=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,EC=(e,t)=>!sc(J(e,t)).length&&Ue(e,t),CC=(e,t,r)=>{const n=zi(J(e,r));return Se(n,"root",t[r]),Se(e,r,n),e},$a=e=>wr(e);function Om(e,t,r="validate"){if($a(e)||Array.isArray(e)&&e.every($a)||yr(e)&&!e)return{type:r,message:$a(e)?e:"",ref:t}}var us=e=>Le(e)&&!hl(e)?e:{value:e,message:""},Rm=async(e,t,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:p,validate:w,name:g,valueAsNumber:b,mount:y}=e._f,m=J(r,g);if(!y||t.has(g))return{};const v=a?a[0]:o,S=B=>{s&&v.reportValidity&&(v.setCustomValidity(yr(B)?"":B||""),v.reportValidity())},k={},j=sh(o),A=Vo(o),C=j||A,I=(b||nh(o))&&Me(o.value)&&Me(m)||dl(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,D=I0.bind(null,g,n,k),G=(B,W,ue,T=Cr.maxLength,ne=Cr.minLength)=>{const fe=B?W:ue;k[g]={type:B?T:ne,message:fe,ref:o,...D(B?T:ne,fe)}};if(i?!Array.isArray(m)||!m.length:l&&(!C&&(I||pt(m))||yr(m)&&!m||A&&!$0(a).isValid||j&&!F0(a).isValid)){const{value:B,message:W}=$a(l)?{value:!!l,message:l}:us(l);if(B&&(k[g]={type:Cr.required,message:W,ref:v,...D(Cr.required,W)},!n))return S(W),k}if(!I&&(!pt(d)||!pt(f))){let B,W;const ue=us(f),T=us(d);if(!pt(m)&&!isNaN(m)){const ne=o.valueAsNumber||m&&+m;pt(ue.value)||(B=ne>ue.value),pt(T.value)||(W=ne<T.value)}else{const ne=o.valueAsDate||new Date(m),fe=L=>new Date(new Date().toDateString()+" "+L),$=o.type=="time",N=o.type=="week";wr(ue.value)&&m&&(B=$?fe(m)>fe(ue.value):N?m>ue.value:ne>new Date(ue.value)),wr(T.value)&&m&&(W=$?fe(m)<fe(T.value):N?m<T.value:ne<new Date(T.value))}if((B||W)&&(G(!!B,ue.message,T.message,Cr.max,Cr.min),!n))return S(k[g].message),k}if((c||u)&&!I&&(wr(m)||i&&Array.isArray(m))){const B=us(c),W=us(u),ue=!pt(B.value)&&m.length>+B.value,T=!pt(W.value)&&m.length<+W.value;if((ue||T)&&(G(ue,B.message,W.message),!n))return S(k[g].message),k}if(p&&!I&&wr(m)){const{value:B,message:W}=us(p);if(hl(B)&&!m.match(B)&&(k[g]={type:Cr.pattern,message:W,ref:o,...D(Cr.pattern,W)},!n))return S(W),k}if(w){if(or(w)){const B=await w(m,r),W=Om(B,v);if(W&&(k[g]={...W,...D(Cr.validate,W.message)},!n))return S(W.message),k}else if(Le(w)){let B={};for(const W in w){if(!ft(B)&&!n)break;const ue=Om(await w[W](m,r),v,W);ue&&(B={...ue,...D(W,ue.message)},S(ue.message),n&&(k[g]=B))}if(!ft(B)&&(k[g]={ref:v,...B},!n))return k}}return S(!0),k};const NC={mode:ir.onSubmit,reValidateMode:ir.onChange,shouldFocusError:!0};function jC(e={}){let t={...NC,...e},r={submitCount:0,isDirty:!1,isLoading:or(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let s=Le(t.defaultValues)||Le(t.values)?at(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:at(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const f={array:Em(),state:Em()},p=Pm(t.mode),w=Pm(t.reValidateMode),g=t.criteriaMode===ir.all,b=_=>E=>{clearTimeout(c),c=setTimeout(_,E)},y=async _=>{if(!t.disabled&&(u.isValid||d.isValid||_)){const E=t.resolver?ft((await I()).errors):await G(n,!0);E!==r.isValid&&f.state.next({isValid:E})}},m=(_,E)=>{!t.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((_||Array.from(a.mount)).forEach(P=>{P&&(E?Se(r.validatingFields,P,E):Ue(r.validatingFields,P))}),f.state.next({validatingFields:r.validatingFields,isValidating:!ft(r.validatingFields)}))},v=(_,E=[],P,q,U=!0,F=!0)=>{if(q&&P&&!t.disabled){if(o.action=!0,F&&Array.isArray(J(n,_))){const Q=P(J(n,_),q.argA,q.argB);U&&Se(n,_,Q)}if(F&&Array.isArray(J(r.errors,_))){const Q=P(J(r.errors,_),q.argA,q.argB);U&&Se(r.errors,_,Q),EC(r.errors,_)}if((u.touchedFields||d.touchedFields)&&F&&Array.isArray(J(r.touchedFields,_))){const Q=P(J(r.touchedFields,_),q.argA,q.argB);U&&Se(r.touchedFields,_,Q)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=yi(s,i)),f.state.next({name:_,isDirty:W(_,E),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Se(i,_,E)},S=(_,E)=>{Se(r.errors,_,E),f.state.next({errors:r.errors})},k=_=>{r.errors=_,f.state.next({errors:r.errors,isValid:!1})},j=(_,E,P,q)=>{const U=J(n,_);if(U){const F=J(i,_,Me(P)?J(s,_):P);Me(F)||q&&q.defaultChecked||E?Se(i,_,E?F:Dm(U._f)):ne(_,F),o.mount&&y()}},A=(_,E,P,q,U)=>{let F=!1,Q=!1;const we={name:_};if(!t.disabled){if(!P||q){(u.isDirty||d.isDirty)&&(Q=r.isDirty,r.isDirty=we.isDirty=W(),F=Q!==we.isDirty);const Fe=en(J(s,_),E);Q=!!J(r.dirtyFields,_),Fe?Ue(r.dirtyFields,_):Se(r.dirtyFields,_,!0),we.dirtyFields=r.dirtyFields,F=F||(u.dirtyFields||d.dirtyFields)&&Q!==!Fe}if(P){const Fe=J(r.touchedFields,_);Fe||(Se(r.touchedFields,_,P),we.touchedFields=r.touchedFields,F=F||(u.touchedFields||d.touchedFields)&&Fe!==P)}F&&U&&f.state.next(we)}return F?we:{}},C=(_,E,P,q)=>{const U=J(r.errors,_),F=(u.isValid||d.isValid)&&yr(E)&&r.isValid!==E;if(t.delayError&&P?(l=b(()=>S(_,P)),l(t.delayError)):(clearTimeout(c),l=null,P?Se(r.errors,_,P):Ue(r.errors,_)),(P?!en(U,P):U)||!ft(q)||F){const Q={...q,...F&&yr(E)?{isValid:E}:{},errors:r.errors,name:_};r={...r,...Q},f.state.next(Q)}},I=async _=>{m(_,!0);const E=await t.resolver(i,t.context,wC(_||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return m(_),E},D=async _=>{const{errors:E}=await I(_);if(_)for(const P of _){const q=J(E,P);q?Se(r.errors,P,q):Ue(r.errors,P)}else r.errors=E;return E},G=async(_,E,P={valid:!0})=>{for(const q in _){const U=_[q];if(U){const{_f:F,...Q}=U;if(F){const we=a.array.has(F.name),Fe=U._f&&xC(U._f);Fe&&u.validatingFields&&m([q],!0);const st=await Rm(U,a.disabled,i,g,t.shouldUseNativeValidation&&!E,we);if(Fe&&u.validatingFields&&m([q]),st[F.name]&&(P.valid=!1,E))break;!E&&(J(st,F.name)?we?CC(r.errors,st,F.name):Se(r.errors,F.name,st[F.name]):Ue(r.errors,F.name))}!ft(Q)&&await G(Q,E,P)}}return P.valid},B=()=>{for(const _ of a.unMount){const E=J(n,_);E&&(E._f.refs?E._f.refs.every(P=>!gu(P)):!gu(E._f.ref))&&Yt(_)}a.unMount=new Set},W=(_,E)=>!t.disabled&&(_&&E&&Se(i,_,E),!en(z(),s)),ue=(_,E,P)=>mC(_,a,{...o.mount?i:Me(E)?s:wr(_)?{[_]:E}:E},P,E),T=_=>sc(J(o.mount?i:s,_,t.shouldUnregister?J(s,_,[]):[])),ne=(_,E,P={})=>{const q=J(n,_);let U=E;if(q){const F=q._f;F&&(!F.disabled&&Se(i,_,L0(E,F)),U=dl(F.ref)&&pt(E)?"":E,T0(F.ref)?[...F.ref.options].forEach(Q=>Q.selected=U.includes(Q.value)):F.refs?Vo(F.ref)?F.refs.length>1?F.refs.forEach(Q=>(!Q.defaultChecked||!Q.disabled)&&(Q.checked=Array.isArray(U)?!!U.find(we=>we===Q.value):U===Q.value)):F.refs[0]&&(F.refs[0].checked=!!U):F.refs.forEach(Q=>Q.checked=Q.value===U):nh(F.ref)?F.ref.value="":(F.ref.value=U,F.ref.type||f.state.next({name:_,values:at(i)})))}(P.shouldDirty||P.shouldTouch)&&A(_,U,P.shouldTouch,P.shouldDirty,!0),P.shouldValidate&&X(_)},fe=(_,E,P)=>{for(const q in E){const U=E[q],F=`${_}.${q}`,Q=J(n,F);(a.array.has(_)||Le(U)||Q&&!Q._f)&&!Mn(U)?fe(F,U,P):ne(F,U,P)}},$=(_,E,P={})=>{const q=J(n,_),U=a.array.has(_),F=at(E);Se(i,_,F),U?(f.array.next({name:_,values:at(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&P.shouldDirty&&f.state.next({name:_,dirtyFields:yi(s,i),isDirty:W(_,F)})):q&&!q._f&&!pt(F)?fe(_,F,P):ne(_,F,P),Im(_,a)&&f.state.next({...r}),f.state.next({name:o.mount?_:void 0,values:at(i)})},N=async _=>{o.mount=!0;const E=_.target;let P=E.name,q=!0;const U=J(n,P),F=Q=>{q=Number.isNaN(Q)||Mn(Q)&&isNaN(Q.getTime())||en(Q,J(i,P,Q))};if(U){let Q,we;const Fe=E.type?Dm(U._f):uC(_),st=_.type===km.BLUR||_.type===km.FOCUS_OUT,wx=!bC(U._f)&&!t.resolver&&!J(r.errors,P)&&!U._f.deps||kC(st,J(r.touchedFields,P),r.isSubmitted,w,p),Rc=Im(P,a,st);Se(i,P,Fe),st?(U._f.onBlur&&U._f.onBlur(_),l&&l(0)):U._f.onChange&&U._f.onChange(_);const $c=A(P,Fe,st),xx=!ft($c)||Rc;if(!st&&f.state.next({name:P,type:_.type,values:at(i)}),wx)return(u.isValid||d.isValid)&&(t.mode==="onBlur"?st&&y():st||y()),xx&&f.state.next({name:P,...Rc?{}:$c});if(!st&&Rc&&f.state.next({...r}),t.resolver){const{errors:Lh}=await I([P]);if(F(Fe),q){const bx=Tm(r.errors,n,P),Fh=Tm(Lh,n,bx.name||P);Q=Fh.error,P=Fh.name,we=ft(Lh)}}else m([P],!0),Q=(await Rm(U,a.disabled,i,g,t.shouldUseNativeValidation))[P],m([P]),F(Fe),q&&(Q?we=!1:(u.isValid||d.isValid)&&(we=await G(n,!0)));q&&(U._f.deps&&X(U._f.deps),C(P,we,Q,$c))}},L=(_,E)=>{if(J(r.errors,E)&&_.focus)return _.focus(),1},X=async(_,E={})=>{let P,q;const U=zi(_);if(t.resolver){const F=await D(Me(_)?_:U);P=ft(F),q=_?!U.some(Q=>J(F,Q)):P}else _?(q=(await Promise.all(U.map(async F=>{const Q=J(n,F);return await G(Q&&Q._f?{[F]:Q}:Q)}))).every(Boolean),!(!q&&!r.isValid)&&y()):q=P=await G(n);return f.state.next({...!wr(_)||(u.isValid||d.isValid)&&P!==r.isValid?{}:{name:_},...t.resolver||!_?{isValid:P}:{},errors:r.errors}),E.shouldFocus&&!q&&Vi(n,L,_?U:a.mount),q},z=_=>{const E={...o.mount?i:s};return Me(_)?E:wr(_)?J(E,_):_.map(P=>J(E,P))},oe=(_,E)=>({invalid:!!J((E||r).errors,_),isDirty:!!J((E||r).dirtyFields,_),error:J((E||r).errors,_),isValidating:!!J(r.validatingFields,_),isTouched:!!J((E||r).touchedFields,_)}),K=_=>{_&&zi(_).forEach(E=>Ue(r.errors,E)),f.state.next({errors:_?r.errors:{}})},Xe=(_,E,P)=>{const q=(J(n,_,{_f:{}})._f||{}).ref,U=J(r.errors,_)||{},{ref:F,message:Q,type:we,...Fe}=U;Se(r.errors,_,{...Fe,...E,ref:q}),f.state.next({name:_,errors:r.errors,isValid:!1}),P&&P.shouldFocus&&q&&q.focus&&q.focus()},Ge=(_,E)=>or(_)?f.state.subscribe({next:P=>_(ue(void 0,E),P)}):ue(_,E,!0),xt=_=>f.state.subscribe({next:E=>{SC(_.name,E.name,_.exact)&&_C(E,_.formState||u,Ko,_.reRenderRoot)&&_.callback({values:{...i},...r,...E})}}).unsubscribe,zr=_=>(o.mount=!0,d={...d,..._.formState},xt({..._,formState:d})),Yt=(_,E={})=>{for(const P of _?zi(_):a.mount)a.mount.delete(P),a.array.delete(P),E.keepValue||(Ue(n,P),Ue(i,P)),!E.keepError&&Ue(r.errors,P),!E.keepDirty&&Ue(r.dirtyFields,P),!E.keepTouched&&Ue(r.touchedFields,P),!E.keepIsValidating&&Ue(r.validatingFields,P),!t.shouldUnregister&&!E.keepDefaultValue&&Ue(s,P);f.state.next({values:at(i)}),f.state.next({...r,...E.keepDirty?{isDirty:W()}:{}}),!E.keepIsValid&&y()},Vr=({disabled:_,name:E})=>{(yr(_)&&o.mount||_||a.disabled.has(E))&&(_?a.disabled.add(E):a.disabled.delete(E))},He=(_,E={})=>{let P=J(n,_);const q=yr(E.disabled)||yr(t.disabled);return Se(n,_,{...P||{},_f:{...P&&P._f?P._f:{ref:{name:_}},name:_,mount:!0,...E}}),a.mount.add(_),P?Vr({disabled:yr(E.disabled)?E.disabled:t.disabled,name:_}):j(_,!0,E.value),{...q?{disabled:E.disabled||t.disabled}:{},...t.progressive?{required:!!E.required,min:vi(E.min),max:vi(E.max),minLength:vi(E.minLength),maxLength:vi(E.maxLength),pattern:vi(E.pattern)}:{},name:_,onChange:N,onBlur:N,ref:U=>{if(U){He(_,E),P=J(n,_);const F=Me(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,Q=gC(F),we=P._f.refs||[];if(Q?we.find(Fe=>Fe===F):F===P._f.ref)return;Se(n,_,{_f:{...P._f,...Q?{refs:[...we.filter(gu),F,...Array.isArray(J(s,_))?[{}]:[]],ref:{type:F.type,name:_}}:{ref:F}}}),j(_,!1,void 0,F)}else P=J(n,_,{}),P._f&&(P._f.mount=!1),(t.shouldUnregister||E.shouldUnregister)&&!(fC(a.array,_)&&o.action)&&a.unMount.add(_)}}},De=()=>t.shouldFocusError&&Vi(n,L,a.mount),Xt=_=>{yr(_)&&(f.state.next({disabled:_}),Vi(n,(E,P)=>{const q=J(n,P);q&&(E.disabled=q._f.disabled||_,Array.isArray(q._f.refs)&&q._f.refs.forEach(U=>{U.disabled=q._f.disabled||_}))},0,!1))},ss=(_,E)=>async P=>{let q;P&&(P.preventDefault&&P.preventDefault(),P.persist&&P.persist());let U=at(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:F,values:Q}=await I();r.errors=F,U=Q}else await G(n);if(a.disabled.size)for(const F of a.disabled)Se(U,F,void 0);if(Ue(r.errors,"root"),ft(r.errors)){f.state.next({errors:{}});try{await _(U,P)}catch(F){q=F}}else E&&await E({...r.errors},P),De(),setTimeout(De);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ft(r.errors)&&!q,submitCount:r.submitCount+1,errors:r.errors}),q)throw q},qo=(_,E={})=>{J(n,_)&&(Me(E.defaultValue)?$(_,at(J(s,_))):($(_,E.defaultValue),Se(s,_,at(E.defaultValue))),E.keepTouched||Ue(r.touchedFields,_),E.keepDirty||(Ue(r.dirtyFields,_),r.isDirty=E.defaultValue?W(_,at(J(s,_))):W()),E.keepError||(Ue(r.errors,_),u.isValid&&y()),f.state.next({...r}))},Oc=(_,E={})=>{const P=_?at(_):s,q=at(P),U=ft(_),F=U?s:q;if(E.keepDefaultValues||(s=P),!E.keepValues){if(E.keepDirtyValues){const Q=new Set([...a.mount,...Object.keys(yi(s,i))]);for(const we of Array.from(Q))J(r.dirtyFields,we)?Se(F,we,J(i,we)):$(we,J(F,we))}else{if(th&&Me(_))for(const Q of a.mount){const we=J(n,Q);if(we&&we._f){const Fe=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(dl(Fe)){const st=Fe.closest("form");if(st){st.reset();break}}}}for(const Q of a.mount)$(Q,J(F,Q))}i=at(F),f.array.next({values:{...F}}),f.state.next({values:{...F}})}a={mount:E.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!E.keepIsValid||!!E.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:E.keepSubmitCount?r.submitCount:0,isDirty:U?!1:E.keepDirty?r.isDirty:!!(E.keepDefaultValues&&!en(_,s)),isSubmitted:E.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:U?{}:E.keepDirtyValues?E.keepDefaultValues&&i?yi(s,i):r.dirtyFields:E.keepDefaultValues&&_?yi(s,_):E.keepDirty?r.dirtyFields:{},touchedFields:E.keepTouched?r.touchedFields:{},errors:E.keepErrors?r.errors:{},isSubmitSuccessful:E.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Zo=(_,E)=>Oc(or(_)?_(i):_,E),is=(_,E={})=>{const P=J(n,_),q=P&&P._f;if(q){const U=q.refs?q.refs[0]:q.ref;U.focus&&(U.focus(),E.shouldSelect&&or(U.select)&&U.select())}},Ko=_=>{r={...r,..._}},$h={control:{register:He,unregister:Yt,getFieldState:oe,handleSubmit:ss,setError:Xe,_subscribe:xt,_runSchema:I,_getWatch:ue,_getDirty:W,_setValid:y,_setFieldArray:v,_setDisabledField:Vr,_setErrors:k,_getFieldArray:T,_reset:Oc,_resetDefaultValues:()=>or(t.defaultValues)&&t.defaultValues().then(_=>{Zo(_,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:Xt,_subjects:f,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(_){o=_},get _defaultValues(){return s},get _names(){return a},set _names(_){a=_},get _formState(){return r},get _options(){return t},set _options(_){t={...t,..._}}},subscribe:zr,trigger:X,register:He,handleSubmit:ss,watch:Ge,setValue:$,getValues:z,reset:Zo,resetField:qo,clearErrors:K,unregister:Yt,setError:Xe,setFocus:is,getFieldState:oe};return{...$h,formControl:$h}}function ih(e={}){const t=ce.useRef(void 0),r=ce.useRef(void 0),[n,s]=ce.useState({isDirty:!1,isValidating:!1,isLoading:or(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:or(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:jC(e),formState:n},e.formControl&&e.defaultValues&&!or(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,ce.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),ce.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ce.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),ce.useEffect(()=>{e.values&&!en(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),ce.useEffect(()=>{e.errors&&!ft(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),ce.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ce.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=pC(n,i),t.current}const $m=(e,t,r)=>{if(e&&"reportValidity"in e){const n=J(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},M0=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?$m(n.ref,r,e):n.refs&&n.refs.forEach(s=>$m(s,r,e))}},DC=(e,t)=>{t.shouldUseNativeValidation&&M0(e,t);const r={};for(const n in e){const s=J(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(PC(t.names||Object.keys(e),n)){const o=Object.assign({},J(r,n));Se(o,"root",i),Se(r,n,o)}else Se(r,n,i)}return r},PC=(e,t)=>e.some(r=>r.startsWith(t+"."));var AC=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return e.push(d)})}),t){var l=r[o].types,c=l&&l[n.code];r[o]=I0(o,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r},oh=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(c){return i.shouldUseNativeValidation&&M0({},i),{errors:{},values:r.raw?n:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:DC(AC(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};function IC({context:e,error:t}){const r=t instanceof Error?t.message:"An unknown error occurred",n=t instanceof Error?t.stack:void 0;console.error("Error occurred:",{message:r,stack:n,context:e})}async function TC(e,t,r,n){try{const s=r instanceof Error?r.message:"An unknown error occurred",{error:i}=await e.from("workflow_logs").insert({workflow_id:t,level:"error",message:s,details:{error:s,stack:r instanceof Error?r.stack:void 0,context:n}});i&&console.error("Failed to log workflow error:",i)}catch(s){console.error("Failed to log workflow error:",s)}}class va extends Error{constructor(t,r,n){super(t),this.name="ApiError",this.status=r,this.details=n}}async function B0({workerId:e,apiAuthToken:t,apiConfig:r,variables:n,workflowId:s}){var i;if(console.log("API: Making request with:",{workerId:e,variables:n,workflowId:s}),!e||e==="your-worker-id")throw new va("Worker ID is not configured",400);if(!t||t==="your-auth-token")throw new va("API authentication token is not configured",400);try{const o=await fetch(r.url,{method:r.method,headers:{"Content-Type":r.content_type,Authorization:t.startsWith("Bearer ")?t:`Bearer ${t}`},body:JSON.stringify({workerId:e,variables:n})});console.log("API: Response received:",{status:o.status,ok:o.ok});const a=await o.json(),l=a.result||a.responseText||a.response||a.message||"No response received";if(s){const{error:c}=await Y.from("workflow_logs").insert({workflow_id:s,level:o.ok?"info":"error",message:o.ok?"API test completed successfully":`API request failed: ${o.statusText}`,details:{workerId:e,url:r.url,method:r.method,status:o.status,response:a},created_by:(i=(await Y.auth.getUser()).data.user)==null?void 0:i.id});c&&console.error("Failed to log workflow test:",c)}if(!o.ok)throw new va(a.message||`API request failed: ${o.statusText}`,o.status,a);return{success:!0,data:{response:l}}}catch(o){throw s||(console.error("API Error Details:",{error:o,stack:o instanceof Error?o.stack:void 0,context:{workerId:e,url:r.url,method:r.method,variables:n}}),IC({context:{workerId:e,url:r.url,method:r.method,variables:n,error:o instanceof Error?o.message:"Unknown error",stack:o instanceof Error?o.stack:void 0},error:o}),await TC(Y,s,o,{workflow_id:s,level:"error",message:o instanceof Error?o.message:"Failed to connect to MindStudio API",details:{error:o instanceof Error?o.message:"Unknown error",stack:o instanceof Error?o.stack:void 0,request:{workerId:e,url:r.url,method:r.method,variables:n},response:o instanceof va?o.details:void 0,context:{workerId:e,url:r.url,method:r.method}}})),o}}var ye;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ye||(ye={}));var Ld;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Ld||(Ld={}));const H=ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ar=e=>{switch(typeof e){case"undefined":return H.undefined;case"string":return H.string;case"number":return isNaN(e)?H.nan:H.number;case"boolean":return H.boolean;case"function":return H.function;case"bigint":return H.bigint;case"symbol":return H.symbol;case"object":return Array.isArray(e)?H.array:e===null?H.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?H.promise:typeof Map<"u"&&e instanceof Map?H.map:typeof Set<"u"&&e instanceof Set?H.set:typeof Date<"u"&&e instanceof Date?H.date:H.object;default:return H.unknown}},O=ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),OC=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ot extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),n}static assert(t){if(!(t instanceof Ot))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ot.create=e=>new Ot(e);const Gs=(e,t)=>{let r;switch(e.code){case O.invalid_type:e.received===H.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case O.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ye.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:r=`Unrecognized key(s) in object: ${ye.joinValues(e.keys,", ")}`;break;case O.invalid_union:r="Invalid input";break;case O.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ye.joinValues(e.options)}`;break;case O.invalid_enum_value:r=`Invalid enum value. Expected ${ye.joinValues(e.options)}, received '${e.received}'`;break;case O.invalid_arguments:r="Invalid function arguments";break;case O.invalid_return_type:r="Invalid function return type";break;case O.invalid_date:r="Invalid date";break;case O.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ye.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case O.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case O.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case O.custom:r="Invalid input";break;case O.invalid_intersection_types:r="Intersection results could not be merged";break;case O.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case O.not_finite:r="Number must be finite";break;default:r=t.defaultError,ye.assertNever(e)}return{message:r}};let U0=Gs;function RC(e){U0=e}function pl(){return U0}const ml=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:t,defaultError:a}).message;return{...s,path:i,message:a}},$C=[];function V(e,t){const r=pl(),n=ml({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Gs?void 0:Gs].filter(s=>!!s)});e.common.issues.push(n)}class ut{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return se;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return ut.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return se;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const se=Object.freeze({status:"aborted"}),Cs=e=>({status:"dirty",value:e}),yt=e=>({status:"valid",value:e}),Fd=e=>e.status==="aborted",Md=e=>e.status==="dirty",Jn=e=>e.status==="valid",ho=e=>typeof Promise<"u"&&e instanceof Promise;function gl(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function z0(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ee;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ee||(ee={}));var Ni,ji;class Sr{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Lm=(e,t)=>{if(Jn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ot(e.common.issues);return this._error=r,this._error}}};function ae(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,a)=>{var l,c;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??n)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:a.defaultError}},description:s}}class de{get description(){return this._def.description}_getType(t){return Ar(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ar(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ut,ctx:{common:t.parent.common,data:t.data,parsedType:Ar(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ho(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ar(t)},i=this._parseSync({data:t,path:s.path,parent:s});return Lm(s,i)}"~validate"(t){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ar(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return Jn(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>Jn(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ar(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(ho(s)?s:Promise.resolve(s));return Lm(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),a=()=>i.addIssue({code:O.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new hr({schema:this,typeName:re.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return _r.create(this,this._def)}nullable(){return bn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dr.create(this)}promise(){return qs.create(this,this._def)}or(t){return yo.create([this,t],this._def)}and(t){return vo.create(this,t,this._def)}transform(t){return new hr({...ae(this._def),schema:this,typeName:re.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new So({...ae(this._def),innerType:this,defaultValue:r,typeName:re.ZodDefault})}brand(){return new ah({typeName:re.ZodBranded,type:this,...ae(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ko({...ae(this._def),innerType:this,catchValue:r,typeName:re.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Wo.create(this,t)}readonly(){return Eo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const LC=/^c[^\s-]{8,}$/i,FC=/^[0-9a-z]+$/,MC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,BC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,UC=/^[a-z0-9_-]{21}$/i,zC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,VC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,WC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let yu;const HC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ZC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,KC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,JC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,QC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,V0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",YC=new RegExp(`^${V0}$`);function W0(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function XC(e){return new RegExp(`^${W0(e)}$`)}function G0(e){let t=`${V0}T${W0(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function e2(e,t){return!!((t==="v4"||!t)&&HC.test(e)||(t==="v6"||!t)&&ZC.test(e))}function t2(e,t){if(!zC.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function r2(e,t){return!!((t==="v4"||!t)&&qC.test(e)||(t==="v6"||!t)&&KC.test(e))}class ar extends de{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==H.string){const i=this._getOrReturnCtx(t);return V(i,{code:O.invalid_type,expected:H.string,received:i.parsedType}),se}const n=new ut;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),V(s,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),V(s,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(t,s),o?V(s,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&V(s,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")WC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"email",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")yu||(yu=new RegExp(GC,"u")),yu.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"emoji",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")BC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"uuid",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")UC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"nanoid",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")LC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"cuid",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")FC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"cuid2",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")MC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"ulid",code:O.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),V(s,{validation:"url",code:O.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"regex",code:O.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),V(s,{code:O.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),V(s,{code:O.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),V(s,{code:O.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?G0(i).test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{code:O.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?YC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{code:O.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?XC(i).test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{code:O.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?VC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"duration",code:O.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?e2(t.data,i.version)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"ip",code:O.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?t2(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"jwt",code:O.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?r2(t.data,i.version)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"cidr",code:O.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?JC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"base64",code:O.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?QC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"base64url",code:O.invalid_string,message:i.message}),n.dirty()):ye.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:O.invalid_string,...ee.errToObj(n)})}_addCheck(t){return new ar({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ee.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ee.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ee.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ee.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ee.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ee.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ee.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ee.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ee.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ee.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ee.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ee.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ee.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...ee.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ee.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ee.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ee.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ee.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ee.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ee.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ee.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ee.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ee.errToObj(r)})}nonempty(t){return this.min(1,ee.errToObj(t))}trim(){return new ar({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ar({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ar({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ar.create=e=>{var t;return new ar({checks:[],typeName:re.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ae(e)})};function n2(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class vn extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==H.number){const i=this._getOrReturnCtx(t);return V(i,{code:O.invalid_type,expected:H.number,received:i.parsedType}),se}let n;const s=new ut;for(const i of this._def.checks)i.kind==="int"?ye.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),V(n,{code:O.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),V(n,{code:O.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),V(n,{code:O.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?n2(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),V(n,{code:O.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),V(n,{code:O.not_finite,message:i.message}),s.dirty()):ye.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ee.toString(r))}setLimit(t,r,n,s){return new vn({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ee.toString(s)}]})}_addCheck(t){return new vn({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ee.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ee.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ee.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ee.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ye.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}vn.create=e=>new vn({checks:[],typeName:re.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ae(e)});class wn extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==H.bigint)return this._getInvalidInput(t);let n;const s=new ut;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),V(n,{code:O.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),V(n,{code:O.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),V(n,{code:O.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ye.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return V(r,{code:O.invalid_type,expected:H.bigint,received:r.parsedType}),se}gte(t,r){return this.setLimit("min",t,!0,ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ee.toString(r))}setLimit(t,r,n,s){return new wn({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ee.toString(s)}]})}_addCheck(t){return new wn({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}wn.create=e=>{var t;return new wn({checks:[],typeName:re.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ae(e)})};class po extends de{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==H.boolean){const n=this._getOrReturnCtx(t);return V(n,{code:O.invalid_type,expected:H.boolean,received:n.parsedType}),se}return yt(t.data)}}po.create=e=>new po({typeName:re.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ae(e)});class Qn extends de{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==H.date){const i=this._getOrReturnCtx(t);return V(i,{code:O.invalid_type,expected:H.date,received:i.parsedType}),se}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return V(i,{code:O.invalid_date}),se}const n=new ut;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),V(s,{code:O.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),V(s,{code:O.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ye.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Qn({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ee.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ee.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Qn.create=e=>new Qn({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:re.ZodDate,...ae(e)});class yl extends de{_parse(t){if(this._getType(t)!==H.symbol){const n=this._getOrReturnCtx(t);return V(n,{code:O.invalid_type,expected:H.symbol,received:n.parsedType}),se}return yt(t.data)}}yl.create=e=>new yl({typeName:re.ZodSymbol,...ae(e)});class mo extends de{_parse(t){if(this._getType(t)!==H.undefined){const n=this._getOrReturnCtx(t);return V(n,{code:O.invalid_type,expected:H.undefined,received:n.parsedType}),se}return yt(t.data)}}mo.create=e=>new mo({typeName:re.ZodUndefined,...ae(e)});class go extends de{_parse(t){if(this._getType(t)!==H.null){const n=this._getOrReturnCtx(t);return V(n,{code:O.invalid_type,expected:H.null,received:n.parsedType}),se}return yt(t.data)}}go.create=e=>new go({typeName:re.ZodNull,...ae(e)});class Hs extends de{constructor(){super(...arguments),this._any=!0}_parse(t){return yt(t.data)}}Hs.create=e=>new Hs({typeName:re.ZodAny,...ae(e)});class Wn extends de{constructor(){super(...arguments),this._unknown=!0}_parse(t){return yt(t.data)}}Wn.create=e=>new Wn({typeName:re.ZodUnknown,...ae(e)});class Br extends de{_parse(t){const r=this._getOrReturnCtx(t);return V(r,{code:O.invalid_type,expected:H.never,received:r.parsedType}),se}}Br.create=e=>new Br({typeName:re.ZodNever,...ae(e)});class vl extends de{_parse(t){if(this._getType(t)!==H.undefined){const n=this._getOrReturnCtx(t);return V(n,{code:O.invalid_type,expected:H.void,received:n.parsedType}),se}return yt(t.data)}}vl.create=e=>new vl({typeName:re.ZodVoid,...ae(e)});class dr extends de{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==H.array)return V(r,{code:O.invalid_type,expected:H.array,received:r.parsedType}),se;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(V(r,{code:o?O.too_big:O.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(V(r,{code:O.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(V(r,{code:O.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new Sr(r,o,r.path,a)))).then(o=>ut.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new Sr(r,o,r.path,a)));return ut.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new dr({...this._def,minLength:{value:t,message:ee.toString(r)}})}max(t,r){return new dr({...this._def,maxLength:{value:t,message:ee.toString(r)}})}length(t,r){return new dr({...this._def,exactLength:{value:t,message:ee.toString(r)}})}nonempty(t){return this.min(1,t)}}dr.create=(e,t)=>new dr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:re.ZodArray,...ae(t)});function hs(e){if(e instanceof Ae){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=_r.create(hs(n))}return new Ae({...e._def,shape:()=>t})}else return e instanceof dr?new dr({...e._def,type:hs(e.element)}):e instanceof _r?_r.create(hs(e.unwrap())):e instanceof bn?bn.create(hs(e.unwrap())):e instanceof kr?kr.create(e.items.map(t=>hs(t))):e}class Ae extends de{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ye.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==H.object){const c=this._getOrReturnCtx(t);return V(c,{code:O.invalid_type,expected:H.object,received:c.parsedType}),se}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Br&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Sr(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Br){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(V(s,{code:O.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Sr(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>ut.mergeObjectSync(n,c)):ut.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return ee.errToObj,new Ae({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=ee.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ae({...this._def,unknownKeys:"strip"})}passthrough(){return new Ae({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ae({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ae({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:re.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ae({...this._def,catchall:t})}pick(t){const r={};return ye.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ae({...this._def,shape:()=>r})}omit(t){const r={};return ye.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Ae({...this._def,shape:()=>r})}deepPartial(){return hs(this)}partial(t){const r={};return ye.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new Ae({...this._def,shape:()=>r})}required(t){const r={};return ye.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof _r;)i=i._def.innerType;r[n]=i}}),new Ae({...this._def,shape:()=>r})}keyof(){return H0(ye.objectKeys(this.shape))}}Ae.create=(e,t)=>new Ae({shape:()=>e,unknownKeys:"strip",catchall:Br.create(),typeName:re.ZodObject,...ae(t)});Ae.strictCreate=(e,t)=>new Ae({shape:()=>e,unknownKeys:"strict",catchall:Br.create(),typeName:re.ZodObject,...ae(t)});Ae.lazycreate=(e,t)=>new Ae({shape:e,unknownKeys:"strip",catchall:Br.create(),typeName:re.ZodObject,...ae(t)});class yo extends de{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Ot(a.ctx.common.issues));return V(r,{code:O.invalid_union,unionErrors:o}),se}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Ot(l));return V(r,{code:O.invalid_union,unionErrors:a}),se}}get options(){return this._def.options}}yo.create=(e,t)=>new yo({options:e,typeName:re.ZodUnion,...ae(t)});const Nr=e=>e instanceof xo?Nr(e.schema):e instanceof hr?Nr(e.innerType()):e instanceof bo?[e.value]:e instanceof xn?e.options:e instanceof _o?ye.objectValues(e.enum):e instanceof So?Nr(e._def.innerType):e instanceof mo?[void 0]:e instanceof go?[null]:e instanceof _r?[void 0,...Nr(e.unwrap())]:e instanceof bn?[null,...Nr(e.unwrap())]:e instanceof ah||e instanceof Eo?Nr(e.unwrap()):e instanceof ko?Nr(e._def.innerType):[];class ic extends de{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==H.object)return V(r,{code:O.invalid_type,expected:H.object,received:r.parsedType}),se;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(V(r,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),se)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=Nr(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);s.set(a,i)}}return new ic({typeName:re.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...ae(n)})}}function Bd(e,t){const r=Ar(e),n=Ar(t);if(e===t)return{valid:!0,data:e};if(r===H.object&&n===H.object){const s=ye.objectKeys(t),i=ye.objectKeys(e).filter(a=>s.indexOf(a)!==-1),o={...e,...t};for(const a of i){const l=Bd(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===H.array&&n===H.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],a=t[i],l=Bd(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===H.date&&n===H.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class vo extends de{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(Fd(i)||Fd(o))return se;const a=Bd(i.value,o.value);return a.valid?((Md(i)||Md(o))&&r.dirty(),{status:r.value,value:a.data}):(V(n,{code:O.invalid_intersection_types}),se)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}vo.create=(e,t,r)=>new vo({left:e,right:t,typeName:re.ZodIntersection,...ae(r)});class kr extends de{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==H.array)return V(n,{code:O.invalid_type,expected:H.array,received:n.parsedType}),se;if(n.data.length<this._def.items.length)return V(n,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),se;!this._def.rest&&n.data.length>this._def.items.length&&(V(n,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Sr(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ut.mergeArray(r,o)):ut.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new kr({...this._def,rest:t})}}kr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new kr({items:e,typeName:re.ZodTuple,rest:null,...ae(t)})};class wo extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==H.object)return V(n,{code:O.invalid_type,expected:H.object,received:n.parsedType}),se;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new Sr(n,a,n.path,a)),value:o._parse(new Sr(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?ut.mergeObjectAsync(r,s):ut.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof de?new wo({keyType:t,valueType:r,typeName:re.ZodRecord,...ae(n)}):new wo({keyType:ar.create(),valueType:t,typeName:re.ZodRecord,...ae(r)})}}class wl extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==H.map)return V(n,{code:O.invalid_type,expected:H.map,received:n.parsedType}),se;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,l],c)=>({key:s._parse(new Sr(n,a,n.path,[c,"key"])),value:i._parse(new Sr(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return se;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return se;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}}}}wl.create=(e,t,r)=>new wl({valueType:t,keyType:e,typeName:re.ZodMap,...ae(r)});class Yn extends de{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==H.set)return V(n,{code:O.invalid_type,expected:H.set,received:n.parsedType}),se;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(V(n,{code:O.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(V(n,{code:O.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return se;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>i._parse(new Sr(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,r){return new Yn({...this._def,minSize:{value:t,message:ee.toString(r)}})}max(t,r){return new Yn({...this._def,maxSize:{value:t,message:ee.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Yn.create=(e,t)=>new Yn({valueType:e,minSize:null,maxSize:null,typeName:re.ZodSet,...ae(t)});class Os extends de{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==H.function)return V(r,{code:O.invalid_type,expected:H.function,received:r.parsedType}),se;function n(a,l){return ml({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,pl(),Gs].filter(c=>!!c),issueData:{code:O.invalid_arguments,argumentsError:l}})}function s(a,l){return ml({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,pl(),Gs].filter(c=>!!c),issueData:{code:O.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof qs){const a=this;return yt(async function(...l){const c=new Ot([]),u=await a._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(n(l,p)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(p=>{throw c.addIssue(s(d,p)),c})})}else{const a=this;return yt(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new Ot([n(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new Ot([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Os({...this._def,args:kr.create(t).rest(Wn.create())})}returns(t){return new Os({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Os({args:t||kr.create([]).rest(Wn.create()),returns:r||Wn.create(),typeName:re.ZodFunction,...ae(n)})}}class xo extends de{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}xo.create=(e,t)=>new xo({getter:e,typeName:re.ZodLazy,...ae(t)});class bo extends de{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return V(r,{received:r.data,code:O.invalid_literal,expected:this._def.value}),se}return{status:"valid",value:t.data}}get value(){return this._def.value}}bo.create=(e,t)=>new bo({value:e,typeName:re.ZodLiteral,...ae(t)});function H0(e,t){return new xn({values:e,typeName:re.ZodEnum,...ae(t)})}class xn extends de{constructor(){super(...arguments),Ni.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return V(r,{expected:ye.joinValues(n),received:r.parsedType,code:O.invalid_type}),se}if(gl(this,Ni)||z0(this,Ni,new Set(this._def.values)),!gl(this,Ni).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return V(r,{received:r.data,code:O.invalid_enum_value,options:n}),se}return yt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return xn.create(t,{...this._def,...r})}exclude(t,r=this._def){return xn.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ni=new WeakMap;xn.create=H0;class _o extends de{constructor(){super(...arguments),ji.set(this,void 0)}_parse(t){const r=ye.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==H.string&&n.parsedType!==H.number){const s=ye.objectValues(r);return V(n,{expected:ye.joinValues(s),received:n.parsedType,code:O.invalid_type}),se}if(gl(this,ji)||z0(this,ji,new Set(ye.getValidEnumValues(this._def.values))),!gl(this,ji).has(t.data)){const s=ye.objectValues(r);return V(n,{received:n.data,code:O.invalid_enum_value,options:s}),se}return yt(t.data)}get enum(){return this._def.values}}ji=new WeakMap;_o.create=(e,t)=>new _o({values:e,typeName:re.ZodNativeEnum,...ae(t)});class qs extends de{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==H.promise&&r.common.async===!1)return V(r,{code:O.invalid_type,expected:H.promise,received:r.parsedType}),se;const n=r.parsedType===H.promise?r.data:Promise.resolve(r.data);return yt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}qs.create=(e,t)=>new qs({type:e,typeName:re.ZodPromise,...ae(t)});class hr extends de{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{V(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return se;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?se:l.status==="dirty"||r.value==="dirty"?Cs(l.value):l});{if(r.value==="aborted")return se;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?se:a.status==="dirty"||r.value==="dirty"?Cs(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?se:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?se:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Jn(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Jn(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);ye.assertNever(s)}}hr.create=(e,t,r)=>new hr({schema:e,typeName:re.ZodEffects,effect:t,...ae(r)});hr.createWithPreprocess=(e,t,r)=>new hr({schema:t,effect:{type:"preprocess",transform:e},typeName:re.ZodEffects,...ae(r)});class _r extends de{_parse(t){return this._getType(t)===H.undefined?yt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_r.create=(e,t)=>new _r({innerType:e,typeName:re.ZodOptional,...ae(t)});class bn extends de{_parse(t){return this._getType(t)===H.null?yt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bn.create=(e,t)=>new bn({innerType:e,typeName:re.ZodNullable,...ae(t)});class So extends de{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===H.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}So.create=(e,t)=>new So({innerType:e,typeName:re.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ae(t)});class ko extends de{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ho(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ot(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ot(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ko.create=(e,t)=>new ko({innerType:e,typeName:re.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ae(t)});class xl extends de{_parse(t){if(this._getType(t)!==H.nan){const n=this._getOrReturnCtx(t);return V(n,{code:O.invalid_type,expected:H.nan,received:n.parsedType}),se}return{status:"valid",value:t.data}}}xl.create=e=>new xl({typeName:re.ZodNaN,...ae(e)});const s2=Symbol("zod_brand");class ah extends de{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Wo extends de{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?se:i.status==="dirty"?(r.dirty(),Cs(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?se:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Wo({in:t,out:r,typeName:re.ZodPipeline})}}class Eo extends de{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Jn(s)&&(s.value=Object.freeze(s.value)),s);return ho(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Eo.create=(e,t)=>new Eo({innerType:e,typeName:re.ZodReadonly,...ae(t)});function Fm(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function q0(e,t={},r){return e?Hs.create().superRefine((n,s)=>{var i,o;const a=e(n);if(a instanceof Promise)return a.then(l=>{var c,u;if(!l){const d=Fm(t,n),f=(u=(c=d.fatal)!==null&&c!==void 0?c:r)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...d,fatal:f})}});if(!a){const l=Fm(t,n),c=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:c})}}):Hs.create()}const i2={object:Ae.lazycreate};var re;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(re||(re={}));const o2=(e,t={message:`Input not instance of ${e.name}`})=>q0(r=>r instanceof e,t),Z0=ar.create,K0=vn.create,a2=xl.create,l2=wn.create,J0=po.create,c2=Qn.create,u2=yl.create,d2=mo.create,f2=go.create,h2=Hs.create,p2=Wn.create,m2=Br.create,g2=vl.create,y2=dr.create,v2=Ae.create,w2=Ae.strictCreate,x2=yo.create,b2=ic.create,_2=vo.create,S2=kr.create,k2=wo.create,E2=wl.create,C2=Yn.create,N2=Os.create,j2=xo.create,D2=bo.create,P2=xn.create,A2=_o.create,I2=qs.create,Mm=hr.create,T2=_r.create,O2=bn.create,R2=hr.createWithPreprocess,$2=Wo.create,L2=()=>Z0().optional(),F2=()=>K0().optional(),M2=()=>J0().optional(),B2={string:e=>ar.create({...e,coerce:!0}),number:e=>vn.create({...e,coerce:!0}),boolean:e=>po.create({...e,coerce:!0}),bigint:e=>wn.create({...e,coerce:!0}),date:e=>Qn.create({...e,coerce:!0})},U2=se;var me=Object.freeze({__proto__:null,defaultErrorMap:Gs,setErrorMap:RC,getErrorMap:pl,makeIssue:ml,EMPTY_PATH:$C,addIssueToContext:V,ParseStatus:ut,INVALID:se,DIRTY:Cs,OK:yt,isAborted:Fd,isDirty:Md,isValid:Jn,isAsync:ho,get util(){return ye},get objectUtil(){return Ld},ZodParsedType:H,getParsedType:Ar,ZodType:de,datetimeRegex:G0,ZodString:ar,ZodNumber:vn,ZodBigInt:wn,ZodBoolean:po,ZodDate:Qn,ZodSymbol:yl,ZodUndefined:mo,ZodNull:go,ZodAny:Hs,ZodUnknown:Wn,ZodNever:Br,ZodVoid:vl,ZodArray:dr,ZodObject:Ae,ZodUnion:yo,ZodDiscriminatedUnion:ic,ZodIntersection:vo,ZodTuple:kr,ZodRecord:wo,ZodMap:wl,ZodSet:Yn,ZodFunction:Os,ZodLazy:xo,ZodLiteral:bo,ZodEnum:xn,ZodNativeEnum:_o,ZodPromise:qs,ZodEffects:hr,ZodTransformer:hr,ZodOptional:_r,ZodNullable:bn,ZodDefault:So,ZodCatch:ko,ZodNaN:xl,BRAND:s2,ZodBranded:ah,ZodPipeline:Wo,ZodReadonly:Eo,custom:q0,Schema:de,ZodSchema:de,late:i2,get ZodFirstPartyTypeKind(){return re},coerce:B2,any:h2,array:y2,bigint:l2,boolean:J0,date:c2,discriminatedUnion:b2,effect:Mm,enum:P2,function:N2,instanceof:o2,intersection:_2,lazy:j2,literal:D2,map:E2,nan:a2,nativeEnum:A2,never:m2,null:f2,nullable:O2,number:K0,object:v2,oboolean:M2,onumber:F2,optional:T2,ostring:L2,pipeline:$2,preprocess:R2,promise:I2,record:k2,set:C2,strictObject:w2,string:Z0,symbol:u2,transformer:Mm,tuple:S2,undefined:d2,union:x2,unknown:p2,void:g2,NEVER:U2,ZodIssueCode:O,quotelessJson:OC,ZodError:Ot});me.object({email:me.string().email("Invalid email address"),password:me.string().min(8,"Password must be at least 8 characters").max(72,"Password must be less than 72 characters"),confirmPassword:me.string(),company_name:me.string().min(1,"Company name is required")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});me.object({email:me.string().email("Invalid email address"),password:me.string().min(1,"Password is required")});const z2=me.object({email:me.string().email("Invalid email format"),password:me.string().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least 1 uppercase letter").regex(/[a-z]/,"Password must contain at least 1 lowercase letter").regex(/[0-9]/,"Password must contain at least 1 number").regex(/[^A-Za-z0-9]/,"Password must contain at least 1 special character"),confirmPassword:me.string(),company_name:me.string().min(1,"Company name is required").max(100,"Company name too long"),role:me.enum(["admin","user","manager"])}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),V2=me.object({name:me.string().min(1,"Name is required").max(100,"Name is too long"),display_name:me.string().max(100,"Display name is too long").optional(),description:me.string().max(500,"Description is too long").optional(),status:me.enum(["active","inactive","archived"]).default("active"),api_url:me.enum(["https://api.mindstudio.ai/developer/v2/workers/run","https://api.mindstudio.ai/developer/v2/apps/run"]).default("https://api.mindstudio.ai/developer/v2/workers/run"),stages:me.array(me.object({name:me.string(),description:me.string().optional(),order:me.number()})).default([]),assignment_rules:me.record(me.any()).default({}),approval_levels:me.number().min(1).max(10).default(1),supports_documents:me.boolean().default(!1)});function W2({workflow:e,onClose:t,onSave:r}){const[n,s]=x.useState(!1),[i,o]=x.useState("general"),[a,l]=x.useState([{name:"request",value:"request"}]),[c,u]=x.useState(!1),[d,f]=x.useState({name:"",value:""}),[p,w]=x.useState(!1),[g,b]=x.useState(""),[y,m]=x.useState(""),[v,S]=x.useState("https://api.mindstudio.ai/developer/v2/workers/run"),[k,j]=x.useState(!1),[A,C]=x.useState(!1),I=ih({resolver:oh(V2),defaultValues:{status:"active",api_url:"https://api.mindstudio.ai/developer/v2/workers/run",stages:[],assignment_rules:{},approval_levels:1,supports_documents:!1}}),{register:D,handleSubmit:G,formState:{errors:B},watch:W,reset:ue}=I;x.useEffect(()=>{var N,L;if(e){console.log("Workflow data received:",e),ue({...e,display_name:e.display_name||""}),S(e.api_url||"https://api.mindstudio.ai/developer/v2/workers/run");const X=e.supports_documents===!0,z=e.supports_images===!0;if(console.log("Setting support flags:",{documents:X,images:z}),j(X),C(z),m(((N=e.worker_id)==null?void 0:N.trim())||""),b(((L=e.api_auth_token)==null?void 0:L.trim())||""),e.variables&&Array.isArray(e.variables)){const oe=e.variables.map(K=>({name:typeof K.name=="string"?K.name:"",value:typeof K.value=="string"?K.value:""}));l(oe.length>0?oe:[{name:"request",value:"request"}])}}},[e,ue]);const T=async N=>{var L,X;try{s(!0);const z=[];if((L=N.name)!=null&&L.trim()||z.push("Workflow Name"),y!=null&&y.trim()||z.push("Worker ID"),g!=null&&g.trim()||z.push("Authorization"),a.length===0&&z.push("At least one variable"),z.length>0){ie.error(`Missing required fields: ${z.join(", ")}`),s(!1);return}const{data:oe}=await Y.auth.getUser();if(!((X=oe==null?void 0:oe.user)!=null&&X.id))throw new Error("User not authenticated");const K={...N,api_url:v,worker_id:y.trim(),api_auth_token:g.trim().startsWith("Bearer ")?g.trim():`Bearer ${g.trim()}`,variables:a.map(Ge=>({name:Ge.name.trim(),value:Ge.value.trim()})),api_config:{method:"post",url:v,content_type:"application/json"},created_by:oe.user.id},{error:Xe}=e?await Y.from("workflows").update({name:K.name,description:K.description,display_name:K.display_name,status:K.status,api_url:K.api_url,stages:K.stages,assignment_rules:K.assignment_rules,approval_levels:K.approval_levels,worker_id:K.worker_id,api_auth_token:K.api_auth_token,api_config:K.api_config,variables:K.variables,created_by:K.created_by,supports_documents:!!k,supports_images:!!A}).eq("id",e.id):await Y.from("workflows").insert([{name:K.name,description:K.description,display_name:K.display_name,status:K.status,api_url:K.api_url,stages:K.stages,assignment_rules:K.assignment_rules,approval_levels:K.approval_levels,worker_id:K.worker_id,api_auth_token:K.api_auth_token,api_config:K.api_config,variables:K.variables,created_by:K.created_by,supports_documents:!!k,supports_images:!!A}]);if(Xe)throw console.error("Supabase error:",Xe),new Error(Xe.message);ie.success(e?"Workflow updated":"Workflow created"),r()}catch(z){console.error("Error:",z),ie.error(z instanceof Error?z.message:"Failed to save workflow")}finally{s(!1)}},ne=()=>{d.name&&d.value&&(l(N=>{const L=[...N];return L.push({name:d.name.trim(),value:d.value.trim()}),L}),f({name:"",value:""}),u(!1))},fe=N=>{N!==0&&l(L=>L.filter((X,z)=>z!==N))},$=async()=>{if(!y){ie.error("Worker ID is required");return}if(!g){ie.error("Authorization token is required");return}try{if(w(!0),!(e!=null&&e.id)){ie.error("Workflow must be saved before testing");return}await B0({workerId:y,apiAuthToken:g.startsWith("Bearer ")?g:`Bearer ${g}`,apiConfig:{method:"post",url:v,content_type:"application/json"},variables:{...Object.fromEntries(a.map(N=>[N.name,N.value])),workflow:W("name")||""}}),ie.success("API test successful")}catch(N){console.error("API test error:",N),ie.error(N instanceof Error?N.message:"API test failed")}finally{w(!1)}};return h.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:[h.jsx("div",{className:"bg-[#1F1F1F] rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-2xl font-bold text-white",children:e?"Edit Workflow":"Add Workflow"}),h.jsx("button",{onClick:t,className:"text-[#757575] hover:text-[#E0E0E0] transition-colors",children:h.jsx(Zf,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"flex space-x-4 border-b border-[#2D2D2D]",children:[h.jsx("button",{onClick:()=>o("general"),className:`py-2 px-4 ${i==="general"?"text-white border-b-2 border-white":"text-[#757575]"}`,children:"General"}),h.jsx("button",{onClick:()=>o("api"),className:`py-2 px-4 ${i==="api"?"text-white border-b-2 border-white":"text-[#757575]"}`,children:"API Configuration"}),h.jsx("button",{onClick:()=>o("variables"),className:`py-2 px-4 ${i==="variables"?"text-white border-b-2 border-white":"text-[#757575]"}`,children:"Variables"})]}),h.jsxs("form",{onSubmit:G(T),className:"space-y-6",children:[i==="general"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Internal Name"}),h.jsx("input",{...D("name"),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter internal workflow name"}),B.name&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:B.name.message}),h.jsx("p",{className:"mt-1 text-sm text-[#757575]",children:"This name is used internally and for API calls"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Display Name"}),h.jsx("input",{...D("display_name"),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter display name (optional)"}),B.display_name&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:B.display_name.message}),h.jsx("p",{className:"mt-1 text-sm text-[#757575]",children:"This name will be shown in the sidebar (falls back to internal name if not set)"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Description"}),h.jsx("textarea",{...D("description"),rows:3,className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter workflow description"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Worker ID"}),h.jsx("input",{required:!0,type:"text",value:y,onChange:N=>m(N.target.value),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter worker ID"}),!(y!=null&&y.trim())&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Worker ID is required"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"checkbox",id:"documentUpload",checked:k,onChange:N=>j(N.target.checked),className:"rounded border-[#2D2D2D] bg-[#1A1B1E] text-[#f7ab38] focus:ring-[#f7ab38]"}),h.jsx("label",{htmlFor:"documentUpload",className:"text-white",children:"Support Document Uploads"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"checkbox",id:"imageUpload",checked:A,onChange:N=>{const L=N.target.checked;console.log("Changing supports_images to:",L),C(L)},className:"rounded border-[#2D2D2D] bg-[#1A1B1E] text-[#f7ab38] focus:ring-[#f7ab38]"}),h.jsx("label",{htmlFor:"imageUpload",className:"text-white",children:"Support Image Uploads"})]})]}),(k||A)&&h.jsx("p",{className:"text-sm text-[#757575]",children:k&&A?"Documents (.pdf, .doc, .docx, .txt) and Images (.png, .jpg, .jpeg, .gif) are supported":k?"Documents (.pdf, .doc, .docx, .txt) are supported":"Images (.png, .jpg, .jpeg, .gif) are supported"})]})]}),i==="api"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Authorization"}),h.jsx("input",{required:!0,type:"text",value:g,onChange:N=>b(N.target.value),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Bearer"}),!(g!=null&&g.trim())&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Authorization token is required"}),h.jsx("p",{className:"mt-1 text-sm text-[#757575]",children:"Private key in header"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"API Endpoint"}),h.jsxs("select",{...D("api_url"),value:v,onChange:N=>S(N.target.value),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",children:[h.jsx("option",{value:"https://api.mindstudio.ai/developer/v2/workers/run",children:"Workers API"}),h.jsx("option",{value:"https://api.mindstudio.ai/developer/v2/apps/run",children:"Apps API"})]}),h.jsx("p",{className:"mt-1 text-sm text-[#757575]",children:"Select the API endpoint for this workflow"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Content-Type"}),h.jsx("input",{type:"text",value:"application/json",readOnly:!0,className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"API Method"}),h.jsx("input",{type:"text",value:"post",readOnly:!0,className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D]"})]}),h.jsx("button",{type:"button",onClick:$,disabled:p,className:"px-4 py-2 bg-[#4CAF50] text-white rounded-lg hover:bg-opacity-90 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?h.jsxs(h.Fragment,{children:[h.jsx(zs,{className:"w-5 h-5 mr-2 animate-spin"}),h.jsx("span",{children:"Testing..."})]}):h.jsx("span",{children:"Test API"})})]}),i==="variables"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Body Parameters"}),h.jsxs("div",{className:"space-y-3",children:[a.length===0&&h.jsx("p",{className:"text-sm text-red-500",children:"At least one variable is required"}),a.map((N,L)=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-sm text-[#757575] mb-1",children:N.name}),h.jsx("input",{type:"text",value:N.value,readOnly:L===0,onChange:X=>{l(z=>{const oe=[...z];return oe[L]={...oe[L],value:X.target.value},oe})},className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D]"})]}),L!==0&&h.jsx("button",{type:"button",onClick:()=>fe(L),className:"mt-6 p-2 text-red-500 hover:text-red-400 transition-colors",children:h.jsx(Jl,{className:"w-5 h-5"})})]},L))]}),h.jsxs("button",{type:"button",onClick:()=>u(!0),className:"mt-4 px-4 py-2 text-white hover:bg-[#2D2D2D] rounded-lg transition-colors flex items-center space-x-2",children:[h.jsx(qf,{className:"w-5 h-5"}),h.jsx("span",{children:"Add Variable"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Body Preview"}),h.jsx("pre",{className:"w-full p-4 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] font-mono text-sm",children:JSON.stringify({workerId:y,variables:Object.fromEntries(a.map(N=>[N.name,N.value])),workflow:W("name")||""},null,2)})]})]}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white hover:text-[#f7ab38] transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-[#4CAF50] text-white rounded-lg hover:bg-opacity-90 transition-colors disabled:opacity-50 flex items-center",onClick:()=>{if(!(y!=null&&y.trim())||!(g!=null&&g.trim())||a.length===0){ie.error("Please fill in all required fields");return}},children:n?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"animate-spin mr-2",children:""}),"Saving..."]}):h.jsx(h.Fragment,{children:"Save Workflow"})})]})]})]})}),c&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-[#1F1F1F] rounded-lg w-full max-w-md p-6 space-y-4",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:"Add Variable"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Variable Name"}),h.jsx("input",{type:"text",value:d.name,onChange:N=>f({...d,name:N.target.value}),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter variable name"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Variable Value"}),h.jsx("input",{type:"text",value:d.value,onChange:N=>f({...d,value:N.target.value}),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter variable value"})]}),h.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>{u(!1),f({name:"",value:""})},className:"px-4 py-2 text-white hover:text-[#f7ab38] transition-colors",children:"Cancel"}),h.jsx("button",{type:"button",onClick:ne,disabled:!d.name||!d.value,className:"px-4 py-2 bg-[#4CAF50] text-white rounded-lg hover:bg-opacity-90 transition-colors disabled:opacity-50",children:"Add Variable"})]})]})})]})}function G2({workflowId:e}){const[t,r]=x.useState([]),[n,s]=x.useState(!0),i=async()=>{try{s(!0);const{data:l,error:c}=await Y.from("workflow_logs").select("*").eq("workflow_id",e).order("timestamp",{ascending:!1}).limit(50);if(c)throw c;r(l||[])}catch(l){console.error("Error fetching logs:",l)}finally{s(!1)}};x.useEffect(()=>{i()},[e]);const o=l=>{switch(l){case"error":return h.jsx(r0,{className:"w-5 h-5 text-red-500"});case"warning":return h.jsx(n0,{className:"w-5 h-5 text-yellow-500"});default:return h.jsx(i0,{className:"w-5 h-5 text-blue-500"})}},a=l=>{switch(l){case"error":return"border-red-500/20 bg-red-500/10";case"warning":return"border-yellow-500/20 bg-yellow-500/10";default:return"border-blue-500/20 bg-blue-500/10"}};return n?h.jsx("div",{className:"flex items-center justify-center p-4",children:h.jsx(Vn,{className:"w-6 h-6 animate-spin text-[#BB86FC]"})}):h.jsxs("div",{className:"space-y-4 p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-medium text-[#E0E0E0]",children:"Workflow Logs"}),h.jsx("button",{onClick:i,className:"text-[#BB86FC] hover:text-[#E0E0E0] transition-colors",children:h.jsx(Vn,{className:"w-5 h-5"})})]}),t.length===0?h.jsx("div",{className:"text-center text-[#757575] py-8",children:"No logs available"}):h.jsx("div",{className:"space-y-3",children:t.map(l=>h.jsx("div",{className:`p-4 rounded-lg border ${a(l.level)} animate-fade-in`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[o(l.level),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium text-[#E0E0E0]",children:new Date(l.timestamp).toLocaleString()}),h.jsx("span",{className:"text-xs uppercase text-[#757575]",children:l.level})]}),h.jsx("p",{className:"mt-1 text-[#E0E0E0]",children:l.message}),l.details&&h.jsx("pre",{className:"mt-2 p-2 rounded bg-black/20 text-sm text-[#BB86FC] overflow-x-auto",children:JSON.stringify(l.details,null,2)})]})]})},l.id))})]})}function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}function H2(e,t){if(Co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q2(e){var t=H2(e,"string");return Co(t)=="symbol"?t:t+""}function Z2(e,t,r){return(t=q2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Um(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bm(Object(r),!0).forEach(function(n){Z2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _t(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var zm=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),vu=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vm={INIT:"@@redux/INIT"+vu(),REPLACE:"@@redux/REPLACE"+vu(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+vu()}};function K2(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Q0(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(_t(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(_t(1));return r(Q0)(e,t)}if(typeof e!="function")throw new Error(_t(2));var s=e,i=t,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function u(){if(l)throw new Error(_t(3));return i}function d(g){if(typeof g!="function")throw new Error(_t(4));if(l)throw new Error(_t(5));var b=!0;return c(),a.push(g),function(){if(b){if(l)throw new Error(_t(6));b=!1,c();var m=a.indexOf(g);a.splice(m,1),o=null}}}function f(g){if(!K2(g))throw new Error(_t(7));if(typeof g.type>"u")throw new Error(_t(8));if(l)throw new Error(_t(9));try{l=!0,i=s(i,g)}finally{l=!1}for(var b=o=a,y=0;y<b.length;y++){var m=b[y];m()}return g}function p(g){if(typeof g!="function")throw new Error(_t(10));s=g,f({type:Vm.REPLACE})}function w(){var g,b=d;return g={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(_t(11));function v(){m.next&&m.next(u())}v();var S=b(v);return{unsubscribe:S}}},g[zm]=function(){return this},g}return f({type:Vm.INIT}),n={dispatch:f,subscribe:d,getState:u,replaceReducer:p},n[zm]=w,n}function Wm(e,t){return function(){return t(e.apply(this,arguments))}}function Gm(e,t){if(typeof e=="function")return Wm(e,t);if(typeof e!="object"||e===null)throw new Error(_t(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=Wm(s,t))}return r}function Y0(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function J2(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),i=function(){throw new Error(_t(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=t.map(function(l){return l(o)});return i=Y0.apply(void 0,a)(s.dispatch),Um(Um({},s),{},{dispatch:i})}}}var X0={exports:{}},ew={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=x;function Q2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Y2=typeof Object.is=="function"?Object.is:Q2,X2=Zs.useState,eN=Zs.useEffect,tN=Zs.useLayoutEffect,rN=Zs.useDebugValue;function nN(e,t){var r=t(),n=X2({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return tN(function(){s.value=r,s.getSnapshot=t,wu(s)&&i({inst:s})},[e,r,t]),eN(function(){return wu(s)&&i({inst:s}),e(function(){wu(s)&&i({inst:s})})},[e]),rN(r),r}function wu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Y2(e,r)}catch{return!0}}function sN(e,t){return t()}var iN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sN:nN;ew.useSyncExternalStore=Zs.useSyncExternalStore!==void 0?Zs.useSyncExternalStore:iN;X0.exports=ew;var tw=X0.exports,oN={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=x,aN=tw;function lN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cN=typeof Object.is=="function"?Object.is:lN,uN=aN.useSyncExternalStore,dN=oc.useRef,fN=oc.useEffect,hN=oc.useMemo,pN=oc.useDebugValue;oN.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=dN(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=hN(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),s!==void 0&&o.hasValue){var w=o.value;if(s(w,p))return d=w}return d=p}if(w=d,cN(u,p))return w;var g=n(p);return s!==void 0&&s(w,g)?(u=p,w):(u=p,d=g)}var c=!1,u,d,f=r===void 0?null:r;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,r,n,s]);var a=uN(e,i[0],i[1]);return fN(function(){o.hasValue=!0,o.value=a},[a]),pN(a),a};function mN(e){e()}let rw=mN;const gN=e=>rw=e,yN=()=>rw,Hm=Symbol.for("react-redux-context"),qm=typeof globalThis<"u"?globalThis:{};function vN(){var e;if(!x.createContext)return{};const t=(e=qm[Hm])!=null?e:qm[Hm]=new Map;let r=t.get(x.createContext);return r||(r=x.createContext(null),t.set(x.createContext,r)),r}const nw=vN(),wN=()=>{throw new Error("uSES not initialized!")};function hn(){return hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hn.apply(null,arguments)}function sw(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iw={exports:{}},be={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ye=typeof Symbol=="function"&&Symbol.for,lh=Ye?Symbol.for("react.element"):60103,ch=Ye?Symbol.for("react.portal"):60106,ac=Ye?Symbol.for("react.fragment"):60107,lc=Ye?Symbol.for("react.strict_mode"):60108,cc=Ye?Symbol.for("react.profiler"):60114,uc=Ye?Symbol.for("react.provider"):60109,dc=Ye?Symbol.for("react.context"):60110,uh=Ye?Symbol.for("react.async_mode"):60111,fc=Ye?Symbol.for("react.concurrent_mode"):60111,hc=Ye?Symbol.for("react.forward_ref"):60112,pc=Ye?Symbol.for("react.suspense"):60113,xN=Ye?Symbol.for("react.suspense_list"):60120,mc=Ye?Symbol.for("react.memo"):60115,gc=Ye?Symbol.for("react.lazy"):60116,bN=Ye?Symbol.for("react.block"):60121,_N=Ye?Symbol.for("react.fundamental"):60117,SN=Ye?Symbol.for("react.responder"):60118,kN=Ye?Symbol.for("react.scope"):60119;function Bt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lh:switch(e=e.type,e){case uh:case fc:case ac:case cc:case lc:case pc:return e;default:switch(e=e&&e.$$typeof,e){case dc:case hc:case gc:case mc:case uc:return e;default:return t}}case ch:return t}}}function ow(e){return Bt(e)===fc}be.AsyncMode=uh;be.ConcurrentMode=fc;be.ContextConsumer=dc;be.ContextProvider=uc;be.Element=lh;be.ForwardRef=hc;be.Fragment=ac;be.Lazy=gc;be.Memo=mc;be.Portal=ch;be.Profiler=cc;be.StrictMode=lc;be.Suspense=pc;be.isAsyncMode=function(e){return ow(e)||Bt(e)===uh};be.isConcurrentMode=ow;be.isContextConsumer=function(e){return Bt(e)===dc};be.isContextProvider=function(e){return Bt(e)===uc};be.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lh};be.isForwardRef=function(e){return Bt(e)===hc};be.isFragment=function(e){return Bt(e)===ac};be.isLazy=function(e){return Bt(e)===gc};be.isMemo=function(e){return Bt(e)===mc};be.isPortal=function(e){return Bt(e)===ch};be.isProfiler=function(e){return Bt(e)===cc};be.isStrictMode=function(e){return Bt(e)===lc};be.isSuspense=function(e){return Bt(e)===pc};be.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ac||e===fc||e===cc||e===lc||e===pc||e===xN||typeof e=="object"&&e!==null&&(e.$$typeof===gc||e.$$typeof===mc||e.$$typeof===uc||e.$$typeof===dc||e.$$typeof===hc||e.$$typeof===_N||e.$$typeof===SN||e.$$typeof===kN||e.$$typeof===bN)};be.typeOf=Bt;iw.exports=be;var EN=iw.exports,dh=EN,CN={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},NN={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},aw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fh={};fh[dh.ForwardRef]=jN;fh[dh.Memo]=aw;function Zm(e){return dh.isMemo(e)?aw:fh[e.$$typeof]||CN}var DN=Object.defineProperty,PN=Object.getOwnPropertyNames,Km=Object.getOwnPropertySymbols,AN=Object.getOwnPropertyDescriptor,IN=Object.getPrototypeOf,Jm=Object.prototype;function lw(e,t,r){if(typeof t!="string"){if(Jm){var n=IN(t);n&&n!==Jm&&lw(e,n,r)}var s=PN(t);Km&&(s=s.concat(Km(t)));for(var i=Zm(e),o=Zm(t),a=0;a<s.length;++a){var l=s[a];if(!NN[l]&&!(r&&r[l])&&!(o&&o[l])&&!(i&&i[l])){var c=AN(t,l);try{DN(e,l,c)}catch{}}}}return e}var TN=lw;const Qm=Zd(TN);var cw={exports:{}},_e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh=Symbol.for("react.element"),ph=Symbol.for("react.portal"),yc=Symbol.for("react.fragment"),vc=Symbol.for("react.strict_mode"),wc=Symbol.for("react.profiler"),xc=Symbol.for("react.provider"),bc=Symbol.for("react.context"),ON=Symbol.for("react.server_context"),_c=Symbol.for("react.forward_ref"),Sc=Symbol.for("react.suspense"),kc=Symbol.for("react.suspense_list"),Ec=Symbol.for("react.memo"),Cc=Symbol.for("react.lazy"),RN=Symbol.for("react.offscreen"),uw;uw=Symbol.for("react.module.reference");function Qt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hh:switch(e=e.type,e){case yc:case wc:case vc:case Sc:case kc:return e;default:switch(e=e&&e.$$typeof,e){case ON:case bc:case _c:case Cc:case Ec:case xc:return e;default:return t}}case ph:return t}}}_e.ContextConsumer=bc;_e.ContextProvider=xc;_e.Element=hh;_e.ForwardRef=_c;_e.Fragment=yc;_e.Lazy=Cc;_e.Memo=Ec;_e.Portal=ph;_e.Profiler=wc;_e.StrictMode=vc;_e.Suspense=Sc;_e.SuspenseList=kc;_e.isAsyncMode=function(){return!1};_e.isConcurrentMode=function(){return!1};_e.isContextConsumer=function(e){return Qt(e)===bc};_e.isContextProvider=function(e){return Qt(e)===xc};_e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hh};_e.isForwardRef=function(e){return Qt(e)===_c};_e.isFragment=function(e){return Qt(e)===yc};_e.isLazy=function(e){return Qt(e)===Cc};_e.isMemo=function(e){return Qt(e)===Ec};_e.isPortal=function(e){return Qt(e)===ph};_e.isProfiler=function(e){return Qt(e)===wc};_e.isStrictMode=function(e){return Qt(e)===vc};_e.isSuspense=function(e){return Qt(e)===Sc};_e.isSuspenseList=function(e){return Qt(e)===kc};_e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yc||e===wc||e===vc||e===Sc||e===kc||e===RN||typeof e=="object"&&e!==null&&(e.$$typeof===Cc||e.$$typeof===Ec||e.$$typeof===xc||e.$$typeof===bc||e.$$typeof===_c||e.$$typeof===uw||e.getModuleId!==void 0)};_e.typeOf=Qt;cw.exports=_e;var $N=cw.exports;const LN=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function FN(e,t,r,n,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:o}){let a=!1,l,c,u,d,f;function p(m,v){return l=m,c=v,u=e(l,c),d=t(n,c),f=r(u,d,c),a=!0,f}function w(){return u=e(l,c),t.dependsOnOwnProps&&(d=t(n,c)),f=r(u,d,c),f}function g(){return e.dependsOnOwnProps&&(u=e(l,c)),t.dependsOnOwnProps&&(d=t(n,c)),f=r(u,d,c),f}function b(){const m=e(l,c),v=!o(m,u);return u=m,v&&(f=r(u,d,c)),f}function y(m,v){const S=!i(v,c),k=!s(m,l,v,c);return l=m,c=v,S&&k?w():S?g():k?b():f}return function(v,S){return a?y(v,S):p(v,S)}}function MN(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:s}=t,i=sw(t,LN);const o=r(e,i),a=n(e,i),l=s(e,i);return FN(o,a,l,e,i)}function BN(e,t){const r={};for(const n in e){const s=e[n];typeof s=="function"&&(r[n]=(...i)=>t(s(...i)))}return r}function Ud(e){return function(r){const n=e(r);function s(){return n}return s.dependsOnOwnProps=!1,s}}function Ym(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function dw(e,t){return function(n,{displayName:s}){const i=function(a,l){return i.dependsOnOwnProps?i.mapToProps(a,l):i.mapToProps(a,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(a,l){i.mapToProps=e,i.dependsOnOwnProps=Ym(e);let c=i(a,l);return typeof c=="function"&&(i.mapToProps=c,i.dependsOnOwnProps=Ym(c),c=i(a,l)),c},i}}function mh(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function UN(e){return e&&typeof e=="object"?Ud(t=>BN(e,t)):e?typeof e=="function"?dw(e):mh(e,"mapDispatchToProps"):Ud(t=>({dispatch:t}))}function zN(e){return e?typeof e=="function"?dw(e):mh(e,"mapStateToProps"):Ud(()=>({}))}function VN(e,t,r){return hn({},r,e,t)}function WN(e){return function(r,{displayName:n,areMergedPropsEqual:s}){let i=!1,o;return function(l,c,u){const d=e(l,c,u);return i?s(d,o)||(o=d):(i=!0,o=d),o}}}function GN(e){return e?typeof e=="function"?WN(e):mh(e,"mergeProps"):()=>VN}function HN(){const e=yN();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0,i=r={callback:n,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!s||t===null||(s=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}const Xm={notify(){},get:()=>[]};function fw(e,t){let r,n=Xm,s=0,i=!1;function o(g){u();const b=n.subscribe(g);let y=!1;return()=>{y||(y=!0,b(),d())}}function a(){n.notify()}function l(){w.onStateChange&&w.onStateChange()}function c(){return i}function u(){s++,r||(r=t?t.addNestedSub(l):e.subscribe(l),n=HN())}function d(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=Xm)}function f(){i||(i=!0,u())}function p(){i&&(i=!1,d())}const w={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>n};return w}const qN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bl=qN?x.useLayoutEffect:x.useEffect;function eg(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function xu(e,t){if(eg(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!eg(e[r[s]],t[r[s]]))return!1;return!0}const ZN=["reactReduxForwardedRef"];let hw=wN;const KN=e=>{hw=e},JN=[null,null];function QN(e,t,r){bl(()=>e(...t),r)}function YN(e,t,r,n,s,i){e.current=n,r.current=!1,s.current&&(s.current=null,i())}function XN(e,t,r,n,s,i,o,a,l,c,u){if(!e)return()=>{};let d=!1,f=null;const p=()=>{if(d||!a.current)return;const g=t.getState();let b,y;try{b=n(g,s.current)}catch(m){y=m,f=m}y||(f=null),b===i.current?o.current||c():(i.current=b,l.current=b,o.current=!0,u())};return r.onStateChange=p,r.trySubscribe(),p(),()=>{if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f}}function ej(e,t){return e===t}function pw(e,t,r,{pure:n,areStatesEqual:s=ej,areOwnPropsEqual:i=xu,areStatePropsEqual:o=xu,areMergedPropsEqual:a=xu,forwardRef:l=!1,context:c=nw}={}){const u=c,d=zN(e),f=UN(t),p=GN(r),w=!!e;return b=>{const y=b.displayName||b.name||"Component",m=`Connect(${y})`,v={shouldHandleStateChanges:w,displayName:m,wrappedComponentName:y,WrappedComponent:b,initMapStateToProps:d,initMapDispatchToProps:f,initMergeProps:p,areStatesEqual:s,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:a};function S(A){const[C,I,D]=x.useMemo(()=>{const{reactReduxForwardedRef:De}=A,Xt=sw(A,ZN);return[A.context,De,Xt]},[A]),G=x.useMemo(()=>C&&C.Consumer&&$N.isContextConsumer(x.createElement(C.Consumer,null))?C:u,[C,u]),B=x.useContext(G),W=!!A.store&&!!A.store.getState&&!!A.store.dispatch,ue=!!B&&!!B.store,T=W?A.store:B.store,ne=ue?B.getServerState:T.getState,fe=x.useMemo(()=>MN(T.dispatch,v),[T]),[$,N]=x.useMemo(()=>{if(!w)return JN;const De=fw(T,W?void 0:B.subscription),Xt=De.notifyNestedSubs.bind(De);return[De,Xt]},[T,W,B]),L=x.useMemo(()=>W?B:hn({},B,{subscription:$}),[W,B,$]),X=x.useRef(),z=x.useRef(D),oe=x.useRef(),K=x.useRef(!1);x.useRef(!1);const Xe=x.useRef(!1),Ge=x.useRef();bl(()=>(Xe.current=!0,()=>{Xe.current=!1}),[]);const xt=x.useMemo(()=>()=>oe.current&&D===z.current?oe.current:fe(T.getState(),D),[T,D]),zr=x.useMemo(()=>Xt=>$?XN(w,T,$,fe,z,X,K,Xe,oe,N,Xt):()=>{},[$]);QN(YN,[z,X,K,D,oe,N]);let Yt;try{Yt=hw(zr,xt,ne?()=>fe(ne(),D):xt)}catch(De){throw Ge.current&&(De.message+=`
The error may be correlated with this previous error:
${Ge.current.stack}

`),De}bl(()=>{Ge.current=void 0,oe.current=void 0,X.current=Yt});const Vr=x.useMemo(()=>x.createElement(b,hn({},Yt,{ref:I})),[I,b,Yt]);return x.useMemo(()=>w?x.createElement(G.Provider,{value:L},Vr):Vr,[G,Vr,L])}const j=x.memo(S);if(j.WrappedComponent=b,j.displayName=S.displayName=m,l){const C=x.forwardRef(function(D,G){return x.createElement(j,hn({},D,{reactReduxForwardedRef:G}))});return C.displayName=m,C.WrappedComponent=b,Qm(C,b)}return Qm(j,b)}}function tj({store:e,context:t,children:r,serverState:n,stabilityCheck:s="once",noopCheck:i="once"}){const o=x.useMemo(()=>{const c=fw(e);return{store:e,subscription:c,getServerState:n?()=>n:void 0,stabilityCheck:s,noopCheck:i}},[e,n,s,i]),a=x.useMemo(()=>e.getState(),[e]);bl(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=t||nw;return x.createElement(l.Provider,{value:o},r)}KN(tw.useSyncExternalStore);gN(Mo.unstable_batchedUpdates);function rj(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function mw(e,t){var r=x.useState(function(){return{inputs:t,result:e()}})[0],n=x.useRef(!0),s=x.useRef(r),i=n.current||!!(t&&s.current.inputs&&rj(t,s.current.inputs)),o=i?s.current:{inputs:t,result:e()};return x.useEffect(function(){n.current=!1,s.current=o},[o]),o.result}function nj(e,t){return mw(function(){return e},t)}var ge=mw,te=nj,sj="Invariant failed";function ij(e,t){throw new Error(sj)}var lr=function(t){var r=t.top,n=t.right,s=t.bottom,i=t.left,o=n-i,a=s-r,l={top:r,right:n,bottom:s,left:i,width:o,height:a,x:i,y:r,center:{x:(n+i)/2,y:(s+r)/2}};return l},gh=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},tg=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},oj=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},bu={top:0,right:0,bottom:0,left:0},yh=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?bu:n,i=t.border,o=i===void 0?bu:i,a=t.padding,l=a===void 0?bu:a,c=lr(gh(r,s)),u=lr(tg(r,o)),d=lr(tg(u,l));return{marginBox:c,borderBox:lr(r),paddingBox:u,contentBox:d,margin:s,border:o,padding:l}},Ut=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&ij(),s},aj=function(){return{x:window.pageXOffset,y:window.pageYOffset}},_l=function(t,r){var n=t.borderBox,s=t.border,i=t.margin,o=t.padding,a=oj(n,r);return yh({borderBox:a,border:s,margin:i,padding:o})},Sl=function(t,r){return r===void 0&&(r=aj()),_l(t,r)},gw=function(t,r){var n={top:Ut(r.marginTop),right:Ut(r.marginRight),bottom:Ut(r.marginBottom),left:Ut(r.marginLeft)},s={top:Ut(r.paddingTop),right:Ut(r.paddingRight),bottom:Ut(r.paddingBottom),left:Ut(r.paddingLeft)},i={top:Ut(r.borderTopWidth),right:Ut(r.borderRightWidth),bottom:Ut(r.borderBottomWidth),left:Ut(r.borderLeftWidth)};return yh({borderBox:t,margin:n,padding:s,border:i})},yw=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return gw(r,n)},rg=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function lj(e,t){return!!(e===t||rg(e)&&rg(t))}function cj(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!lj(e[r],t[r]))return!1;return!0}function Je(e,t){t===void 0&&(t=cj);var r=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var o=e.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}var No=function(t){var r=[],n=null,s=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r=a,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};function vw(e,t){}vw.bind(null,"warn");vw.bind(null,"error");function pn(){}function uj(e,t){return{...e,...t}}function Gt(e,t,r){const n=t.map(s=>{const i=uj(r,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){n.forEach(i=>{i()})}}const dj="Invariant failed";class kl extends Error{}kl.prototype.toString=function(){return this.message};function M(e,t){throw new kl(dj)}let fj=class extends ce.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=pn,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof kl&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Gt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof kl){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const hj=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,El=e=>e+1,pj=e=>`
  You have lifted an item in position ${El(e.source.index)}
`,ww=(e,t)=>{const r=e.droppableId===t.droppableId,n=El(e.index),s=El(t.index);return r?`
      You have moved the item from position ${n}
      to position ${s}
    `:`
    You have moved the item from position ${n}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},xw=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,mj=e=>{const t=e.destination;if(t)return ww(e.source,t);const r=e.combine;return r?xw(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},ng=e=>`
  The item has returned to its starting position
  of ${El(e.index)}
`,gj=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${ng(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${ww(e.source,t)}
    `:r?`
      You have dropped the item.
      ${xw(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${ng(e.source)}
  `},yj={dragHandleUsageInstructions:hj,onDragStart:pj,onDragUpdate:mj,onDragEnd:gj};var La=yj;const Qe={x:0,y:0},tt=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),It=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),mn=(e,t)=>e.x===t.x&&e.y===t.y,ii=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Xn=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},jo=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),sg=(e,t)=>Math.min(...t.map(r=>jo(e,r))),bw=e=>t=>({x:e(t.x),y:e(t.y)});var vj=(e,t)=>{const r=lr({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const Go=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),ig=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],wj={top:0,right:0,bottom:0,left:0},xj=(e,t)=>t?Go(e,t.scroll.diff.displacement):e,bj=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,_j=(e,t)=>t&&t.shouldClipSubject?vj(t.pageMarginBox,e):lr(e);var Ks=({page:e,withPlaceholder:t,axis:r,frame:n})=>{const s=xj(e.marginBox,n),i=bj(s,r,t),o=_j(i,n);return{page:e,withPlaceholder:t,active:o}},vh=(e,t)=>{e.frame||M();const r=e.frame,n=It(t,r.scroll.initial),s=ii(n),i={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}},o=Ks({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:o}};const _w=Je(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),Sw=Je(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),Nc=Je(e=>Object.values(e)),Sj=Je(e=>Object.values(e));var oi=Je((e,t)=>Sj(t).filter(n=>e===n.descriptor.droppableId).sort((n,s)=>n.descriptor.index-s.descriptor.index));function wh(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function jc(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Dc=Je((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),kj=({isMovingForward:e,draggable:t,destination:r,insideDestination:n,previousImpact:s})=>{if(!r.isCombineEnabled||!wh(s))return null;function o(p){const w={type:"COMBINE",combine:{draggableId:p,droppableId:r.descriptor.id}};return{...s,at:w}}const a=s.displaced.all,l=a.length?a[0]:null;if(e)return l?o(l):null;const c=Dc(t,n);if(!l){if(!c.length)return null;const p=c[c.length-1];return o(p.descriptor.id)}const u=c.findIndex(p=>p.descriptor.id===l);u===-1&&M();const d=u-1;if(d<0)return null;const f=c[d];return o(f.descriptor.id)},ai=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const kw={point:Qe,value:0},Do={invisible:{},visible:{},all:[]},Ej={displaced:Do,displacedBy:kw,at:null};var Cj=Ej,qt=(e,t)=>r=>e<=r&&r<=t,Ew=e=>{const t=qt(e.top,e.bottom),r=qt(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const i=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right);if(i&&o)return!0;const l=n.top<e.top&&n.bottom>e.bottom,c=n.left<e.left&&n.right>e.right;return l&&c?!0:l&&o||c&&i}},Nj=e=>{const t=qt(e.top,e.bottom),r=qt(e.left,e.right);return n=>t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right)};const xh={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Cw={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var jj=e=>t=>{const r=qt(t.top,t.bottom),n=qt(t.left,t.right);return s=>e===xh?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)};const Dj=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:Qe;return Go(e,r)},Pj=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,Aj=(e,t,r)=>r(t)(e),bh=({target:e,destination:t,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:s})=>{const i=n?Dj(e,t):e;return Pj(i,t,s)&&Aj(i,r,s)},Ij=e=>bh({...e,isVisibleThroughFrameFn:Ew}),Nw=e=>bh({...e,isVisibleThroughFrameFn:Nj}),Tj=e=>bh({...e,isVisibleThroughFrameFn:jj(e.destination.axis)}),Oj=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:n,visible:s}=t;if(n[e])return!1;const i=s[e];return i?i.shouldAnimate:!0};function Rj(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return lr(gh(r,n))}function Po({afterDragging:e,destination:t,displacedBy:r,viewport:n,forceShouldAnimate:s,last:i}){return e.reduce(function(a,l){const c=Rj(l,r),u=l.descriptor.id;if(a.all.push(u),!Ij({target:c,destination:t,viewport:n,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const f=Oj(u,i,s),p={draggableId:u,shouldAnimate:f};return a.visible[u]=p,a},{all:[],visible:{},invisible:{}})}function $j(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function og({insideDestination:e,inHomeList:t,displacedBy:r,destination:n}){const s=$j(e,{inHomeList:t});return{displaced:Do,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Cl({draggable:e,insideDestination:t,destination:r,viewport:n,displacedBy:s,last:i,index:o,forceShouldAnimate:a}){const l=ai(e,r);if(o==null)return og({insideDestination:t,inHomeList:l,displacedBy:s,destination:r});const c=t.find(w=>w.descriptor.index===o);if(!c)return og({insideDestination:t,inHomeList:l,displacedBy:s,destination:r});const u=Dc(e,t),d=t.indexOf(c),f=u.slice(d);return{displaced:Po({afterDragging:f,destination:r,displacedBy:s,last:i,viewport:n.frame,forceShouldAnimate:a}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function _n(e,t){return!!t.effected[e]}var Lj=({isMovingForward:e,destination:t,draggables:r,combine:n,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const i=n.draggableId,a=r[i].descriptor.index;return _n(i,s)?e?a:a-1:e?a+1:a},Fj=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:n})=>{if(!r.length)return null;const s=n.index,i=e?s+1:s-1,o=r[0].descriptor.index,a=r[r.length-1].descriptor.index,l=t?a:a+1;return i<o||i>l?null:i},Mj=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:n,destination:s,insideDestination:i,previousImpact:o,viewport:a,afterCritical:l})=>{const c=o.at;if(c||M(),c.type==="REORDER"){const d=Fj({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:i});return d==null?null:Cl({draggable:r,insideDestination:i,destination:s,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:d})}const u=Lj({isMovingForward:e,destination:s,displaced:o.displaced,draggables:n,combine:c.combine,afterCritical:l});return u==null?null:Cl({draggable:r,insideDestination:i,destination:s,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:u})},Bj=({displaced:e,afterCritical:t,combineWith:r,displacedBy:n})=>{const s=!!(e.visible[r]||e.invisible[r]);return _n(r,t)?s?Qe:ii(n.point):s?n.point:Qe},Uj=({afterCritical:e,impact:t,draggables:r})=>{const n=jc(t);n||M();const s=n.draggableId,i=r[s].page.borderBox.center,o=Bj({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return tt(i,o)};const jw=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,zj=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,_h=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,ag=({axis:e,moveRelativeTo:t,isMoving:r})=>Xn(e.line,t.marginBox[e.end]+jw(e,r),_h(e,t.marginBox,r)),lg=({axis:e,moveRelativeTo:t,isMoving:r})=>Xn(e.line,t.marginBox[e.start]-zj(e,r),_h(e,t.marginBox,r)),Vj=({axis:e,moveInto:t,isMoving:r})=>Xn(e.line,t.contentBox[e.start]+jw(e,r),_h(e,t.contentBox,r));var Wj=({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s})=>{const i=oi(n.descriptor.id,r),o=t.page,a=n.axis;if(!i.length)return Vj({axis:a,moveInto:n.page,isMoving:o});const{displaced:l,displacedBy:c}=e,u=l.all[0];if(u){const f=r[u];if(_n(u,s))return lg({axis:a,moveRelativeTo:f.page,isMoving:o});const p=_l(f.page,c.point);return lg({axis:a,moveRelativeTo:p,isMoving:o})}const d=i[i.length-1];if(d.descriptor.id===t.descriptor.id)return o.borderBox.center;if(_n(d.descriptor.id,s)){const f=_l(d.page,ii(s.displacedBy.point));return ag({axis:a,moveRelativeTo:f,isMoving:o})}return ag({axis:a,moveRelativeTo:d.page,isMoving:o})},zd=(e,t)=>{const r=e.frame;return r?tt(t,r.scroll.diff.displacement):t};const Gj=({impact:e,draggable:t,droppable:r,draggables:n,afterCritical:s})=>{const i=t.page.borderBox.center,o=e.at;return!r||!o?i:o.type==="REORDER"?Wj({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s}):Uj({impact:e,draggables:n,afterCritical:s})};var Pc=e=>{const t=Gj(e),r=e.droppable;return r?zd(r,t):t},Dw=(e,t)=>{const r=It(t,e.scroll.initial),n=ii(r);return{frame:lr({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function cg(e,t){return e.map(r=>t[r])}function Hj(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}var qj=({impact:e,viewport:t,destination:r,draggables:n,maxScrollChange:s})=>{const i=Dw(t,tt(t.scroll.current,s)),o=r.frame?vh(r,tt(r.frame.scroll.current,s)):r,a=e.displaced,l=Po({afterDragging:cg(a.all,n),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:a,forceShouldAnimate:!1}),c=Po({afterDragging:cg(a.all,n),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),u={},d={},f=[a,l,c];return a.all.forEach(w=>{const g=Hj(w,f);if(g){d[w]=g;return}u[w]=!0}),{...e,displaced:{all:a.all,invisible:u,visible:d}}},Zj=(e,t)=>tt(e.scroll.diff.displacement,t),Sh=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const n=Zj(r,e),s=It(n,t.page.borderBox.center);return tt(t.client.borderBox.center,s)},Pw=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const o=It(r,e.page.borderBox.center),l={target:Go(e.page.borderBox,o),destination:t,withDroppableDisplacement:s,viewport:n};return i?Tj(l):Nw(l)},Kj=({isMovingForward:e,draggable:t,destination:r,draggables:n,previousImpact:s,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!r.isEnabled)return null;const c=oi(r.descriptor.id,n),u=ai(t,r),d=kj({isMovingForward:e,draggable:t,destination:r,insideDestination:c,previousImpact:s})||Mj({isMovingForward:e,isInHomeList:u,draggable:t,draggables:n,destination:r,insideDestination:c,previousImpact:s,viewport:i,afterCritical:l});if(!d)return null;const f=Pc({impact:d,draggable:t,droppable:r,draggables:n,afterCritical:l});if(Pw({draggable:t,destination:r,newPageBorderBoxCenter:f,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Sh({pageBorderBoxCenter:f,draggable:t,viewport:i}),impact:d,scrollJumpRequest:null};const w=It(f,o),g=qj({impact:d,viewport:i,destination:r,draggables:n,maxScrollChange:w});return{clientSelection:a,impact:g,scrollJumpRequest:w}};const dt=e=>{const t=e.subject.active;return t||M(),t};var Jj=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:n,viewport:s})=>{const i=r.subject.active;if(!i)return null;const o=r.axis,a=qt(i[o.start],i[o.end]),l=Nc(n).filter(u=>u!==r).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>Ew(s.frame)(dt(u))).filter(u=>{const d=dt(u);return e?i[o.crossAxisEnd]<d[o.crossAxisEnd]:d[o.crossAxisStart]<i[o.crossAxisStart]}).filter(u=>{const d=dt(u),f=qt(d[o.start],d[o.end]);return a(d[o.start])||a(d[o.end])||f(i[o.start])||f(i[o.end])}).sort((u,d)=>{const f=dt(u)[o.crossAxisStart],p=dt(d)[o.crossAxisStart];return e?f-p:p-f}).filter((u,d,f)=>dt(u)[o.crossAxisStart]===dt(f[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(u=>qt(dt(u)[o.start],dt(u)[o.end])(t[o.line]));return c.length===1?c[0]:c.length>1?c.sort((u,d)=>dt(u)[o.start]-dt(d)[o.start])[0]:l.sort((u,d)=>{const f=sg(t,ig(dt(u))),p=sg(t,ig(dt(d)));return f!==p?f-p:dt(u)[o.start]-dt(d)[o.start]})[0]};const ug=(e,t)=>{const r=e.page.borderBox.center;return _n(e.descriptor.id,t)?It(r,t.displacedBy.point):r},Qj=(e,t)=>{const r=e.page.borderBox;return _n(e.descriptor.id,t)?Go(r,ii(t.displacedBy.point)):r};var Yj=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:n,afterCritical:s})=>n.filter(o=>Nw({target:Qj(o,s),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=jo(e,zd(r,ug(o,s))),c=jo(e,zd(r,ug(a,s)));return l<c?-1:c<l?1:o.descriptor.index-a.descriptor.index})[0]||null,Ho=Je(function(t,r){const n=r[t.line];return{value:n,point:Xn(t.line,n)}});const Xj=(e,t,r)=>{const n=e.axis;if(e.descriptor.mode==="virtual")return Xn(n.line,t[n.line]);const s=e.subject.page.contentBox[n.size],l=oi(e.descriptor.id,r).reduce((c,u)=>c+u.client.marginBox[n.size],0)+t[n.line]-s;return l<=0?null:Xn(n.line,l)},Aw=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Iw=(e,t,r)=>{const n=e.frame;ai(t,e)&&M(),e.subject.withPlaceholder&&M();const s=Ho(e.axis,t.displaceBy).point,i=Xj(e,s,r),o={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const u=Ks({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:u}}const a=i?tt(n.scroll.max,i):n.scroll.max,l=Aw(n,a),c=Ks({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:l});return{...e,subject:c,frame:l}},eD=e=>{const t=e.subject.withPlaceholder;t||M();const r=e.frame;if(!r){const o=Ks({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const n=t.oldFrameMaxScroll;n||M();const s=Aw(r,n),i=Ks({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:i,frame:s}};var tD=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:n,draggables:s,destination:i,viewport:o,afterCritical:a})=>{if(!t){if(r.length)return null;const d={displaced:Do,displacedBy:kw,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},f=Pc({impact:d,draggable:n,droppable:i,draggables:s,afterCritical:a}),p=ai(n,i)?i:Iw(i,n,s);return Pw({draggable:n,destination:p,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const l=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],c=(()=>{const d=t.descriptor.index;return t.descriptor.id===n.descriptor.id||l?d:d+1})(),u=Ho(i.axis,n.displaceBy);return Cl({draggable:n,insideDestination:r,destination:i,viewport:o,displacedBy:u,last:Do,index:c})},rD=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:n,draggables:s,droppables:i,viewport:o,afterCritical:a})=>{const l=Jj({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:i,viewport:o});if(!l)return null;const c=oi(l.descriptor.id,s),u=Yj({pageBorderBoxCenter:t,viewport:o,destination:l,insideDestination:c,afterCritical:a}),d=tD({previousPageBorderBoxCenter:t,destination:l,draggable:r,draggables:s,moveRelativeTo:u,insideDestination:c,viewport:o,afterCritical:a});if(!d)return null;const f=Pc({impact:d,draggable:r,droppable:l,draggables:s,afterCritical:a});return{clientSelection:Sh({pageBorderBoxCenter:f,draggable:r,viewport:o}),impact:d,scrollJumpRequest:null}},Rt=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const nD=(e,t)=>{const r=Rt(e);return r?t[r]:null};var sD=({state:e,type:t})=>{const r=nD(e.impact,e.dimensions.droppables),n=!!r,s=e.dimensions.droppables[e.critical.droppable.id],i=r||s,o=i.axis.direction,a=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!n)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:d,droppables:f}=e.dimensions;return a?Kj({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:i,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):rD({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:i,draggables:d,droppables:f,viewport:e.viewport,afterCritical:e.afterCritical})};function Tn(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Tw(e){const t=qt(e.top,e.bottom),r=qt(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function iD(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function oD({pageBorderBox:e,draggable:t,candidates:r}){const n=t.page.borderBox.center,s=r.map(i=>{const o=i.axis,a=Xn(i.axis.line,e.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:jo(n,a)}}).sort((i,o)=>o.distance-i.distance);return s[0]?s[0].id:null}function aD({pageBorderBox:e,draggable:t,droppables:r}){const n=Nc(r).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!iD(e,i))return!1;if(Tw(i)(e.center))return!0;const o=s.axis,a=i.center[o.crossAxisLine],l=e[o.crossAxisStart],c=e[o.crossAxisEnd],u=qt(i[o.crossAxisStart],i[o.crossAxisEnd]),d=u(l),f=u(c);return!d&&!f?!0:d?l<a:c>a});return n.length?n.length===1?n[0].descriptor.id:oD({pageBorderBox:e,draggable:t,candidates:n}):null}const Ow=(e,t)=>lr(Go(e,t));var lD=(e,t)=>{const r=e.frame;return r?Ow(t,r.scroll.diff.value):t};function Rw({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function cD({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var uD=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:n,last:s,viewport:i,afterCritical:o})=>{const a=r.axis,l=Ho(r.axis,t.displaceBy),c=l.value,u=e[a.start],d=e[a.end],p=Dc(t,n).find(g=>{const b=g.descriptor.id,y=g.page.borderBox.center[a.line],m=_n(b,o),v=Rw({displaced:s,id:b});return m?v?d<=y:u<y-c:v?d<=y+c:u<y})||null,w=cD({draggable:t,closest:p,inHomeList:ai(t,r)});return Cl({draggable:t,insideDestination:n,destination:r,viewport:i,last:s,displacedBy:l,index:w})};const dD=4;var fD=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:n,insideDestination:s,afterCritical:i})=>{if(!n.isCombineEnabled)return null;const o=n.axis,a=Ho(n.axis,e.displaceBy),l=a.value,c=t[o.start],u=t[o.end],f=Dc(e,s).find(w=>{const g=w.descriptor.id,b=w.page.borderBox,m=b[o.size]/dD,v=_n(g,i),S=Rw({displaced:r.displaced,id:g});return v?S?u>b[o.start]+m&&u<b[o.end]-m:c>b[o.start]-l+m&&c<b[o.end]-l-m:S?u>b[o.start]+l+m&&u<b[o.end]+l-m:c>b[o.start]+m&&c<b[o.end]-m});return f?{displacedBy:a,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:n.descriptor.id}}}:null},$w=({pageOffset:e,draggable:t,draggables:r,droppables:n,previousImpact:s,viewport:i,afterCritical:o})=>{const a=Ow(t.page.borderBox,e),l=aD({pageBorderBox:a,draggable:t,droppables:n});if(!l)return Cj;const c=n[l],u=oi(c.descriptor.id,r),d=lD(c,a);return fD({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:s,destination:c,insideDestination:u,afterCritical:o})||uD({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:c,insideDestination:u,last:s.displaced,viewport:i,afterCritical:o})},kh=(e,t)=>({...e,[t.descriptor.id]:t});const hD=({previousImpact:e,impact:t,droppables:r})=>{const n=Rt(e),s=Rt(t);if(!n||n===s)return r;const i=r[n];if(!i.subject.withPlaceholder)return r;const o=eD(i);return kh(r,o)};var pD=({draggable:e,draggables:t,droppables:r,previousImpact:n,impact:s})=>{const i=hD({previousImpact:n,impact:s,droppables:r}),o=Rt(s);if(!o)return i;const a=r[o];if(ai(e,a)||a.subject.withPlaceholder)return i;const l=Iw(a,e,t);return kh(i,l)},Wi=({state:e,clientSelection:t,dimensions:r,viewport:n,impact:s,scrollJumpRequest:i})=>{const o=n||e.viewport,a=r||e.dimensions,l=t||e.current.client.selection,c=It(l,e.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:tt(e.initial.client.borderBoxCenter,c)},d={selection:tt(u.selection,o.scroll.current),borderBoxCenter:tt(u.borderBoxCenter,o.scroll.current),offset:tt(u.offset,o.scroll.diff.value)},f={client:u,page:d};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:o,current:f};const p=a.draggables[e.critical.draggable.id],w=s||$w({pageOffset:d.offset,draggable:p,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),g=pD({draggable:p,impact:w,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:f,dimensions:{draggables:a.draggables,droppables:g},impact:w,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function mD(e,t){return e.map(r=>t[r])}var Lw=({impact:e,viewport:t,draggables:r,destination:n,forceShouldAnimate:s})=>{const i=e.displaced,o=mD(i.all,r),a=Po({afterDragging:o,destination:n,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:i});return{...e,displaced:a}},Fw=({impact:e,draggable:t,droppable:r,draggables:n,viewport:s,afterCritical:i})=>{const o=Pc({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i});return Sh({pageBorderBoxCenter:o,draggable:t,viewport:s})},Mw=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&M();const n=e.impact,s=r||e.viewport,i=t||e.dimensions,{draggables:o,droppables:a}=i,l=o[e.critical.draggable.id],c=Rt(n);c||M();const u=a[c],d=Lw({impact:n,viewport:s,destination:u,draggables:o}),f=Fw({impact:d,draggable:l,droppable:u,draggables:o,viewport:s,afterCritical:e.afterCritical});return Wi({impact:d,clientSelection:f,state:e,dimensions:i,viewport:s})},gD=e=>({index:e.index,droppableId:e.droppableId}),Bw=({draggable:e,home:t,draggables:r,viewport:n})=>{const s=Ho(t.axis,e.displaceBy),i=oi(t.descriptor.id,r),o=i.indexOf(e);o===-1&&M();const a=i.slice(o+1),l=a.reduce((f,p)=>(f[p.descriptor.id]=!0,f),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:l};return{impact:{displaced:Po({afterDragging:a,destination:t,displacedBy:s,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:gD(e.descriptor)}},afterCritical:c}},yD=(e,t)=>({draggables:e.draggables,droppables:kh(e.droppables,t)}),vD=({draggable:e,offset:t,initialWindowScroll:r})=>{const n=_l(e.client,t),s=Sl(n,r);return{...e,placeholder:{...e.placeholder,client:n},client:n,page:s}},wD=e=>{const t=e.frame;return t||M(),t},xD=({additions:e,updatedDroppables:t,viewport:r})=>{const n=r.scroll.diff.value;return e.map(s=>{const i=s.descriptor.droppableId,o=t[i],l=wD(o).scroll.diff.value,c=tt(n,l);return vD({draggable:s,offset:c,initialWindowScroll:r.scroll.initial})})},bD=({state:e,published:t})=>{const r=t.modified.map(y=>{const m=e.dimensions.droppables[y.droppableId];return vh(m,y.scroll)}),n={...e.dimensions.droppables,..._w(r)},s=Sw(xD({additions:t.additions,updatedDroppables:n,viewport:e.viewport})),i={...e.dimensions.draggables,...s};t.removals.forEach(y=>{delete i[y]});const o={droppables:n,draggables:i},a=Rt(e.impact),l=a?o.droppables[a]:null,c=o.draggables[e.critical.draggable.id],u=o.droppables[e.critical.droppable.id],{impact:d,afterCritical:f}=Bw({draggable:c,home:u,draggables:i,viewport:e.viewport}),p=l&&l.isCombineEnabled?e.impact:d,w=$w({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:p,viewport:e.viewport,afterCritical:f}),g={...e,phase:"DRAGGING",impact:w,onLiftImpact:d,dimensions:o,afterCritical:f,forceShouldAnimate:!1};return e.phase==="COLLECTING"?g:{...g,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Vd=e=>e.movementMode==="SNAP",_u=(e,t,r)=>{const n=yD(e.dimensions,t);return!Vd(e)||r?Wi({state:e,dimensions:n}):Mw({state:e,dimensions:n})};function Su(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const dg={phase:"IDLE",completed:null,shouldFlush:!1};var _D=(e=dg,t)=>{if(t.type==="FLUSH")return{...dg,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&M();const{critical:r,clientSelection:n,viewport:s,dimensions:i,movementMode:o}=t.payload,a=i.draggables[r.draggable.id],l=i.droppables[r.droppable.id],c={selection:n,borderBoxCenter:a.client.borderBox.center,offset:Qe},u={client:c,page:{selection:tt(c.selection,s.scroll.initial),borderBoxCenter:tt(c.selection,s.scroll.initial),offset:tt(c.selection,s.scroll.diff.value)}},d=Nc(i.droppables).every(g=>!g.isFixedOnPage),{impact:f,afterCritical:p}=Bw({draggable:a,home:l,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:i,initial:u,current:u,isWindowScrollAllowed:d,impact:f,afterCritical:p,onLiftImpact:f,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&M(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||M(),bD({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Tn(e)||M();const{client:r}=t.payload;return mn(r,e.current.client.selection)?e:Wi({state:e,clientSelection:r,impact:Vd(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Su(e);Tn(e)||M();const{id:r,newScroll:n}=t.payload,s=e.dimensions.droppables[r];if(!s)return e;const i=vh(s,n);return _u(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Tn(e)||M();const{id:r,isEnabled:n}=t.payload,s=e.dimensions.droppables[r];s||M(),s.isEnabled===n&&M();const i={...s,isEnabled:n};return _u(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Tn(e)||M();const{id:r,isCombineEnabled:n}=t.payload,s=e.dimensions.droppables[r];s||M(),s.isCombineEnabled===n&&M();const i={...s,isCombineEnabled:n};return _u(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Tn(e)||M(),e.isWindowScrollAllowed||M();const r=t.payload.newScroll;if(mn(e.viewport.scroll.current,r))return Su(e);const n=Dw(e.viewport,r);return Vd(e)?Mw({state:e,viewport:n}):Wi({state:e,viewport:n})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Tn(e))return e;const r=t.payload.maxScroll;if(mn(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&M();const r=sD({state:e,type:t.type});return r?Wi({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&M(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||M(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};const SD=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),kD=e=>({type:"LIFT",payload:e}),ED=e=>({type:"INITIAL_PUBLISH",payload:e}),CD=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),ND=()=>({type:"COLLECTION_STARTING",payload:null}),jD=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),DD=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),PD=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Uw=e=>({type:"MOVE",payload:e}),AD=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),ID=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),TD=()=>({type:"MOVE_UP",payload:null}),OD=()=>({type:"MOVE_DOWN",payload:null}),RD=()=>({type:"MOVE_RIGHT",payload:null}),$D=()=>({type:"MOVE_LEFT",payload:null}),Eh=()=>({type:"FLUSH",payload:null}),LD=e=>({type:"DROP_ANIMATE",payload:e}),Ch=e=>({type:"DROP_COMPLETE",payload:e}),zw=e=>({type:"DROP",payload:e}),FD=e=>({type:"DROP_PENDING",payload:e}),Vw=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var MD=e=>({getState:t,dispatch:r})=>n=>s=>{if(s.type!=="LIFT"){n(s);return}const{id:i,clientSelection:o,movementMode:a}=s.payload,l=t();l.phase==="DROP_ANIMATING"&&r(Ch({completed:l.completed})),t().phase!=="IDLE"&&M(),r(Eh()),r(SD({draggableId:i,movementMode:a}));const u={draggableId:i,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:d,dimensions:f,viewport:p}=e.startPublishing(u);r(ED({critical:d,dimensions:f,clientSelection:o,movementMode:a,viewport:p}))},BD=e=>()=>t=>r=>{r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)};const Nh={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ao={opacity:{drop:0,combining:.7},scale:{drop:.75}},Ww={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Dn=`${Ww.outOfTheWay}s ${Nh.outOfTheWay}`,Gi={fluid:`opacity ${Dn}`,snap:`transform ${Dn}, opacity ${Dn}`,drop:e=>{const t=`${e}s ${Nh.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Dn}`,placeholder:`height ${Dn}, width ${Dn}, margin ${Dn}`},fg=e=>mn(e,Qe)?void 0:`translate(${e.x}px, ${e.y}px)`,Wd={moveTo:fg,drop:(e,t)=>{const r=fg(e);if(r)return t?`${r} scale(${Ao.scale.drop})`:r}},{minDropTime:Gd,maxDropTime:Gw}=Ww,UD=Gw-Gd,hg=1500,zD=.6;var VD=({current:e,destination:t,reason:r})=>{const n=jo(e,t);if(n<=0)return Gd;if(n>=hg)return Gw;const s=n/hg,i=Gd+UD*s,o=r==="CANCEL"?i*zD:i;return Number(o.toFixed(2))},WD=({impact:e,draggable:t,dimensions:r,viewport:n,afterCritical:s})=>{const{draggables:i,droppables:o}=r,a=Rt(e),l=a?o[a]:null,c=o[t.descriptor.droppableId],u=Fw({impact:e,draggable:t,draggables:i,afterCritical:s,droppable:l||c,viewport:n});return It(u,t.client.borderBox.center)},GD=({draggables:e,reason:t,lastImpact:r,home:n,viewport:s,onLiftImpact:i})=>!r.at||t!=="DROP"?{impact:Lw({draggables:e,impact:i,destination:n,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Do},didDropInsideDroppable:!0};const HD=({getState:e,dispatch:t})=>r=>n=>{if(n.type!=="DROP"){r(n);return}const s=e(),i=n.payload.reason;if(s.phase==="COLLECTING"){t(FD({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&M(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||M();const a=s.critical,l=s.dimensions,c=l.draggables[s.critical.draggable.id],{impact:u,didDropInsideDroppable:d}=GD({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),f=d?wh(u):null,p=d?jc(u):null,w={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:w,reason:i,mode:s.movementMode,destination:f,combine:p},b=WD({impact:u,draggable:c,dimensions:l,viewport:s.viewport,afterCritical:s.afterCritical}),y={critical:s.critical,afterCritical:s.afterCritical,result:g,impact:u};if(!(!mn(s.current.client.offset,b)||!!g.combine)){t(Ch({completed:y}));return}const v=VD({current:s.current.client.offset,destination:b,reason:i});t(LD({newHomeClientOffset:b,dropDuration:v,completed:y}))};var qD=HD,Hw=()=>({x:window.pageXOffset,y:window.pageYOffset});function ZD(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function KD({onWindowScroll:e}){function t(){e(Hw())}const r=No(t),n=ZD(r);let s=pn;function i(){return s!==pn}function o(){i()&&M(),s=Gt(window,[n])}function a(){i()||M(),r.cancel(),s(),s=pn}return{start:o,stop:a,isActive:i}}const JD=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH",QD=e=>{const t=KD({onWindowScroll:r=>{e.dispatch(AD({newScroll:r}))}});return r=>n=>{!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&JD(n)&&t.stop(),r(n)}};var YD=QD,XD=e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),s=i=>{t||r||(t=!0,e(i),clearTimeout(n))};return s.wasCalled=()=>t,s},eP=()=>{const e=[],t=s=>{const i=e.findIndex(a=>a.timerId===s);i===-1&&M();const[o]=e.splice(i,1);o.callback()};return{add:s=>{const i=setTimeout(()=>t(i)),o={timerId:i,callback:s};e.push(o)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const tP=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,rP=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,nP=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n},wi=(e,t)=>{t()},wa=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function ku(e,t,r,n){if(!e){r(n(t));return}const s=XD(r);e(t,{announce:s}),s.wasCalled()||r(n(t))}var sP=(e,t)=>{const r=eP();let n=null;const s=(d,f)=>{n&&M(),wi("onBeforeCapture",()=>{const p=e().onBeforeCapture;p&&p({draggableId:d,mode:f})})},i=(d,f)=>{n&&M(),wi("onBeforeDragStart",()=>{const p=e().onBeforeDragStart;p&&p(wa(d,f))})},o=(d,f)=>{n&&M();const p=wa(d,f);n={mode:f,lastCritical:d,lastLocation:p.source,lastCombine:null},r.add(()=>{wi("onDragStart",()=>ku(e().onDragStart,p,t,La.onDragStart))})},a=(d,f)=>{const p=wh(f),w=jc(f);n||M();const g=!nP(d,n.lastCritical);g&&(n.lastCritical=d);const b=!tP(n.lastLocation,p);b&&(n.lastLocation=p);const y=!rP(n.lastCombine,w);if(y&&(n.lastCombine=w),!g&&!b&&!y)return;const m={...wa(d,n.mode),combine:w,destination:p};r.add(()=>{wi("onDragUpdate",()=>ku(e().onDragUpdate,m,t,La.onDragUpdate))})},l=()=>{n||M(),r.flush()},c=d=>{n||M(),n=null,wi("onDragEnd",()=>ku(e().onDragEnd,d,t,La.onDragEnd))};return{beforeCapture:s,beforeStart:i,start:o,update:a,flush:l,drop:c,abort:()=>{if(!n)return;const d={...wa(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};c(d)}}},iP=(e,t)=>{const r=sP(e,t);return n=>s=>i=>{if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){const a=i.payload.critical;r.beforeStart(a,i.payload.movementMode),s(i),r.start(a,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){const a=i.payload.completed.result;r.flush(),s(i),r.drop(a);return}if(s(i),i.type==="FLUSH"){r.abort();return}const o=n.getState();o.phase==="DRAGGING"&&r.update(o.critical,o.impact)}};const oP=e=>t=>r=>{if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}const n=e.getState();n.phase!=="DROP_ANIMATING"&&M(),e.dispatch(Ch({completed:n.completed}))};var aP=oP;const lP=e=>{let t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return s=>i=>{if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),s(i),i.type!=="DROP_ANIMATE")return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Vw())}};r=requestAnimationFrame(()=>{r=null,t=Gt(window,[o])})}};var cP=lP,uP=e=>()=>t=>r=>{(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)},dP=e=>{let t=!1;return()=>r=>n=>{if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;const s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const fP=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH";var hP=e=>t=>r=>n=>{if(fP(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);const s=t.getState();s.phase!=="DRAGGING"&&M(),e.start(s);return}r(n),e.scroll(t.getState())};const pP=e=>t=>r=>{if(t(r),r.type!=="PUBLISH_WHILE_DRAGGING")return;const n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(zw({reason:n.reason})))};var mP=pP;const gP=Y0;var yP=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:n,announce:s,autoScroller:i})=>Q0(_D,gP(J2(BD(r),uP(e),MD(e),qD,aP,cP,mP,hP(i),YD,dP(t),iP(n,s))));const Eu=()=>({additions:{},removals:{},modified:{}});function vP({registry:e,callbacks:t}){let r=Eu(),n=null;const s=()=>{n||(t.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:l,removals:c,modified:u}=r,d=Object.keys(l).map(w=>e.draggable.getById(w).getDimension(Qe)).sort((w,g)=>w.descriptor.index-g.descriptor.index),f=Object.keys(u).map(w=>{const b=e.droppable.getById(w).callbacks.getScrollWhileDragging();return{droppableId:w,scroll:b}}),p={additions:d,removals:Object.keys(c),modified:f};r=Eu(),t.publish(p)}))};return{add:l=>{const c=l.descriptor.id;r.additions[c]=l,r.modified[l.descriptor.droppableId]=!0,r.removals[c]&&delete r.removals[c],s()},remove:l=>{const c=l.descriptor;r.removals[c.id]=!0,r.modified[c.droppableId]=!0,r.additions[c.id]&&delete r.additions[c.id],s()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=Eu())}}}var qw=({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const s=It({x:t,y:e},{x:n,y:r});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},Zw=()=>{const e=document.documentElement;return e||M(),e},Kw=()=>{const e=Zw();return qw({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},wP=()=>{const e=Hw(),t=Kw(),r=e.y,n=e.x,s=Zw(),i=s.clientWidth,o=s.clientHeight,a=n+i,l=r+o;return{frame:lr({top:r,left:n,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:Qe,displacement:Qe}}}},xP=({critical:e,scrollOptions:t,registry:r})=>{const n=wP(),s=n.scroll.current,i=e.droppable,o=r.droppable.getAllByType(i.type).map(u=>u.callbacks.getDimensionAndWatchScroll(s,t)),a=r.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(s));return{dimensions:{draggables:Sw(a),droppables:_w(o)},critical:e,viewport:n}};function pg(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var bP=(e,t)=>{let r=null;const n=vP({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(f,p)=>{e.droppable.exists(f)||M(),r&&t.updateDroppableIsEnabled({id:f,isEnabled:p})},i=(f,p)=>{r&&(e.droppable.exists(f)||M(),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:p}))},o=(f,p)=>{r&&(e.droppable.exists(f)||M(),t.updateDroppableScroll({id:f,newScroll:p}))},a=(f,p)=>{r&&e.droppable.getById(f).callbacks.scroll(p)},l=()=>{if(!r)return;n.stop();const f=r.critical.droppable;e.droppable.getAllByType(f.type).forEach(p=>p.callbacks.dragStopped()),r.unsubscribe(),r=null},c=f=>{r||M();const p=r.critical.draggable;f.type==="ADDITION"&&pg(e,p,f.value)&&n.add(f.value),f.type==="REMOVAL"&&pg(e,p,f.value)&&n.remove(f.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:a,updateDroppableScroll:o,startPublishing:f=>{r&&M();const p=e.draggable.getById(f.draggableId),w=e.droppable.getById(p.descriptor.droppableId),g={draggable:p.descriptor,droppable:w.descriptor},b=e.subscribe(c);return r={critical:g,unsubscribe:b},xP({critical:g,registry:e,scrollOptions:f.scrollOptions})},stopPublishing:l}},Jw=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",_P=e=>{window.scrollBy(e.x,e.y)};const SP=Je(e=>Nc(e).filter(t=>!(!t.isEnabled||!t.frame))),kP=(e,t)=>SP(t).find(n=>(n.frame||M(),Tw(n.frame.pageMarginBox)(e)))||null;var EP=({center:e,destination:t,droppables:r})=>{if(t){const s=r[t];return s.frame?s:null}return kP(e,r)};const Io={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var CP=(e,t,r=()=>Io)=>{const n=r(),s=e[t.size]*n.startFromPercentage,i=e[t.size]*n.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},Qw=({startOfRange:e,endOfRange:t,current:r})=>{const n=t-e;return n===0?0:(r-e)/n},jh=1,NP=(e,t,r=()=>Io)=>{const n=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return jh;const i=1-Qw({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=n.maxPixelScroll*n.ease(i);return Math.ceil(o)},jP=(e,t,r)=>{const n=r(),s=n.durationDampening.accelerateAt,i=n.durationDampening.stopDampeningAt,o=t,a=i,c=Date.now()-o;if(c>=i)return e;if(c<s)return jh;const u=Qw({startOfRange:s,endOfRange:a,current:c}),d=e*n.ease(u);return Math.ceil(d)},mg=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:s})=>{const i=NP(e,t,s);return i===0?0:n?Math.max(jP(i,r,s),jh):i},gg=({container:e,distanceToEdges:t,dragStartTime:r,axis:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=CP(e,n,i);return t[n.end]<t[n.start]?mg({distanceToEdge:t[n.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*mg({distanceToEdge:t[n.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},DP=({container:e,subject:t,proposedScroll:r})=>{const n=t.height>e.height,s=t.width>e.width;return!s&&!n?r:s&&n?null:{x:s?0:r.x,y:n?0:r.y}};const PP=bw(e=>e===0?0:e);var Yw=({dragStartTime:e,container:t,subject:r,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o={top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y,left:n.x-t.left},a=gg({container:t,distanceToEdges:o,dragStartTime:e,axis:xh,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),l=gg({container:t,distanceToEdges:o,dragStartTime:e,axis:Cw,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),c=PP({x:l,y:a});if(mn(c,Qe))return null;const u=DP({container:t,subject:r,proposedScroll:c});return u?mn(u,Qe)?null:u:null};const AP=bw(e=>e===0?0:e>0?1:-1),Dh=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:n})=>{const s=tt(t,n),i={x:e(s.x,r.x),y:e(s.y,r.y)};return mn(i,Qe)?null:i}})(),Xw=({max:e,current:t,change:r})=>{const n={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=AP(r),i=Dh({max:n,current:t,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},Ph=(e,t)=>Xw({current:e.scroll.current,max:e.scroll.max,change:t}),IP=(e,t)=>{if(!Ph(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return Dh({current:n,max:r,change:t})},Ah=(e,t)=>{const r=e.frame;return r?Xw({current:r.scroll.current,max:r.scroll.max,change:t}):!1},TP=(e,t)=>{const r=e.frame;return!r||!Ah(e,t)?null:Dh({current:r.scroll.current,max:r.scroll.max,change:t})};var OP=({viewport:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=Yw({dragStartTime:n,container:e.frame,subject:t,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return o&&Ph(e,o)?o:null},RP=({droppable:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=e.frame;if(!o)return null;const a=Yw({dragStartTime:n,container:o.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return a&&Ah(e,a)?a:null},yg=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:s,getAutoScrollerOptions:i})=>{const o=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const d=e.viewport,f=OP({dragStartTime:t,viewport:d,subject:l,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(f){n(f);return}}const c=EP({center:o,destination:Rt(e.impact),droppables:e.dimensions.droppables});if(!c)return;const u=RP({dragStartTime:t,droppable:c,subject:l,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});u&&s(c.descriptor.id,u)},$P=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>Io})=>{const n=No(e),s=No(t);let i=null;const o=c=>{i||M();const{shouldUseTimeDampening:u,dragStartTime:d}=i;yg({state:c,scrollWindow:n,scrollDroppable:s,dragStartTime:d,shouldUseTimeDampening:u,getAutoScrollerOptions:r})};return{start:c=>{i&&M();const u=Date.now();let d=!1;const f=()=>{d=!0};yg({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:r}),i={dragStartTime:u,shouldUseTimeDampening:d},d&&o(c)},stop:()=>{i&&(n.cancel(),s.cancel(),i=null)},scroll:o}},LP=({move:e,scrollDroppable:t,scrollWindow:r})=>{const n=(a,l)=>{const c=tt(a.current.client.selection,l);e({client:c})},s=(a,l)=>{if(!Ah(a,l))return l;const c=TP(a,l);if(!c)return t(a.descriptor.id,l),null;const u=It(l,c);return t(a.descriptor.id,u),It(l,u)},i=(a,l,c)=>{if(!a||!Ph(l,c))return c;const u=IP(l,c);if(!u)return r(c),null;const d=It(c,u);return r(d),It(c,d)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=Rt(a.impact);c||M();const u=s(a.dimensions.droppables[c],l);if(!u)return;const d=a.viewport,f=i(a.isWindowScrollAllowed,d,u);f&&n(a,f)}},FP=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:n})=>{const s=$P({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n}),i=LP({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(n().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){s.scroll(l);return}l.scrollJumpRequest&&i(l)}},start:s.start,stop:s.stop}};const Js="data-rfd",Qs=(()=>{const e=`${Js}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Hd=(()=>{const e=`${Js}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),MP=(()=>{const e=`${Js}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),vg={contextId:`${Js}-scroll-container-context-id`},BP=e=>t=>`[${t}="${e}"]`,xi=(e,t)=>e.map(r=>{const n=r.styles[t];return n?`${r.selector} { ${n} }`:""}).join(" "),UP="pointer-events: none;";var zP=e=>{const t=BP(e),r=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Qs.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:UP,dropAnimating:a}}})(),n=(()=>{const a=`
      transition: ${Gi.outOfTheWay};
    `;return{selector:t(Hd.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),s={selector:t(MP.contextId),styles:{always:"overflow-anchor: none;"}},o=[n,r,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:xi(o,"always"),resting:xi(o,"resting"),dragging:xi(o,"dragging"),dropAnimating:xi(o,"dropAnimating"),userCancel:xi(o,"userCancel")}};const VP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect;var $t=VP;const Cu=()=>{const e=document.querySelector("head");return e||M(),e},wg=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function WP(e,t){const r=ge(()=>zP(e),[e]),n=x.useRef(null),s=x.useRef(null),i=te(Je(d=>{const f=s.current;f||M(),f.textContent=d}),[]),o=te(d=>{const f=n.current;f||M(),f.textContent=d},[]);$t(()=>{!n.current&&!s.current||M();const d=wg(t),f=wg(t);return n.current=d,s.current=f,d.setAttribute(`${Js}-always`,e),f.setAttribute(`${Js}-dynamic`,e),Cu().appendChild(d),Cu().appendChild(f),o(r.always),i(r.resting),()=>{const p=w=>{const g=w.current;g||M(),Cu().removeChild(g),w.current=null};p(n),p(s)}},[t,o,i,r.always,r.resting,e]);const a=te(()=>i(r.dragging),[i,r.dragging]),l=te(d=>{if(d==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),c=te(()=>{s.current&&i(r.resting)},[i,r.resting]);return ge(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function ex(e,t){return Array.from(e.querySelectorAll(t))}var tx=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Ac(e){return e instanceof tx(e).HTMLElement}function GP(e,t){const r=`[${Qs.contextId}="${e}"]`,n=ex(document,r);if(!n.length)return null;const s=n.find(i=>i.getAttribute(Qs.draggableId)===t);return!s||!Ac(s)?null:s}function HP(e){const t=x.useRef({}),r=x.useRef(null),n=x.useRef(null),s=x.useRef(!1),i=te(function(f,p){const w={id:f,focus:p};return t.current[f]=w,function(){const b=t.current;b[f]!==w&&delete b[f]}},[]),o=te(function(f){const p=GP(e,f);p&&p!==document.activeElement&&p.focus()},[e]),a=te(function(f,p){r.current===f&&(r.current=p)},[]),l=te(function(){n.current||s.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const f=r.current;f&&o(f)}))},[o]),c=te(function(f){r.current=null;const p=document.activeElement;p&&p.getAttribute(Qs.draggableId)===f&&(r.current=f)},[]);return $t(()=>(s.current=!0,function(){s.current=!1;const f=n.current;f&&cancelAnimationFrame(f)}),[]),ge(()=>({register:i,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[i,c,l,a])}function qP(){const e={draggables:{},droppables:{}},t=[];function r(d){return t.push(d),function(){const p=t.indexOf(d);p!==-1&&t.splice(p,1)}}function n(d){t.length&&t.forEach(f=>f(d))}function s(d){return e.draggables[d]||null}function i(d){const f=s(d);return f||M(),f}const o={register:d=>{e.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:(d,f)=>{const p=e.draggables[f.descriptor.id];p&&p.uniqueId===d.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:d=>{const f=d.descriptor.id,p=s(f);p&&d.uniqueId===p.uniqueId&&(delete e.draggables[f],e.droppables[d.descriptor.droppableId]&&n({type:"REMOVAL",value:d}))},getById:i,findById:s,exists:d=>!!s(d),getAllByType:d=>Object.values(e.draggables).filter(f=>f.descriptor.type===d)};function a(d){return e.droppables[d]||null}function l(d){const f=a(d);return f||M(),f}const c={register:d=>{e.droppables[d.descriptor.id]=d},unregister:d=>{const f=a(d.descriptor.id);f&&d.uniqueId===f.uniqueId&&delete e.droppables[d.descriptor.id]},getById:l,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(e.droppables).filter(f=>f.descriptor.type===d)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:c,subscribe:r,clean:u}}function ZP(){const e=ge(qP,[]);return x.useEffect(()=>function(){ce.version.startsWith("16")||ce.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()},[e]),e}var Ih=ce.createContext(null),Nl=()=>{const e=document.body;return e||M(),e};const KP={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var JP=KP;const QP=e=>`rfd-announcement-${e}`;function YP(e){const t=ge(()=>QP(e),[e]),r=x.useRef(null);return x.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),hn(i.style,JP),Nl().appendChild(i),function(){setTimeout(function(){const l=Nl();l.contains(i)&&l.removeChild(i),i===r.current&&(r.current=null)})}},[t]),te(s=>{const i=r.current;if(i){i.textContent=s;return}},[])}let XP=0;const rx={separator:"::"};function eA(e,t=rx){return ge(()=>`${e}${t.separator}${XP++}`,[t.separator,e])}function tA(e,t=rx){const r=ce.useId();return ge(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}var Th="useId"in ce?tA:eA;function rA({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function nA({contextId:e,text:t}){const r=Th("hidden-text",{separator:"-"}),n=ge(()=>rA({contextId:e,uniqueId:r}),[r,e]);return x.useEffect(function(){const i=document.createElement("div");return i.id=n,i.textContent=t,i.style.display="none",Nl().appendChild(i),function(){const a=Nl();a.contains(i)&&a.removeChild(i)}},[n,t]),n}var Ic=ce.createContext(null);function nx(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),t}function sA(){let e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&M();const a={abandon:o};return e=a,a}function s(){e||M(),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:i}}function To(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const iA=9,oA=13,Oh=27,sx=32,aA=33,lA=34,cA=35,uA=36,dA=37,fA=38,hA=39,pA=40,mA={[oA]:!0,[iA]:!0};var ix=e=>{mA[e.keyCode]&&e.preventDefault()};const gA=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(n=>`on${n}`in document)||e})();var Tc=gA;const ox=0,xg=5;function yA(e,t){return Math.abs(t.x-e.x)>=xg||Math.abs(t.y-e.y)>=xg}const bg={type:"IDLE"};function vA({cancel:e,completed:t,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:s=>{const{button:i,clientX:o,clientY:a}=s;if(i!==ox)return;const l={x:o,y:a},c=r();if(c.type==="DRAGGING"){s.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&M();const u=c.point;if(!yA(u,l))return;s.preventDefault();const d=c.actions.fluidLift(l);n({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:s=>{const i=r();if(i.type!=="DRAGGING"){e();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(r().type==="PENDING"){e();return}if(s.keyCode===Oh){s.preventDefault(),e();return}ix(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const i=r();if(i.type==="IDLE"&&M(),i.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:Tc,fn:e}]}function wA(e){const t=x.useRef(bg),r=x.useRef(pn),n=ge(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==ox||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const f=e.findClosestDraggableId(d);if(!f)return;const p=e.tryGetLock(f,o,{sourceEvent:d});if(!p)return;d.preventDefault();const w={x:d.clientX,y:d.clientY};r.current(),c(p,w)}}),[e]),s=ge(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const d=e.findClosestDraggableId(u);if(!d)return;const f=e.findOptionsForDraggable(d);f&&(f.shouldRespectForcePress||e.canGetLock(d)&&u.preventDefault())}}),[e]),i=te(function(){const d={passive:!1,capture:!0};r.current=Gt(window,[s,n],d)},[s,n]),o=te(()=>{t.current.type!=="IDLE"&&(t.current=bg,r.current(),i())},[i]),a=te(()=>{const u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),l=te(function(){const d={capture:!0,passive:!1},f=vA({cancel:a,completed:o,getPhase:()=>t.current,setPhase:p=>{t.current=p}});r.current=Gt(window,f,d)},[a,o]),c=te(function(d,f){t.current.type!=="IDLE"&&M(),t.current={type:"PENDING",point:f,actions:d},l()},[l]);$t(function(){return i(),function(){r.current()}},[i])}function xA(){}const bA={[lA]:!0,[aA]:!0,[uA]:!0,[cA]:!0};function _A(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===Oh){s.preventDefault(),r();return}if(s.keyCode===sx){s.preventDefault(),n();return}if(s.keyCode===pA){s.preventDefault(),e.moveDown();return}if(s.keyCode===fA){s.preventDefault(),e.moveUp();return}if(s.keyCode===hA){s.preventDefault(),e.moveRight();return}if(s.keyCode===dA){s.preventDefault(),e.moveLeft();return}if(bA[s.keyCode]){s.preventDefault();return}ix(s)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Tc,fn:r}]}function SA(e){const t=x.useRef(xA),r=ge(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==sx)return;const o=e.findClosestDraggableId(i);if(!o)return;const a=e.tryGetLock(o,u,{sourceEvent:i});if(!a)return;i.preventDefault();let l=!0;const c=a.snapLift();t.current();function u(){l||M(),l=!1,t.current(),n()}t.current=Gt(window,_A(c,u),{capture:!0,passive:!1})}}),[e]),n=te(function(){const i={passive:!1,capture:!0};t.current=Gt(window,[r],i)},[r]);$t(function(){return n(),function(){t.current()}},[n])}const Nu={type:"IDLE"},kA=120,EA=.15;function CA({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===Oh&&r.preventDefault(),e()}},{eventName:Tc,fn:e}]}function NA({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:i,clientY:o}=n.touches[0],a={x:i,y:o};n.preventDefault(),s.actions.move(a)}},{eventName:"touchend",fn:n=>{const s=r();if(s.type!=="DRAGGING"){e();return}n.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){e();return}n.preventDefault(),e()}},{eventName:"touchforcechange",fn:n=>{const s=r();s.type==="IDLE"&&M();const i=n.touches[0];if(!i||!(i.force>=EA))return;const a=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){a&&e();return}if(a){if(s.hasMoved){n.preventDefault();return}e();return}n.preventDefault()}},{eventName:Tc,fn:e}]}function jA(e){const t=x.useRef(Nu),r=x.useRef(pn),n=te(function(){return t.current},[]),s=te(function(p){t.current=p},[]),i=ge(()=>({eventName:"touchstart",fn:function(p){if(p.defaultPrevented)return;const w=e.findClosestDraggableId(p);if(!w)return;const g=e.tryGetLock(w,a,{sourceEvent:p});if(!g)return;const b=p.touches[0],{clientX:y,clientY:m}=b,v={x:y,y:m};r.current(),d(g,v)}}),[e]),o=te(function(){const p={capture:!0,passive:!1};r.current=Gt(window,[i],p)},[i]),a=te(()=>{const f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),s(Nu),r.current(),o())},[o,s]),l=te(()=>{const f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=te(function(){const p={capture:!0,passive:!1},w={cancel:l,completed:a,getPhase:n},g=Gt(window,NA(w),p),b=Gt(window,CA(w),p);r.current=function(){g(),b()}},[l,n,a]),u=te(function(){const p=n();p.type!=="PENDING"&&M();const w=p.actions.fluidLift(p.point);s({type:"DRAGGING",actions:w,hasMoved:!1})},[n,s]),d=te(function(p,w){n().type!=="IDLE"&&M();const g=setTimeout(u,kA);s({type:"PENDING",point:w,actions:p,longPressTimerId:g}),c()},[c,n,s,u]);$t(function(){return o(),function(){r.current();const w=n();w.type==="PENDING"&&(clearTimeout(w.longPressTimerId),s(Nu))}},[n,o,s]),$t(function(){return Gt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const DA=["input","button","textarea","select","option","optgroup","video","audio"];function ax(e,t){if(t==null)return!1;if(DA.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:ax(e,t.parentElement)}function PA(e,t){const r=t.target;return Ac(r)?ax(e,r):!1}var AA=e=>lr(e.getBoundingClientRect()).center;function IA(e){return e instanceof tx(e).Element}const TA=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||e})();function lx(e,t){return e==null?null:e[TA](t)?e:lx(e.parentElement,t)}function OA(e,t){return e.closest?e.closest(t):lx(e,t)}function RA(e){return`[${Qs.contextId}="${e}"]`}function $A(e,t){const r=t.target;if(!IA(r))return null;const n=RA(e),s=OA(r,n);return!s||!Ac(s)?null:s}function LA(e,t){const r=$A(e,t);return r?r.getAttribute(Qs.draggableId):null}function FA(e,t){const r=`[${Hd.contextId}="${e}"]`,s=ex(document,r).find(i=>i.getAttribute(Hd.id)===t);return!s||!Ac(s)?null:s}function MA(e){e.preventDefault()}function xa({expected:e,phase:t,isLockActive:r,shouldWarn:n}){return!(!r()||e!==t)}function cx({lockAPI:e,store:t,registry:r,draggableId:n}){if(e.isClaimed())return!1;const s=r.draggable.findById(n);return!(!s||!s.options.isEnabled||!Jw(t.getState(),n))}function BA({lockAPI:e,contextId:t,store:r,registry:n,draggableId:s,forceSensorStop:i,sourceEvent:o}){if(!cx({lockAPI:e,store:r,registry:n,draggableId:s}))return null;const l=n.draggable.getById(s),c=FA(t,l.descriptor.id);if(!c||o&&!l.options.canDragInteractiveElements&&PA(c,o))return null;const u=e.claim(i||pn);let d="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function p(){return e.isActive(u)}function w(k,j){xa({expected:k,phase:d,isLockActive:p,shouldWarn:!0})&&r.dispatch(j())}const g=w.bind(null,"DRAGGING");function b(k){function j(){e.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(j(),M()),r.dispatch(kD(k.liftActionArgs)),d="DRAGGING";function A(C,I={shouldBlockNextClick:!1}){if(k.cleanup(),I.shouldBlockNextClick){const D=Gt(window,[{eventName:"click",fn:MA,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(D)}j(),r.dispatch(zw({reason:C}))}return{isActive:()=>xa({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:f,drop:C=>A("DROP",C),cancel:C=>A("CANCEL",C),...k.actions}}function y(k){const j=No(C=>{g(()=>Uw({client:C}))});return{...b({liftActionArgs:{id:s,clientSelection:k,movementMode:"FLUID"},cleanup:()=>j.cancel(),actions:{move:j}}),move:j}}function m(){const k={moveUp:()=>g(TD),moveRight:()=>g(RD),moveDown:()=>g(OD),moveLeft:()=>g($D)};return b({liftActionArgs:{id:s,clientSelection:AA(c),movementMode:"SNAP"},cleanup:pn,actions:k})}function v(){xa({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&e.release()}return{isActive:()=>xa({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:y,snapLift:m,abort:v}}const UA=[wA,SA,jA];function zA({contextId:e,store:t,registry:r,customSensors:n,enableDefaultSensors:s}){const i=[...s?UA:[],...n||[]],o=x.useState(()=>sA())[0],a=te(function(b,y){To(b)&&!To(y)&&o.tryAbandon()},[o]);$t(function(){let b=t.getState();return t.subscribe(()=>{const m=t.getState();a(b,m),b=m})},[o,t,a]),$t(()=>o.tryAbandon,[o.tryAbandon]);const l=te(g=>cx({lockAPI:o,registry:r,store:t,draggableId:g}),[o,r,t]),c=te((g,b,y)=>BA({lockAPI:o,registry:r,contextId:e,store:t,draggableId:g,forceSensorStop:b||null,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null}),[e,o,r,t]),u=te(g=>LA(e,g),[e]),d=te(g=>{const b=r.draggable.findById(g);return b?b.options:null},[r.draggable]),f=te(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Eh()))},[o,t]),p=te(()=>o.isClaimed(),[o]),w=ge(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:d,tryReleaseLock:f,isLockClaimed:p}),[l,c,u,d,f,p]);for(let g=0;g<i.length;g++)i[g](w)}const VA=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ce.version.startsWith("16")||ce.version.startsWith("17")?r():Mo.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),WA=e=>({...Io,...e.autoScrollerOptions,durationDampening:{...Io.durationDampening,...e.autoScrollerOptions}});function bi(e){return e.current||M(),e.current}function GA(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:s,dragHandleUsageInstructions:i}=e,o=x.useRef(null),a=nx(e),l=te(()=>VA(a.current),[a]),c=te(()=>WA(a.current),[a]),u=YP(t),d=nA({contextId:t,text:i}),f=WP(t,s),p=te(D=>{bi(o).dispatch(D)},[]),w=ge(()=>Gm({publishWhileDragging:CD,updateDroppableScroll:jD,updateDroppableIsEnabled:DD,updateDroppableIsCombineEnabled:PD,collectionStarting:ND},p),[p]),g=ZP(),b=ge(()=>bP(g,w),[g,w]),y=ge(()=>FP({scrollWindow:_P,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:c,...Gm({move:Uw},p)}),[b.scrollDroppable,p,c]),m=HP(t),v=ge(()=>yP({announce:u,autoScroller:y,dimensionMarshal:b,focusMarshal:m,getResponders:l,styleMarshal:f}),[u,y,b,m,l,f]);o.current=v;const S=te(()=>{const D=bi(o);D.getState().phase!=="IDLE"&&D.dispatch(Eh())},[]),k=te(()=>{const D=bi(o).getState();return D.phase==="DROP_ANIMATING"?!0:D.phase==="IDLE"?!1:D.isDragging},[]),j=ge(()=>({isDragging:k,tryAbort:S}),[k,S]);r(j);const A=te(D=>Jw(bi(o).getState(),D),[]),C=te(()=>Tn(bi(o).getState()),[]),I=ge(()=>({marshal:b,focus:m,contextId:t,canLift:A,isMovementAllowed:C,dragHandleUsageInstructionsId:d,registry:g}),[t,b,d,m,A,C,g]);return zA({contextId:t,store:v,registry:g,customSensors:n||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),x.useEffect(()=>S,[S]),ce.createElement(Ic.Provider,{value:I},ce.createElement(tj,{context:Ih,store:v},e.children))}let HA=0;function qA(){return ge(()=>`${HA++}`,[])}function ZA(){return ce.useId()}var KA="useId"in ce?ZA:qA;function JA(e){const t=KA(),r=e.dragHandleUsageInstructions||La.dragHandleUsageInstructions;return ce.createElement(fj,null,n=>ce.createElement(GA,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const _g={dragging:5e3,dropAnimating:4500},QA=(e,t)=>t?Gi.drop(t.duration):e?Gi.snap:Gi.fluid,YA=(e,t)=>{if(e)return t?Ao.opacity.drop:Ao.opacity.combining},XA=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function eI(e){const r=e.dimension.client,{offset:n,combineWith:s,dropping:i}=e,o=!!s,a=XA(e),l=!!i,c=l?Wd.drop(n,o):Wd.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:QA(a,i),transform:c,opacity:YA(o,l),zIndex:l?_g.dropAnimating:_g.dragging,pointerEvents:"none"}}function tI(e){return{transform:Wd.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function rI(e){return e.type==="DRAGGING"?eI(e):tI(e)}function nI(e,t,r=Qe){const n=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=gw(s,n),o=Sl(i,r),a={client:i,tagName:t.tagName.toLowerCase(),display:n.display},l={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:i,page:o}}function sI(e){const t=Th("draggable"),{descriptor:r,registry:n,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:a}=e,l=ge(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:a}),[i,a,o]),c=te(p=>{const w=s();return w||M(),nI(r,w,p)},[r,s]),u=ge(()=>({uniqueId:t,descriptor:r,options:l,getDimension:c}),[r,c,l,t]),d=x.useRef(u),f=x.useRef(!0);$t(()=>(n.draggable.register(d.current),()=>n.draggable.unregister(d.current)),[n.draggable]),$t(()=>{if(f.current){f.current=!1;return}const p=d.current;d.current=u,n.draggable.update(u,p)},[u,n.draggable])}var Rh=ce.createContext(null);function jl(e){const t=x.useContext(e);return t||M(),t}function iI(e){e.preventDefault()}const oI=e=>{const t=x.useRef(null),r=te((j=null)=>{t.current=j},[]),n=te(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:o}=jl(Ic),{type:a,droppableId:l}=jl(Rh),c=ge(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:u,draggableId:d,isEnabled:f,shouldRespectForcePress:p,canDragInteractiveElements:w,isClone:g,mapped:b,dropAnimationFinished:y}=e;if(!g){const j=ge(()=>({descriptor:c,registry:o,getDraggableRef:n,canDragInteractiveElements:w,shouldRespectForcePress:p,isEnabled:f}),[c,o,n,w,p,f]);sI(j)}const m=ge(()=>f?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:iI}:null,[s,i,d,f]),v=te(j=>{b.type==="DRAGGING"&&b.dropping&&j.propertyName==="transform"&&(ce.version.startsWith("16")||ce.version.startsWith("17")?y():Mo.flushSync(y))},[y,b]),S=ge(()=>{const j=rI(b),A=b.type==="DRAGGING"&&b.dropping?v:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":d,style:j,onTransitionEnd:A},dragHandleProps:m}},[s,m,d,b,v,r]),k=ge(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return ce.createElement(ce.Fragment,null,u(S,b.snapshot,k))};var aI=oI,ux=(e,t)=>e===t,dx=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const lI=e=>e.combine?e.combine.draggableId:null,cI=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function uI(){const e=Je((s,i)=>({x:s,y:i})),t=Je((s,i,o=null,a=null,l=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!l,dropAnimation:l,mode:s,draggingOver:o,combineWith:a,combineTargetFor:null})),r=Je((s,i,o,a,l=null,c=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:i,offset:s,dimension:o,forceShouldAnimate:u,snapshot:t(i,a,l,c,null)}}));return(s,i)=>{if(To(s)){if(s.critical.draggable.id!==i.draggableId)return null;const o=s.current.client.offset,a=s.dimensions.draggables[i.draggableId],l=Rt(s.impact),c=cI(s.impact),u=s.forceShouldAnimate;return r(e(o.x,o.y),s.movementMode,a,i.isClone,l,c,u)}if(s.phase==="DROP_ANIMATING"){const o=s.completed;if(o.result.draggableId!==i.draggableId)return null;const a=i.isClone,l=s.dimensions.draggables[i.draggableId],c=o.result,u=c.mode,d=dx(c),f=lI(c),w={duration:s.dropDuration,curve:Nh.drop,moveTo:s.newHomeClientOffset,opacity:f?Ao.opacity.drop:null,scale:f?Ao.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:l,dropping:w,draggingOver:d,combineWith:f,mode:u,forceShouldAnimate:null,snapshot:t(u,a,d,f,w)}}}return null}}function fx(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const dI={mapped:{type:"SECONDARY",offset:Qe,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:fx(null)}};function fI(){const e=Je((o,a)=>({x:o,y:a})),t=Je(fx),r=Je((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),n=o=>o?r(Qe,o,!0):null,s=(o,a,l,c)=>{const u=l.displaced.visible[o],d=!!(c.inVirtualList&&c.effected[o]),f=jc(l),p=f&&f.draggableId===o?a:null;if(!u){if(!d)return n(p);if(l.displaced.invisible[o])return null;const b=ii(c.displacedBy.point),y=e(b.x,b.y);return r(y,p,!0)}if(d)return n(p);const w=l.displacedBy.point,g=e(w.x,w.y);return r(g,p,u.shouldAnimate)};return(o,a)=>{if(To(o))return o.critical.draggable.id===a.draggableId?null:s(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:s(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const hI=()=>{const e=uI(),t=fI();return(n,s)=>e(n,s)||t(n,s)||dI},pI={dropAnimationFinished:Vw},mI=pw(hI,pI,null,{context:Ih,areStatePropsEqual:ux})(aI);var gI=mI;function hx(e){return jl(Rh).isUsingCloneFor===e.draggableId&&!e.isClone?null:ce.createElement(gI,e)}function yI(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return ce.createElement(hx,hn({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const px=e=>t=>e===t,vI=px("scroll"),wI=px("auto"),Sg=(e,t)=>t(e.overflowX)||t(e.overflowY),xI=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return Sg(r,vI)||Sg(r,wI)},bI=()=>!1,mx=e=>e==null?null:e===document.body?bI()?e:null:e===document.documentElement?null:xI(e)?e:mx(e.parentElement);var qd=e=>({x:e.scrollLeft,y:e.scrollTop});const gx=e=>e?window.getComputedStyle(e).position==="fixed"?!0:gx(e.parentElement):!1;var _I=e=>{const t=mx(e),r=gx(e);return{closestScrollable:t,isFixedOnPage:r}},SI=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:s,client:i,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:f,client:p}=a,w=qw({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:p,scrollSize:f,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:w,diff:{value:Qe,displacement:Qe}}}})(),c=s==="vertical"?xh:Cw,u=Ks({page:o,withPlaceholder:null,axis:c,frame:l});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:c,isEnabled:t,client:i,page:o,frame:l,subject:u}};const kI=(e,t)=>{const r=yw(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,s=r.paddingBox.left-t.scrollLeft,i=n+t.scrollHeight,o=s+t.scrollWidth,l=gh({top:n,right:o,bottom:i,left:s},r.border);return yh({borderBox:l,margin:r.margin,border:r.border,padding:r.padding})};var EI=({ref:e,descriptor:t,env:r,windowScroll:n,direction:s,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:a})=>{const l=r.closestScrollable,c=kI(e,l),u=Sl(c,n),d=(()=>{if(!l)return null;const p=yw(l),w={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:p,page:Sl(p,n),scroll:qd(l),scrollSize:w,shouldClipSubject:a}})();return SI({descriptor:t,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:s,client:c,page:u,closest:d})};const CI={passive:!1},NI={passive:!0};var kg=e=>e.shouldPublishImmediately?CI:NI;const ba=e=>e&&e.env.closestScrollable||null;function jI(e){const t=x.useRef(null),r=jl(Ic),n=Th("droppable"),{registry:s,marshal:i}=r,o=nx(e),a=ge(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=x.useRef(a),c=ge(()=>Je((S,k)=>{t.current||M();const j={x:S,y:k};i.updateDroppableScroll(a.id,j)}),[a.id,i]),u=te(()=>{const S=t.current;return!S||!S.env.closestScrollable?Qe:qd(S.env.closestScrollable)},[]),d=te(()=>{const S=u();c(S.x,S.y)},[u,c]),f=ge(()=>No(d),[d]),p=te(()=>{const S=t.current,k=ba(S);if(S&&k||M(),S.scrollOptions.shouldPublishImmediately){d();return}f()},[f,d]),w=te((S,k)=>{t.current&&M();const j=o.current,A=j.getDroppableRef();A||M();const C=_I(A),I={ref:A,descriptor:a,env:C,scrollOptions:k};t.current=I;const D=EI({ref:A,descriptor:a,env:C,windowScroll:S,direction:j.direction,isDropDisabled:j.isDropDisabled,isCombineEnabled:j.isCombineEnabled,shouldClipSubject:!j.ignoreContainerClipping}),G=C.closestScrollable;return G&&(G.setAttribute(vg.contextId,r.contextId),G.addEventListener("scroll",p,kg(I.scrollOptions))),D},[r.contextId,a,p,o]),g=te(()=>{const S=t.current,k=ba(S);return S&&k||M(),qd(k)},[]),b=te(()=>{const S=t.current;S||M();const k=ba(S);t.current=null,k&&(f.cancel(),k.removeAttribute(vg.contextId),k.removeEventListener("scroll",p,kg(S.scrollOptions)))},[p,f]),y=te(S=>{const k=t.current;k||M();const j=ba(k);j||M(),j.scrollTop+=S.y,j.scrollLeft+=S.x},[]),m=ge(()=>({getDimensionAndWatchScroll:w,getScrollWhileDragging:g,dragStopped:b,scroll:y}),[b,w,g,y]),v=ge(()=>({uniqueId:n,descriptor:a,callbacks:m}),[m,a,n]);$t(()=>(l.current=v.descriptor,s.droppable.register(v),()=>{t.current&&b(),s.droppable.unregister(v)}),[m,a,b,v,i,s.droppable]),$t(()=>{t.current&&i.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),$t(()=>{t.current&&i.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function ju(){}const Eg={width:0,height:0,margin:wj},DI=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?Eg:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},PI=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=DI({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Gi.placeholder:null}},AI=e=>{const t=x.useRef(null),r=te(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:s,onClose:i,contextId:o}=e,[a,l]=x.useState(e.animate==="open");x.useEffect(()=>a?n!=="open"?(r(),l(!1),ju):t.current?ju:(t.current=setTimeout(()=>{t.current=null,l(!1)}),r):ju,[n,a,r]);const c=te(d=>{d.propertyName==="height"&&(s(),n==="close"&&i())},[n,i,s]),u=PI({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return ce.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:c,ref:e.innerRef})};var II=ce.memo(AI);class TI extends ce.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const OI=e=>{const t=x.useContext(Ic);t||M();const{contextId:r,isMovementAllowed:n}=t,s=x.useRef(null),i=x.useRef(null),{children:o,droppableId:a,type:l,mode:c,direction:u,ignoreContainerClipping:d,isDropDisabled:f,isCombineEnabled:p,snapshot:w,useClone:g,updateViewportMaxScroll:b,getContainerForClone:y}=e,m=te(()=>s.current,[]),v=te((G=null)=>{s.current=G},[]);te(()=>i.current,[]);const S=te((G=null)=>{i.current=G},[]),k=te(()=>{n()&&b({maxScroll:Kw()})},[n,b]);jI({droppableId:a,type:l,mode:c,direction:u,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:m});const j=ge(()=>ce.createElement(TI,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:G,data:B,animate:W})=>ce.createElement(II,{placeholder:B,onClose:G,innerRef:S,animate:W,contextId:r,onTransitionEnd:k})),[r,k,e.placeholder,e.shouldAnimatePlaceholder,S]),A=ge(()=>({innerRef:v,placeholder:j,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":r}}),[r,a,j,v]),C=g?g.dragging.draggableId:null,I=ge(()=>({droppableId:a,type:l,isUsingCloneFor:C}),[a,C,l]);function D(){if(!g)return null;const{dragging:G,render:B}=g,W=ce.createElement(hx,{draggableId:G.draggableId,index:G.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ue,T)=>B(ue,T,G));return J_.createPortal(W,y())}return ce.createElement(Rh.Provider,{value:I},o(A,w),D())};var RI=OI;function $I(){return document.body||M(),document.body}const Cg={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:$I},yx=e=>{let t={...e},r;for(r in Cg)e[r]===void 0&&(t={...t,[r]:Cg[r]});return t},Du=(e,t)=>e===t.droppable.type,Ng=(e,t)=>t.draggables[e.draggable.id],LI=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=Je(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),n=Je((i,o,a,l,c,u)=>{const d=c.descriptor.id;if(c.descriptor.droppableId===i){const w=u?{render:u,dragging:r(c.descriptor)}:null,g={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:w}}if(!o)return t;if(!l)return e;const p={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return(i,o)=>{const a=yx(o),l=a.droppableId,c=a.type,u=!a.isDropDisabled,d=a.renderClone;if(To(i)){const f=i.critical;if(!Du(c,f))return t;const p=Ng(f,i.dimensions),w=Rt(i.impact)===l;return n(l,u,w,w,p,d)}if(i.phase==="DROP_ANIMATING"){const f=i.completed;if(!Du(c,f.critical))return t;const p=Ng(f.critical,i.dimensions);return n(l,u,dx(f.result)===l,Rt(f.impact)===l,p,d)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const f=i.completed;if(!Du(c,f.critical))return t;const p=Rt(f.impact)===l,w=!!(f.impact.at&&f.impact.at.type==="COMBINE"),g=f.critical.droppable.id===l;return p?w?e:t:g?e:t}return t}},FI={updateViewportMaxScroll:ID},MI=pw(LI,FI,(e,t,r)=>({...yx(r),...e,...t}),{context:Ih,areStatePropsEqual:ux})(RI);var BI=MI;function UI(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(""),[o,a]=x.useState(1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,p]=x.useState(null),[w,g]=x.useState("checking"),[b,y]=x.useState(null),m=10;x.useEffect(()=>{(async()=>{await v()})()},[]),x.useEffect(()=>{w==="connected"&&S()},[o,s]);async function v(){try{g("checking"),y(null);const{data:{user:C},error:I}=await Y.auth.getUser();if(I)throw new Error(`Authentication error: ${I.message}`);if(!C)throw new Error("No authenticated user found");const{error:D}=await Y.from("workflows").select("id").limit(1);if(D)throw new Error(`Database ping failed: ${D.message}`);g("connected"),S()}catch(C){const I=C instanceof Error?C.message:"Failed to connect to database";console.error("Connection check failed:",C),g("error"),y(I),ie.error(I)}}async function S(){try{n(!0),console.log("WorkflowList: Starting to fetch workflows (RLS bypassed)..."),y(null);const{data:{user:C}}=await Y.auth.getUser();if(console.log("WorkflowList: Current user:",C),console.log("WorkflowList: RLS status: BYPASSED"),!C)throw new Error("User not authenticated");const{data:I,error:D}=await Y.from("workflows").select("id, name, description, status, created_at, updated_at, order, supports_documents, supports_images, worker_id, api_auth_token, variables, api_url").eq("status","active").order("order",{ascending:!0});if(console.log("WorkflowList: Fetched workflows:",I),console.log("WorkflowList: Query error:",D),console.log("WorkflowList: Query parameters:",{status:"active"}),D)throw console.error("WorkflowList: Supabase query error:",D),new Error("Failed to fetch workflows");t(I||[])}catch(C){console.error("WorkflowList: Error in fetchWorkflows:",C);const I=C instanceof Error?C.message:"Failed to fetch workflows";y(I),ie.error(I)}finally{n(!1)}}const k=C=>{switch(C){case"active":return"bg-emerald-500";case"inactive":return"bg-yellow-500";case"archived":return"bg-gray-500";default:return"bg-gray-500"}},j=async C=>{if(!C.destination)return;const I=Array.from(e),[D]=I.splice(C.source.index,1);I.splice(C.destination.index,0,D);const G=I.map((B,W)=>({...B,order:W}));t(G);try{const{error:B}=await Y.from("workflows").upsert(G.map(({id:W,order:ue,name:T,status:ne,description:fe})=>({id:W,order:ue,name:T,status:ne,description:fe})));if(B)throw B;ie.success("Workflow order updated successfully")}catch(B){ie.error("Failed to update workflow order"),console.error("Error:",B),S()}},A=async C=>{try{if(!confirm("Are you sure you want to delete this workflow? This will also delete all conversations and logs associated with it."))return;const{data:{user:I}}=await Y.auth.getUser();if(!I)throw new Error("User not authenticated");const{data:D,error:G}=await Y.rpc("safely_delete_workflow",{p_workflow_id:C,p_user_id:I.id});if(G)throw G;D===!0?(ie.success("Workflow and all associated data deleted successfully"),S()):ie.error("You do not have permission to delete this workflow")}catch(I){console.error("Error deleting workflow:",I),ie.error(I instanceof Error?I.message:"Failed to delete workflow")}};return h.jsxs("div",{className:"p-6 bg-[#121212] min-h-screen",children:[h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-[#E0E0E0]",children:"Workflows"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:`inline-flex h-3 w-3 rounded-full ${w==="connected"?"bg-emerald-500":w==="checking"?"bg-yellow-500 animate-pulse":"bg-red-500"}`}),h.jsx("span",{className:"text-sm text-[#757575]",children:w==="connected"?"Connected":w==="checking"?"Checking connection...":"Connection error"}),w==="error"&&h.jsx("button",{onClick:v,className:"ml-2 text-[#BB86FC] hover:text-[#E0E0E0] transition-colors",title:"Retry connection",children:h.jsx(Vn,{className:"w-4 h-4"})})]}),h.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-4 py-2 bg-[#f7ab38] text-white rounded-lg hover:bg-opacity-90 transition-colors",children:[h.jsx(qf,{className:"w-5 h-5 mr-2"}),"Add Workflow"]})]})]}),h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"relative",children:[h.jsx(Kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),h.jsx("input",{type:"text",placeholder:"Search workflows...",value:s,onChange:C=>i(C.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#1F1F1F] text-[#E0E0E0] rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"})]})}),h.jsx(JA,{onDragEnd:j,children:h.jsx(BI,{droppableId:"workflows",children:C=>h.jsxs("div",{...C.droppableProps,ref:C.innerRef,className:"space-y-4",children:[r?h.jsx("div",{className:"bg-[#1F1F1F] p-8 rounded-lg flex justify-center",children:h.jsx(Vn,{className:"w-6 h-6 animate-spin text-[#E0E0E0]"})}):b?h.jsxs("div",{className:"bg-[#1F1F1F] p-8 rounded-lg flex items-center justify-center space-x-3 text-red-500",children:[h.jsx(r0,{className:"w-6 h-6"}),h.jsx("span",{children:b})]}):e.length===0?h.jsx("div",{className:"bg-[#1F1F1F] p-8 rounded-lg text-center text-[#757575]",children:"No workflows found"}):e.map((I,D)=>h.jsx(yI,{draggableId:I.id,index:D,children:G=>h.jsxs("div",{ref:G.innerRef,...G.draggableProps,...G.dragHandleProps,className:"bg-[#1F1F1F] rounded-lg border border-[#2D2D2D] p-4 hover:border-[#f7ab38] transition-colors","data-workflow-id":I.id,children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(FS,{className:"w-5 h-5 text-[#757575] cursor-move"}),h.jsxs("h3",{className:"text-[#E0E0E0] font-medium",children:[I.display_name||I.name,I.display_name&&h.jsxs("span",{className:"text-[#757575] text-sm ml-2",children:["(",I.name,")"]})]})]}),I.description&&h.jsx("p",{className:"text-[#757575] text-sm",children:I.description}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(I.status)} text-white`,children:I.status}),h.jsxs("span",{className:"text-[#757575] text-sm",children:["Created: ",new Date(I.created_at).toLocaleDateString()]}),h.jsxs("span",{className:"text-[#757575] text-sm",children:["Updated: ",new Date(I.updated_at).toLocaleDateString()]})]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>{d(I),c(!0)},className:"text-[#f7ab38] hover:text-[#E0E0E0] transition-colors",children:h.jsx(VS,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>p(f===I.id?null:I.id),className:`text-[#f7ab38] hover:text-[#E0E0E0] transition-colors ${f===I.id?"text-[#E0E0E0]":""}`,children:h.jsx(i0,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>A(I.id),className:"text-red-500 hover:text-red-400 transition-colors",children:h.jsx(Jl,{className:"w-5 h-5"})})]})]}),f===I.id&&h.jsx("div",{className:"mt-4 border-t border-[#2D2D2D] pt-4",children:h.jsx(G2,{workflowId:I.id})})]})},I.id)),C.placeholder]})})}),h.jsxs("div",{className:"mt-4 flex justify-between items-center text-[#757575]",children:[h.jsx("button",{onClick:()=>a(C=>Math.max(1,C-1)),disabled:o===1,className:"px-4 py-2 disabled:opacity-50",children:"Previous"}),h.jsxs("span",{children:["Page ",o]}),h.jsx("button",{onClick:()=>a(C=>C+1),disabled:e.length<m,className:"px-4 py-2 disabled:opacity-50",children:"Next"})]})]}),l&&h.jsx(W2,{workflow:u,onClose:()=>{c(!1),d(null)},onSave:()=>{c(!1),d(null),S()}})]})}const zI=3,VI=1e3;async function vx(e,t=zI,r=VI){try{return await e()}catch(n){if(t>0)return await new Promise(s=>setTimeout(s,r)),vx(e,t-1,r*1.5);throw n}}function WI(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(""),[o,a]=x.useState("email"),[l,c]=x.useState("asc"),[u,d]=x.useState([]),[f,p]=x.useState(!1),[w,g]=x.useState(null),[b,y]=x.useState(1),m=10,{register:v,handleSubmit:S,formState:{errors:k,isSubmitting:j},reset:A,setValue:C}=ih({resolver:oh(z2),defaultValues:{email:"",company_name:"",role:"user"}});x.useEffect(()=>{w&&(C("email",w.email),C("company_name",w.company_name),C("role",w.role))},[w,C]),x.useEffect(()=>{I()},[b,o,l,s]);const I=async()=>{try{n(!0);let T=Y.from("profiles").select("*").order(o,{ascending:l==="asc"}).range((b-1)*m,b*m-1);s&&(T=T.or(`email.ilike.%${s}%,company_name.ilike.%${s}%`));const{data:ne,error:fe}=await vx(async()=>{const $=await T;if($.error)throw $.error;return $});if(fe)throw fe;t(ne||[])}catch(T){console.error("Error fetching users:",T),ie.error(T.message==="Failed to fetch"?"Unable to connect to the server. Please check your internet connection and try again.":`Failed to fetch users: ${T.message}`),t([])}finally{n(!1)}},D=T=>{T===o?c(l==="asc"?"desc":"asc"):(a(T),c("asc"))},G=T=>{d(T?e.map(ne=>ne.id):[])},B=(T,ne)=>{d(fe=>ne?[...fe,T]:fe.filter($=>$!==T))},W=async T=>{if(u.length)try{switch(T){case"delete":if(!confirm("Are you sure you want to delete the selected users?"))return;await Y.from("profiles").delete().in("id",u);break;case"activate":case"deactivate":await Y.from("profiles").update({status:T==="activate"}).in("id",u);break}ie.success(`Successfully ${T}d selected users`),d([]),I()}catch(ne){ie.error(`Failed to ${T} users`),console.error("Error:",ne)}},ue=async T=>{try{if(console.log("Form submission started:",T),w){if(T.password){const{error:fe}=await Y.auth.admin.updateUserById(w.id,{password:T.password});if(fe)throw console.error("Password update error:",fe),fe}const{error:ne}=await Y.from("profiles").update({company_name:T.company_name,role:T.role,updated_at:new Date().toISOString()}).eq("id",w.id);if(ne)throw console.error("Profile update error:",ne),ne;ie.success("User updated successfully")}else{const{data:ne,error:fe}=await Y.auth.signUp({email:T.email,password:T.password,options:{data:{company_name:T.company_name,role:T.role}}});if(fe)throw console.error("User signup error:",fe),fe;console.log("User created successfully:",ne),ie.success("User created successfully")}await I(),p(!1),A()}catch(ne){console.error("Error:",ne),ie.error(ne instanceof Error?ne.message:"Failed to save user")}};return h.jsx("div",{className:"p-6 bg-[#121212] min-h-screen",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-2xl font-bold text-white",children:"User Management"}),h.jsxs("button",{onClick:()=>{g(null),p(!0)},className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[h.jsx(qf,{className:"w-5 h-5 mr-2"}),"Add New User"]})]}),h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[h.jsx(Kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),h.jsx("input",{type:"text",placeholder:"Search users...",value:s,onChange:T=>i(T.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#1F1F1F] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),u.length>0&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:()=>W("activate"),className:"px-3 py-1.5 bg-emerald-600 text-white rounded hover:bg-emerald-700 transition-colors",children:"Activate"}),h.jsx("button",{onClick:()=>W("deactivate"),className:"px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors",children:"Deactivate"}),h.jsx("button",{onClick:()=>W("delete"),className:"px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Delete"})]})]}),h.jsx("div",{className:"overflow-x-auto rounded-lg border border-[#2D2D2D]",children:h.jsxs("table",{className:"w-full border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-[#1F1F1F]",children:[h.jsx("th",{className:"p-4 text-left",children:h.jsx("input",{type:"checkbox",checked:u.length===e.length,onChange:T=>G(T.target.checked),className:"rounded border-gray-400 text-emerald-600 focus:ring-emerald-500"})}),["email","company_name","role","last_login","status"].map(T=>h.jsx("th",{onClick:()=>D(T),className:"p-4 text-left text-gray-400 font-medium cursor-pointer",children:h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("span",{children:T.replace("_"," ").toUpperCase()}),o===T&&(l==="asc"?h.jsx($S,{className:"w-4 h-4"}):h.jsx(Hf,{className:"w-4 h-4"}))]})},T)),h.jsx("th",{className:"p-4 text-left text-gray-400 font-medium",children:"ACTIONS"})]})}),h.jsx("tbody",{children:r?h.jsx("tr",{children:h.jsx("td",{colSpan:7,className:"text-center py-8",children:h.jsx(zs,{className:"w-6 h-6 animate-spin mx-auto text-emerald-500"})})}):e.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:7,className:"text-center py-8 text-gray-400",children:"No users found"})}):e.map(T=>h.jsxs("tr",{className:"border-t border-[#2D2D2D] hover:bg-[#1A1A1A]",children:[h.jsx("td",{className:"p-4",children:h.jsx("input",{type:"checkbox",checked:u.includes(T.id),onChange:ne=>B(T.id,ne.target.checked),className:"rounded border-gray-400 text-emerald-600 focus:ring-emerald-500"})}),h.jsx("td",{className:"p-4 text-white",children:T.email}),h.jsx("td",{className:"p-4 text-white",children:T.company_name}),h.jsx("td",{className:"p-4",children:h.jsx("span",{className:`px-2 py-1 rounded text-sm ${T.role==="admin"?"bg-purple-600":T.role==="manager"?"bg-blue-600":"bg-gray-600"} text-white`,children:T.role})}),h.jsx("td",{className:"p-4 text-gray-400",children:new Date(T.last_login).toLocaleString()}),h.jsx("td",{className:"p-4",children:h.jsx("button",{onClick:async()=>{try{await Y.from("profiles").update({status:!T.status}).eq("id",T.id),await I()}catch{ie.error("Failed to update user status")}},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${T.status?"bg-emerald-600":"bg-gray-600"}`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${T.status?"translate-x-6":"translate-x-1"}`})})}),h.jsx("td",{className:"p-4",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:()=>{g(T),p(!0)},className:"p-1 text-blue-400 hover:text-blue-300 transition-colors",children:h.jsx(BS,{className:"w-4 h-4"})}),h.jsx("button",{onClick:async()=>{if(confirm("Are you sure you want to delete this user?"))try{await Y.from("profiles").delete().eq("id",T.id),await I(),ie.success("User deleted successfully")}catch{ie.error("Failed to delete user")}},className:"p-1 text-red-400 hover:text-red-300 transition-colors",children:h.jsx(Jl,{className:"w-4 h-4"})})]})})]},T.id))})]})}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"text-gray-400",children:["Showing ",(b-1)*m+1," to ",Math.min(b*m,e.length)," of ",e.length," users"]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:()=>y(T=>Math.max(1,T-1)),disabled:b===1,className:"px-3 py-1 bg-[#1F1F1F] text-white rounded disabled:opacity-50",children:"Previous"}),h.jsxs("span",{className:"text-white",children:["Page ",b]}),h.jsx("button",{onClick:()=>y(T=>T+1),disabled:e.length<m,className:"px-3 py-1 bg-[#1F1F1F] text-white rounded disabled:opacity-50",children:"Next"})]})]}),f&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:h.jsx("div",{className:"bg-[#1F1F1F] rounded-lg w-full max-w-md",children:h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-xl font-bold text-white",children:w?"Edit User":"Add New User"}),h.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-white transition-colors",children:h.jsx(Zf,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:S(ue),className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email Address"}),h.jsx("input",{...v("email"),type:"email",disabled:!!w,className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50",placeholder:"Enter email address"}),k.email&&h.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.email.message})]}),!w&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Password"}),h.jsx("input",{...v("password"),type:"password",className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Enter password"}),k.password&&h.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.password.message})]}),w&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"New Password (optional)"}),h.jsx("input",{...v("password"),type:"password",className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Enter new password"}),k.password&&h.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.password.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Confirm New Password"}),h.jsx("input",{...v("confirmPassword"),type:"password",className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Confirm new password"}),k.confirmPassword&&h.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.confirmPassword.message})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Company Name"}),h.jsx("input",{...v("company_name"),type:"text",className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Enter company name"}),k.company_name&&h.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.company_name.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Role"}),h.jsxs("select",{...v("role"),className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[h.jsx("option",{value:"user",children:"User"}),h.jsx("option",{value:"manager",children:"Manager"}),h.jsx("option",{value:"admin",children:"Admin"})]}),k.role&&h.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.role.message})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 flex items-center",children:j?h.jsxs(h.Fragment,{children:[h.jsx(zs,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):"Save User"})]})]})]})})})]})})}const GI=me.object({company_name:me.string().min(1,"Company name is required"),email:me.string().email("Invalid email format").min(1,"Email is required"),current_password:me.string().optional(),new_password:me.string().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least 1 uppercase letter").regex(/[a-z]/,"Password must contain at least 1 lowercase letter").regex(/[0-9]/,"Password must contain at least 1 number").regex(/[^A-Za-z0-9]/,"Password must contain at least 1 special character").optional(),confirm_password:me.string().optional()}).refine(e=>!(e.new_password&&!e.current_password),{message:"Current password is required when setting a new password",path:["current_password"]}).refine(e=>e.new_password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]});function HI(){const[e,t]=x.useState(null),[r,n]=x.useState(!0),[s,i]=x.useState(!1);x.useState(!1);const o=Gf(),{register:a,handleSubmit:l,formState:{errors:c},reset:u,formState:{isDirty:d}}=ih({resolver:oh(GI)});x.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0);const{data:{user:g}}=await Y.auth.getUser();if(!g)throw new Error("Not authenticated");const{data:b,error:y}=await Y.from("profiles").select("*").eq("id",g.id).single();if(y)throw y;t(b),u({email:b.email,company_name:b.company_name||""})}catch(g){console.error("Error fetching profile:",g),ie.error("Failed to load profile")}finally{n(!1)}},p=async g=>{try{i(!0);const{data:{user:b}}=await Y.auth.getUser();if(!b)throw new Error("Not authenticated");const{error:y}=await Y.from("profiles").update({company_name:g.company_name,updated_at:new Date().toISOString()}).eq("id",b.id);if(y)throw y;if(g.new_password&&g.current_password){const{error:m}=await Y.auth.updateUser({password:g.new_password});if(m)throw m}ie.success("Profile updated successfully"),await f()}catch(b){console.error("Error updating profile:",b),ie.error(b instanceof Error?b.message:"Failed to update profile")}finally{i(!1)}},w=()=>{d&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||o(-1)};return r?h.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center",children:h.jsx(zs,{className:"w-8 h-8 animate-spin text-[#BB86FC]"})}):h.jsx("div",{className:"min-h-screen bg-[#121212] p-6",children:h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold text-[#E0E0E0] mb-8",children:"Profile Settings"}),h.jsx("div",{className:"bg-[#1F1F1F] rounded-lg p-6",children:h.jsxs("form",{onSubmit:l(p),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"Email Address"}),h.jsx("input",{...a("email"),type:"email",readOnly:!0,className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38] opacity-50 cursor-not-allowed"}),c.email&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.email.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"Company Name"}),h.jsx("input",{...a("company_name"),type:"text",className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"}),c.company_name&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.company_name.message})]}),h.jsxs("div",{className:"pt-4 border-t border-[#3D3D3D]",children:[h.jsx("h3",{className:"text-lg font-medium text-[#E0E0E0] mb-4",children:"Change Password"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"Current Password"}),h.jsx("input",{...a("current_password"),type:"password",className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"}),c.current_password&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.current_password.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"New Password"}),h.jsx("input",{...a("new_password"),type:"password",className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"}),c.new_password&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.new_password.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"Confirm New Password"}),h.jsx("input",{...a("confirm_password"),type:"password",className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"}),c.confirm_password&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.confirm_password.message})]})]})]}),h.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[h.jsx("button",{type:"button",onClick:w,className:"px-6 py-2 text-[#E0E0E0] hover:text-[#f7ab38] transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-[#f7ab38] text-white rounded-lg hover:bg-opacity-90 transition-colors disabled:opacity-50 flex items-center space-x-2",children:s?h.jsxs(h.Fragment,{children:[h.jsx(zs,{className:"w-4 h-4 animate-spin"}),h.jsx("span",{children:"Saving..."})]}):h.jsx("span",{children:"Save Changes"})})]})]})})]})})}function qI(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,i]=x.useState(null),[o,a]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(!1),[f,p]=x.useState("");x.useEffect(()=>{w()},[]);const w=async()=>{try{c(!0),console.log("PermissionsManagement: Starting to fetch data...");const{data:{user:v}}=await Y.auth.getUser();console.log("PermissionsManagement: Current user:",v);const{data:S,error:k}=await Y.from("profiles").select("*").order("email");if(console.log("PermissionsManagement: Fetched users:",S),k)throw k;const{data:j,error:A}=await Y.from("workflows").select("*").eq("status","active").order("name");if(console.log("PermissionsManagement: Fetched workflows:",j),console.log("PermissionsManagement: Workflows query error:",A),A)throw A;t(S||[]),n(j||[])}catch(v){console.error("PermissionsManagement: Error fetching data:",v),ie.error("Failed to load data")}finally{c(!1)}},g=async v=>{try{const{data:S,error:k}=await Y.from("user_workflows").select("workflow_id").eq("user_id",v);if(k)throw k;a(S.map(j=>({userId:v,workflowId:j.workflow_id})))}catch(S){console.error("Error fetching permissions:",S),ie.error("Failed to load user permissions")}},b=async v=>{i(v),await g(v)},y=v=>{s&&a(S=>S.some(j=>j.userId===s&&j.workflowId===v)?S.filter(j=>!(j.userId===s&&j.workflowId===v)):[...S,{userId:s,workflowId:v}])},m=async()=>{if(s)try{d(!0);const{error:v}=await Y.from("user_workflows").delete().eq("user_id",s);if(v)throw v;if(o.length>0){const{error:S}=await Y.from("user_workflows").insert(o.map(k=>({user_id:k.userId,workflow_id:k.workflowId})));if(S)throw S}ie.success("Permissions saved successfully")}catch(v){console.error("Error saving permissions:",v),ie.error("Failed to save permissions")}finally{d(!1)}};return l?h.jsx("div",{className:"p-6 flex justify-center",children:h.jsx(Vn,{className:"w-6 h-6 animate-spin text-[#BB86FC]"})}):h.jsx("div",{className:"p-6 bg-[#121212] min-h-screen",children:h.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-2xl font-bold text-[#E0E0E0]",children:"Workflow Permissions"}),h.jsx("button",{onClick:w,className:"text-[#BB86FC] hover:text-[#E0E0E0] transition-colors",title:"Refresh data",children:h.jsx(Vn,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"bg-[#1F1F1F] rounded-lg p-6 space-y-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-[#E0E0E0]",children:"Manage User Permissions"}),h.jsx("p",{className:"text-[#757575]",children:"Control which workflows each user can access"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0]",children:"Select User"}),h.jsxs("div",{className:"relative",children:[h.jsx(Kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#757575] w-5 h-5"}),h.jsx("input",{type:"text",placeholder:"Search users...",value:f,onChange:v=>p(v.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#BB86FC]"})]}),h.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:e.filter(v=>v.email.toLowerCase().includes(f.toLowerCase())).map(v=>h.jsx("button",{onClick:()=>b(v.id),className:`w-full text-left px-4 py-2 rounded-lg transition-colors ${s===v.id?"bg-[#BB86FC] text-white":"text-[#E0E0E0] hover:bg-[#2C2C2C]"}`,children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{children:v.email}),h.jsx("span",{className:`text-sm px-2 py-0.5 rounded ${v.role==="admin"?"bg-purple-600":v.role==="manager"?"bg-blue-600":"bg-gray-600"}`,children:v.role})]})},v.id))})]}),s&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-medium text-[#E0E0E0]",children:"Workflow Access"}),h.jsx("button",{onClick:m,disabled:u,className:"flex items-center px-4 py-2 bg-[#BB86FC] text-white rounded-lg hover:bg-opacity-90 transition-colors disabled:opacity-50",children:u?h.jsxs(h.Fragment,{children:[h.jsx(Vn,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(US,{className:"w-4 h-4 mr-2"}),"Save Permissions"]})})]}),h.jsx("div",{className:"space-y-2",children:r.length===0?h.jsx("div",{className:"text-center py-4 text-[#757575]",children:"No workflows available"}):r.map(v=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#2C2C2C] rounded-lg",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-[#E0E0E0] font-medium",children:v.name}),v.description&&h.jsx("p",{className:"text-sm text-[#757575]",children:v.description})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.some(S=>S.userId===s&&S.workflowId===v.id),onChange:()=>y(v.id)}),h.jsx("div",{className:"w-11 h-6 bg-[#3D3D3D] peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-[#BB86FC] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#BB86FC]"})]})]},v.id))})]})]})]})})}async function _a(e,t,r,n,s){try{const{error:i}=await e.from("workflow_logs").insert({workflow_id:t,level:r,message:n,details:s});i&&console.error("Failed to log workflow event:",i)}catch(i){console.error("Error logging workflow event:",i)}}function ZI(){const e=Gf(),[t,r]=x.useState(null),[n,s]=x.useState(!0),[i,o]=x.useState(""),[a,l]=x.useState([]),[c,u]=x.useState(null),[d,f]=x.useState("New Chat"),[p,w]=x.useState(!1),[g,b]=x.useState(null),[y,m]=x.useState(null),[v,S]=x.useState(null),k=x.useRef(null),[j,A]=x.useState(0),[C,I]=x.useState(null),[D,G]=x.useState(null),B=!g||p,W=async N=>{try{const L=document.querySelector(`[data-message-id="${N}"]`);L&&await navigator.clipboard.writeText(L.textContent||""),m(N),setTimeout(()=>m(null),2e3)}catch(L){console.error("Failed to copy text:",L)}},ue=N=>{let L=N.replace(/<a\s+(?:[^>]*?\s+)?href=(["'])(.*?)\1[^>]*>(.*?)<\/a>/g,"%%%LINK$1$2$1$3%%%").replace(/<sup\s+class="citation">(.*?)<\/sup>/g,"%%%CITATION$1%%%").replace(/^(#{1,6})\s+(.+)$/gm,(X,z,oe)=>{const K=7-z.length;return`<h${z.length} class="text-${K}xl font-bold mb-4">${oe}</h${z.length}>`}).replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,(X,z,oe)=>`<a href="${oe.startsWith("http")?oe:`https://${oe}`}" target="_blank" rel="noopener noreferrer" class="text-[#BB86FC] hover:text-[#9B66DC] underline">${z}</a>`).replace(/^\s*[*-]\s+(.+)$/gm,"<li>$1</li>").split(`
`).map(X=>X.trim()).filter(X=>X).map(X=>X.startsWith("<")?X:`<p>${X}</p>`).join(`
`).replace(/%%%LINK(["'])(.*?)\1(.*?)%%%/g,'<a href="$2" target="_blank" rel="noopener noreferrer" class="text-[#BB86FC] hover:text-[#9B66DC] underline">$3</a>').replace(/%%%CITATION(.*?)%%%/g,'<sup class="citation">$1</sup>');return L=L.replace(/(<li>.*<\/li>\n*)+/g,'<ul class="list-disc pl-6 space-y-2 my-4">$&</ul>').replace(/\n{3,}/g,`
`).trim(),L},T=async()=>{await Y.auth.signOut(),e("/")},ne=async N=>{var X;if(N.preventDefault(),!i.trim()&&!v)return;const L=new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"});try{if(!g)throw new Error("Please select a workflow first");if(!t)throw new Error("You must be logged in to send messages");let z=null,oe=null,K=c;if(v){oe=Date.now();const He=(X=v.name.split(".").pop())==null?void 0:X.toLowerCase(),De=He&&["png","jpg","jpeg","gif"].includes(He);if(De&&!(g!=null&&g.supports_images))throw new Error("Image uploads are not supported for this workflow");if(!De&&!(g!=null&&g.supports_documents))throw new Error("Document uploads are not supported for this workflow");const Xt=De?"images":"documents",ss=`${t.id}/${crypto.randomUUID()}.${He}`;await _a(Y,g.id,"info","Starting file upload",{fileType:De?"image":"document",fileName:v.name,fileSize:v.size,bucket:Xt});const{error:qo,data:Oc}=await Y.storage.from(Xt).upload(ss,v,{onUploadProgress:Ko=>{A(Ko.loaded/Ko.total*100)}});if(qo)throw qo;const Zo=Date.now()-oe,{data:is}=Y.storage.from(Xt).getPublicUrl(ss);if(!(is!=null&&is.publicUrl))throw new Error("Failed to generate public URL for uploaded file");z=is.publicUrl,await _a(Y,g.id,"info","File uploaded successfully",{filePath:ss,duration:Zo,documentUrl:z,fileType:De?"image":"document"})}if(!K){const{data:He,error:De}=await Y.from("conversations").insert({title:"New Chat",workflow_id:g.id,created_by:t.id}).select().single();if(De)throw De;K=He.id,u(He.id),f("New Chat")}const{error:Xe}=await Y.from("messages").insert({conversation_id:K,sender_type:"user",text:i,document_url:z});if(Xe)throw Xe;const Ge={id:crypto.randomUUID(),type:"user",text:i,document_url:z,timestamp:L,isFollowUp:!!C};o(""),l(He=>[...He,Ge]),w(!0);const xt=await B0({workerId:g.worker_id,apiAuthToken:g.api_auth_token,apiConfig:{method:"post",url:"https://api.mindstudio.ai/developer/v2/workers/run",content_type:"application/json"},variables:{request:i,workflowId:g.id,workflowName:g.name,documentUrl:z,...C&&{previousAnswer:C}}});if(!xt.data||typeof xt.data.response!="string")throw new Error("Invalid response format from API");const zr=ue(xt.data.response),{error:Yt}=await Y.from("messages").insert({conversation_id:K,sender_type:"assistant",text:zr});if(Yt)throw Yt;const Vr={id:crypto.randomUUID(),type:"assistant",text:zr,timestamp:L};if(l(He=>[...He,Vr]),I(zr),!c){const{error:He}=await Y.from("conversations").update({title:i}).eq("id",K);if(He)console.error("Failed to update conversation title:",He);else{f(i);const De=new CustomEvent("conversationUpdated");window.dispatchEvent(De)}}await _a(Y,g.id,"info","Message exchange completed successfully",{conversationId:K,requestLength:i.length,responseLength:zr.length,hadDocument:!!z,isFollowUp:!!C})}catch(z){console.error("Error in message submission:",z);const oe={id:crypto.randomUUID(),type:"assistant",text:z instanceof Error?z.message:"An unexpected error occurred",timestamp:L};l(K=>[...K,oe]),g&&await _a(Y,g.id,"error","Error processing message",{error:z instanceof Error?z.message:"Unknown error",stack:z instanceof Error?z.stack:void 0,context:{message:i,documentUrl,previousAnswer:C,isFollowUp:!!C}}),ie.error("Failed to process message")}finally{w(!1),S(null),A(0)}};x.useEffect(()=>{if(!Y){G("Supabase client not initialized. Please check your environment variables.");return}(async()=>{try{const{data:{session:X},error:z}=await Y.auth.getSession();if(z)if(z.message.includes("session_not_found")){const{data:{session:oe},error:K}=await Y.auth.refreshSession();if(K||!oe){await Y.auth.signOut(),e("/");return}r(oe.user)}else throw z;else r((X==null?void 0:X.user)??null)}catch(X){console.error("Session initialization error:",X),G("Failed to initialize session. Please try logging in again."),await Y.auth.signOut(),e("/")}finally{s(!1)}})();const{data:{subscription:L}}=Y.auth.onAuthStateChange(async(X,z)=>{z!=null&&z.user?r(z.user):(r(null),e("/"))});return()=>L.unsubscribe()},[e]),x.useEffect(()=>{c&&$(c)},[c]);const fe=()=>{var N;(N=k.current)==null||N.scrollIntoView({behavior:"smooth"})};x.useEffect(()=>{fe()},[a]);const $=async N=>{try{const{data:L,error:X}=await Y.from("messages").select("*").eq("conversation_id",N).order("created_at",{ascending:!0});if(X)throw X;const z=L.map(K=>({id:K.id,type:K.sender_type,text:K.text,document_url:K.document_url,timestamp:new Date(K.created_at).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}));l(z);const{data:oe}=await Y.from("conversations").select("title").eq("id",N).single();oe&&f(oe.title),fe()}catch(L){console.error("Error loading messages:",L),ie.error("Failed to load conversation messages")}};return h.jsx(lC,{onSignOut:T,user:!0,children:h.jsxs(B1,{children:[h.jsx(ds,{path:"/workflows",element:h.jsx(UI,{})}),h.jsx(ds,{path:"/users",element:h.jsx(WI,{})}),h.jsx(ds,{path:"/permissions",element:h.jsx(qI,{})}),h.jsx(ds,{path:"/profile",element:h.jsx(HI,{})}),h.jsx(ds,{path:"/",element:h.jsxs("div",{className:"flex h-screen bg-[#121212]",children:[h.jsx(cC,{onNewChat:()=>{l([]),u(null),f("New Chat"),b(null),I(null)},selectedChat:c,selectedWorkflow:g,onSelectWorkflow:b,onSelectChat:u}),h.jsxs("div",{className:"flex-1 flex flex-col relative",children:[h.jsx("div",{className:"bg-[#1F1F1F] p-4 border-b border-[#2D2D2D] shadow-lg",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-[#E0E0E0] text-lg font-medium",children:d}),g&&h.jsxs("span",{className:"text-sm text-[#BB86FC]",children:["Using: ",g.display_name||g.name]})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[!g&&h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4",children:[h.jsx(Nd,{className:"w-16 h-16 text-[#757575]"}),h.jsxs("div",{className:"max-w-md space-y-2",children:[h.jsx("h3",{className:"text-xl font-medium text-[#E0E0E0]",children:"Select a Workflow to Start"}),h.jsx("p",{className:"text-[#757575]",children:"Choose a workflow from the dropdown menu above to begin your conversation."})]})]}),a.map(N=>h.jsx("div",{className:"flex flex-col animate-fade-in",children:h.jsxs("div",{className:`flex flex-col ${N.type==="user"?"items-end":"items-start"}`,children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[h.jsx("span",{className:"text-sm text-[#757575]",children:N.type==="user"?N.isFollowUp?"Your Follow-up":"Your Question":"Sharon's Answer"}),h.jsx("button",{onClick:()=>W(N.id),className:"text-[#757575] hover:text-accent transition-colors",children:y===N.id?h.jsx(s0,{className:"w-4 h-4"}):h.jsx(LS,{className:"w-4 h-4"})})]}),h.jsx("div",{className:`relative p-4 rounded-2xl shadow-md max-w-2xl w-full ${N.type==="user"?"bg-[#3871f7] text-[#E0E0E0]":"bg-[#2C2C2C] text-[#E0E0E0] prose prose-invert prose-headings:text-[#E0E0E0] prose-a:text-accent prose-a:no-underline hover:prose-a:underline"}`,"data-message-id":N.id,children:N.type==="assistant"?h.jsx("div",{children:h.jsx("div",{className:"prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:N.text}})}):h.jsxs("div",{children:[h.jsx("p",{children:N.text}),N.document_url&&h.jsx("div",{className:"mt-2",children:N.document_url.match(/\.(jpg|jpeg|png|gif)$/i)?h.jsx("img",{src:N.document_url,alt:"Uploaded image",className:"max-w-full h-auto rounded-lg"}):h.jsxs("a",{href:N.document_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 bg-[#1A1A1A] p-2 rounded hover:bg-[#2D2D2D] transition-colors",children:[h.jsx(nm,{className:"w-5 h-5 text-[#757575]"}),h.jsx("span",{className:"text-[#757575] text-sm",children:"View document"})]})})]})}),h.jsx("span",{className:"text-[#757575] text-sm mt-1",children:N.timestamp})]})},N.id)),h.jsx("div",{ref:k}),p&&h.jsxs("div",{className:"flex flex-col items-start animate-fade-in",children:[h.jsx("span",{className:"text-sm text-[#757575] mb-1",children:"Sharon's working..."}),h.jsxs("div",{className:"bg-[#2C2C2C] p-4 rounded-2xl shadow-md flex items-center space-x-2 animate-pulse",children:[h.jsx(zs,{className:"w-5 h-5 text-accent animate-spin"}),h.jsx("span",{className:"text-[#E0E0E0]",children:"Processing your request..."})]})]})]}),h.jsx("div",{className:"sticky bottom-0 p-4 bg-[#121212] border-t border-[#2D2D2D] shadow-lg",children:h.jsxs("form",{onSubmit:ne,className:"flex space-x-3",children:[((g==null?void 0:g.supports_documents)||(g==null?void 0:g.supports_images))&&h.jsxs("div",{className:`relative ${B?"opacity-50 cursor-not-allowed":""}`,title:g!=null&&g.supports_documents&&(g!=null&&g.supports_images)?"Upload documents (.pdf, .doc, .docx, .txt) or images (.png, .jpg, .jpeg, .gif)":g!=null&&g.supports_documents?"Upload documents (.pdf, .doc, .docx, .txt)":"Upload images (.png, .jpg, .jpeg, .gif)",children:[h.jsx("input",{type:"file",onChange:N=>{var L;return S(((L=N.target.files)==null?void 0:L[0])||null)},className:"hidden",id:"file-upload",accept:`${g!=null&&g.supports_documents?".pdf,.doc,.docx,.txt":""}${g!=null&&g.supports_documents&&(g!=null&&g.supports_images)?",":""}${g!=null&&g.supports_images?".png,.jpg,.jpeg,.gif":""}`,disabled:B}),h.jsx("label",{htmlFor:"file-upload",className:`flex items-center justify-center w-12 h-12 rounded-xl transition-colors ${v?"bg-emerald-600":"bg-[#2C2C2C]"} ${B?"cursor-not-allowed":"cursor-pointer hover:opacity-90"}`,children:h.jsx(WS,{className:"w-5 h-5 text-white"})}),v&&h.jsxs("div",{className:"absolute bottom-full mb-2 left-0 bg-[#2C2C2C] text-white text-sm rounded-lg p-4 min-w-[200px] max-w-[300px]",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"truncate",children:v.name}),h.jsx("button",{onClick:N=>{N.preventDefault(),S(null)},className:"ml-2 text-gray-400 hover:text-white",children:h.jsx(Zf,{className:"w-4 h-4"})})]}),j>0&&j<100?h.jsx("div",{className:"w-full h-1 bg-gray-700 rounded-full",children:h.jsx("div",{className:"h-full bg-emerald-600 rounded-full",style:{width:`${j}%`}})}):h.jsx("div",{className:"mt-2",children:v.type.startsWith("image/")?h.jsx("img",{src:URL.createObjectURL(v),alt:"Preview",className:"w-full h-auto rounded-lg",onLoad:()=>URL.revokeObjectURL(URL.createObjectURL(v))}):h.jsxs("div",{className:"flex items-center space-x-2 bg-[#1A1A1A] p-2 rounded",children:[h.jsx(nm,{className:"w-5 h-5 text-[#757575]"}),h.jsx("span",{className:"text-[#757575] text-xs",children:v.type||"Document"})]})})]})]}),h.jsx("textarea",{rows:1,onKeyDown:N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),ne(N))},value:i,onChange:N=>{if(!g){ie.error("Please select a workflow first");return}N.target.style.height="auto",N.target.style.height=`${N.target.scrollHeight}px`,o(N.target.value)},placeholder:g?"Type your message...":"Select a workflow to start chatting",className:`flex-1 bg-[#2C2C2C] text-white px-4 py-3 rounded-xl placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-accent transition-shadow ${B?"opacity-50 cursor-not-allowed":""} resize-none overflow-hidden min-h-[48px] max-h-[200px]`,disabled:B}),h.jsx("button",{type:"submit",className:`bg-accent text-white p-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-[#121212] transition-all ${B||!i.trim()&&!v?"opacity-50 cursor-not-allowed":"hover:bg-opacity-90"}`,disabled:B||!i.trim()&&!v,children:h.jsx(zS,{className:"w-5 h-5"})})]})})]})]})})]})})}class KI extends x.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){var t;return this.state.hasError?h.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-[#1F1F1F] rounded-lg p-8 max-w-md w-full space-y-6 text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(n0,{className:"w-16 h-16 text-red-500"})}),h.jsx("h1",{className:"text-2xl font-bold text-white",children:"Something went wrong"}),h.jsx("p",{className:"text-[#757575]",children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred"}),h.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-[#BB86FC] text-white rounded-lg hover:bg-opacity-90 transition-colors",children:"Reload Page"})]})}):this.props.children}}Bv(document.getElementById("root")).render(h.jsx(x.StrictMode,{children:h.jsx(V1,{children:h.jsx(KI,{children:h.jsx(ZI,{})})})}));export{Zd as g};
